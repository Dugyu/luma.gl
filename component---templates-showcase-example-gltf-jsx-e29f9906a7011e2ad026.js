(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},"1KK4":function(e,t){t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},20:function(e,t){},21:function(e,t){},"5mdu":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},"6VoE":function(e,t,n){var r=n("tiKp"),i=n("P4y1"),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},7:function(e,t){},"75fp":function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return s}));var a=1,o=1,s=function(){function e(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}var t=e.prototype;return t.addChannel=function(e){var t=e.delay,n=void 0===t?0:t,r=e.duration,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.rate,s=void 0===o?1:o,u=e.repeat,c=a++,l={time:0,delay:n,duration:i,rate:s,repeat:void 0===u?1:u};return this._setChannelTime(l,this.time),this.channels.set(c,l),c},t.removeChannel=function(e){this.channels.delete(e);for(var t,n=r(this.animations);!(t=n()).done;){var i=t.value,a=i[0];i[1].channel===e&&this.detachAnimation(a)}},t.isFinished=function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat},t.getTime=function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time},t.setTime=function(e){this.time=Math.max(0,e);for(var t,n=r(this.channels.values());!(t=n()).done;){var i=t.value;this._setChannelTime(i,this.time)}for(var a,o=r(this.animations.values());!(a=o()).done;){var s=a.value,u=s.animation,c=s.channel;u.setTime(this.getTime(c))}},t.play=function(){this.playing=!0},t.pause=function(){this.playing=!1,this.lastEngineTime=-1},t.reset=function(){this.setTime(0)},t.attachAnimation=function(e,t){var n=o++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n},t.detachAnimation=function(e){this.animations.delete(e)},t.update=function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)},t._setChannelTime=function(e,t){var n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)},e}()},8:function(e,t){},"8GlL":function(e,t,n){"use strict";var r=n("We1y"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},"8go2":function(e,t,n){n("gg6r")},9:function(e,t){},A2ZE:function(e,t,n){var r=n("We1y");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},FFbo:function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function o(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new f,a=n.domBuilder||new i,s=n.errorHandler,u=n.locator,l=n.xmlns||{},h=/\/x?html?$/.test(t),d=h?c.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&a.setDocumentLocator(u),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},a=e instanceof Function;function s(t){var i=e[t];!i&&a&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,a,u),r.domBuilder=n.domBuilder||a,h&&(l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e&&"string"==typeof e?r.parse(e,l,d):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new d).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),s=r.length;u(this,o),this.currentElement=o,this.locator&&a(this.locator,o);for(var c=0;c<s;c++){e=r.getURI(c);var l=r.getValue(c),f=(n=r.getQName(c),i.createAttributeNS(e,n));this.locator&&a(r.getLocator(c),f),f.value=f.nodeValue=l,o.setAttributeNode(f)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&a(this.locator,n),u(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&a(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&a(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&a(this.locator,i),u(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,o(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,o(this.locator))},fatalError:function(e){throw new h(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var c=n("1KK4"),l=n("j3u8"),f=l.XMLReader,h=l.ParseError,d=t.DOMImplementation=n("wd0O").DOMImplementation;t.XMLSerializer=n("wd0O").XMLSerializer,t.DOMParser=r,t.__DOMHandler=i},ImZN:function(e,t,n){var r=n("glrk"),i=n("6VoE"),a=n("UMSQ"),o=n("A2ZE"),s=n("mh/w"),u=n("NaFW"),c=n("KmKo"),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var f,h,d,p,v,m,g,b=n&&n.that,y=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),_=o(t,b,1+y+O),x=function(e){return f&&c(f,"normal",e),new l(!0,e)},j=function(e){return y?(r(e),O?_(e[0],e[1],x):_(e[0],e[1])):O?_(e,x):_(e)};if(w)f=e;else{if(!(h=u(e)))throw TypeError(String(e)+" is not iterable");if(i(h)){for(d=0,p=a(e.length);p>d;d++)if((v=j(e[d]))&&v instanceof l)return v;return new l(!1)}f=s(e,h)}for(m=f.next;!(g=m.call(f)).done;){try{v=j(g.value)}catch(E){c(f,"throw",E)}if("object"==typeof v&&v&&v instanceof l)return v}return new l(!1)}},Iz64:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u}));var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},a=i.global||i.self||i.window||{},o="object"!=typeof r||"[object process]"!==String(r)||r.browser,s="function"==typeof importScripts,u="undefined"!=typeof window&&void 0!==window.orientation,c=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version);c&&parseFloat(c[1])}).call(this,n("yLpj"),n("8oxB"))},JDJB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Is}));var r={};n.r(r),n.d(r,"decode",(function(){return ai})),n.d(r,"encode",(function(){return si}));var i={};n.r(i),n.d(i,"decode",(function(){return vi})),n.d(i,"encode",(function(){return gi}));var a={};n.r(a),n.d(a,"decode",(function(){return wi})),n.d(a,"encode",(function(){return _i}));var o={};n.r(o),n.d(o,"decode",(function(){return Ai})),n.d(o,"encode",(function(){return Si}));var s=n("dI71"),u=n("q1tI"),c=n.n(u),l=n("z0FI"),f=n("rePB"),h=n("JX7q"),d=n("HaE+"),p=n("o0o1"),v=n.n(p);function m(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"3.0.6";m(e,"no worker provided");var n=e.version;return!(!t||!n)}var b=n("1OyB"),y=n("vuIU"),w=n("Iz64"),O=new Map;function _(e){m(e.source&&!e.url||!e.source&&e.url);var t=O.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return x((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),O.set(e.url,t)),e.source&&(t=x(e.source),O.set(e.source,t))),m(t),t}function x(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function j(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var E=function(){},A=function(){function e(t){Object(b.a)(this,e),Object(f.a)(this,"name",void 0),Object(f.a)(this,"source",void 0),Object(f.a)(this,"url",void 0),Object(f.a)(this,"terminated",!1),Object(f.a)(this,"worker",void 0),Object(f.a)(this,"onMessage",void 0),Object(f.a)(this,"onError",void 0),Object(f.a)(this,"_loadableURL","");var n=t.name,r=t.source,i=t.url;m(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=E,this.onError=function(e){return console.log(e)},this.worker=this._createBrowserWorker()}return Object(y.a)(e,[{key:"destroy",value:function(){this.onMessage=E,this.onError=E,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=r||new Set;if(t){if(j(t))i.add(t);else if(j(t.buffer))i.add(t.buffer);else if(ArrayBuffer.isView(t));else if(n&&"object"==typeof t)for(var a in t)e(t[a],n,i)}else;return void 0===r?Array.from(i):[]}(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=_({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}}],[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}]),e}(),T=function(){function e(t,n){var r=this;Object(b.a)(this,e),Object(f.a)(this,"name",void 0),Object(f.a)(this,"workerThread",void 0),Object(f.a)(this,"isRunning",void 0),Object(f.a)(this,"result",void 0),Object(f.a)(this,"_resolve",void 0),Object(f.a)(this,"_reject",void 0),this.name=t,this.workerThread=n,this.isRunning=!0,this._resolve=function(){},this._reject=function(){},this.result=new Promise((function(e,t){r._resolve=e,r._reject=t}))}return Object(y.a)(e,[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){m(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){m(this.isRunning),this.isRunning=!1,this._reject(e)}}]),e}();function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){function e(t){Object(b.a)(this,e),Object(f.a)(this,"name","unnamed"),Object(f.a)(this,"source",void 0),Object(f.a)(this,"url",void 0),Object(f.a)(this,"maxConcurrency",1),Object(f.a)(this,"maxMobileConcurrency",1),Object(f.a)(this,"onDebug",(function(){})),Object(f.a)(this,"reuseWorkers",!0),Object(f.a)(this,"props",{}),Object(f.a)(this,"jobQueue",[]),Object(f.a)(this,"idleQueue",[]),Object(f.a)(this,"count",0),Object(f.a)(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}var t,n;return Object(y.a)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=k(k({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:(n=Object(d.a)(v.a.mark((function e(t){var n,r,i,a=this,o=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:function(e,t,n){return e.done(n)},r=o.length>2&&void 0!==o[2]?o[2]:function(e,t){return e.error(t)},i=new Promise((function(e){return a.jobQueue.push({name:t,onMessage:n,onError:r,onStart:e}),a})),this._startQueuedJob(),e.next=6,i;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_startQueuedJob",value:(t=Object(d.a)(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:if(!(n=this.jobQueue.shift())){e.next=18;break}return this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length}),r=new T(n.name,t),t.onMessage=function(e){return n.onMessage(r,e.type,e.payload)},t.onError=function(e){return n.onError(r,e)},n.onStart(r),e.prev=12,e.next=15,r.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])}))),function(){return t.apply(this,arguments)})},{key:"returnWorkerToQueue",value:function(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new A({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return w.c?this.maxMobileConcurrency:this.maxConcurrency}}]),e}();function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},P=function(){function e(t){Object(b.a)(this,e),Object(f.a)(this,"props",void 0),Object(f.a)(this,"workerPools",new Map),this.props=L({},D),this.setProps(t),this.workerPools=new Map}return Object(y.a)(e,[{key:"destroy",value:function(){var e,t=N(this.workerPools.values());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}},{key:"setProps",value:function(e){this.props=L(L({},this.props),e);var t,n=N(this.workerPools.values());try{for(n.s();!(t=n.n()).done;){t.value.setProps(this._getWorkerPoolProps())}}catch(r){n.e(r)}finally{n.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,n=e.source,r=e.url,i=this.workerPools.get(t);return i||((i=new I({name:t,source:n,url:r})).setProps(this._getWorkerPoolProps()),this.workerPools.set(t,i)),i}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}],[{key:"isSupported",value:function(){return A.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}]),e}();Object(f.a)(P,"_workerFarm",void 0);function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t[e.id]||{},r="".concat(e.id,"-worker.js"),i=n.workerUrl;if("test"===t._workerType&&(i="modules/".concat(e.module,"/dist/").concat(r)),!i){var a=e.version;"latest"===a&&(a="latest");var o=a?"@".concat(a):"";i="https://unpkg.com/@loaders.gl/".concat(e.module).concat(o,"/dist/").concat(r)}return m(i),i}function B(e,t){return!!P.isSupported()&&(e.worker&&(null==t?void 0:t.worker))}function U(e,t,n,r,i){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(v.a.mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.id,s=C(t,r),u=P.getWorkerFarm(r),c=u.getWorkerPool({name:o,url:s}),r=JSON.parse(JSON.stringify(r)),e.next=7,c.startJob("process-on-worker",V.bind(null,a));case 7:return(l=e.sent).postMessage("process",{input:n,options:r}),e.next=11,l.result;case 11:return f=e.sent,e.next=14,f.result;case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,n,r){return G.apply(this,arguments)}function G(){return(G=Object(d.a)(v.a.mark((function e(t,n,r,i){var a,o,s,u,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return n.done(i),e.abrupt("break",21);case 5:return n.error(i.error),e.abrupt("break",21);case 7:return a=i.id,o=i.input,s=i.options,e.prev=8,e.next=11,t(o,s);case 11:u=e.sent,n.postMessage("done",{id:a,result:u}),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",n.postMessage("error",{id:a,error:c});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(r));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function H(e,t){if(!e)throw new Error(t||"loader assertion failed.")}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){var t;return!!e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions))}function X(e){var t,n,r;return H(e,"null loader"),H(W(e),"invalid loader"),Array.isArray(e)&&(r=e[1],e=q(q({},e=e[0]),{},{options:q(q({},e.options),r)})),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}var K=n("nGEl"),Q=function(e){return"boolean"==typeof e},Y=function(e){return"function"==typeof e},$=function(e){return null!==e&&"object"==typeof e},J=function(e){return $(e)&&e.constructor==={}.constructor},Z=function(e){return e&&"function"==typeof e[Symbol.iterator]},ee=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]},te=function(e){return"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},ne=function(e){return"undefined"!=typeof Blob&&e instanceof Blob},re=function(e){return function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||$(e)&&Y(e.tee)&&Y(e.cancel)&&Y(e.getReader)}(e)||function(e){return $(e)&&Y(e.read)&&Y(e.pipe)&&Q(e.readable)}(e)},ie="",ae={};function oe(e){for(var t in ae)if(e.startsWith(t)){var n=ae[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(ie).concat(e)),e}n("IZzc");var se=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,ue=/^([-\w.]+\/[-\w.+]+)/;function ce(e){var t=se.exec(e);return t?t[1]:""}var le=/\?.*/;function fe(e){if(te(e)){var t=de(e.url||""),n=e.headers.get("content-type")||"";return{url:t,type:(r=n,i=ue.exec(r),(i?i[1]:r)||ce(t))}}var r,i;return ne(e)?{url:de(e.name||""),type:e.type||""}:"string"==typeof e?{url:de(e),type:ce(e)}:{url:"",type:""}}function he(e){return te(e)?e.headers["content-length"]||-1:ne(e)?e.size:"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function de(e){return e.replace(le,"")}function pe(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!te(t)){e.next=2;break}return e.abrupt("return",t);case 2:return n={},(r=he(t))>=0&&(n["content-length"]=String(r)),i=fe(t),a=i.url,(o=i.type)&&(n["content-type"]=o),e.next=9,we(t);case 9:return(s=e.sent)&&(n["x-first-bytes"]=s),"string"==typeof t&&(t=(new TextEncoder).encode(t)),u=new Response(t,{headers:n}),Object.defineProperty(u,"url",{value:a}),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(d.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,be(t);case 3:throw n=e.sent,new Error(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(d.a)(v.a.mark((function e(t){var n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,r=t.headers.get("Content-Type"),i=t.statusText,!r.includes("application/json")){e.next=11;break}return e.t0=i,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,i=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:n=(n+=i).length>60?"".concat(n.slice(60),"..."):n,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function we(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(d.a)(v.a.mark((function e(t){var n,r,i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=5,"string"!=typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,n)));case 3:if(!(t instanceof Blob)){e.next=8;break}return r=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){var n;return e(null==t||null===(n=t.target)||void 0===n?void 0:n.result)},t.readAsDataURL(r)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return i=t.slice(0,n),a=_e(i),e.abrupt("return","data:base64,".concat(a));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}function xe(e,t){return je.apply(this,arguments)}function je(){return(je=Object(d.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=7;break}return t=oe(t),r=n,null!=n&&n.fetch&&"function"!=typeof(null==n?void 0:n.fetch)&&(r=n.fetch),e.next=6,fetch(t,r);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,pe(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=new(n("g/qQ").a)({id:"loaders.gl"}),Ae=function(){function e(){Object(b.a)(this,e)}return Object(y.a)(e,[{key:"log",value:function(){return function(){}}},{key:"info",value:function(){return function(){}}},{key:"warn",value:function(){return function(){}}},{key:"error",value:function(){return function(){}}}]),e}(),Te={fetch:null,mimeType:void 0,nothrow:!1,log:new(function(){function e(){Object(b.a)(this,e),Object(f.a)(this,"console",void 0),this.console=console}return Object(y.a)(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.log).bind.apply(e,[this.console].concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.info).bind.apply(e,[this.console].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.warn).bind.apply(e,[this.console].concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.error).bind.apply(e,[this.console].concat(n))}}]),e}()),CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},Se={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function ke(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(){K.a.loaders=K.a.loaders||{};var e=K.a.loaders;return e._state=e._state||{},e._state}var Le=function(){var e=Me();return e.globalOptions=e.globalOptions||Re({},Te),e.globalOptions};function De(e,t,n,r){return n=n||[],function(e,t){Ce(e,null,Te,Se,t);var n,r=ke(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=e&&e[i.id]||{},o=i.options&&i.options[i.id]||{},s=i.deprecatedOptions&&i.deprecatedOptions[i.id]||{};Ce(a,i.id,o,s,t)}}catch(u){r.e(u)}finally{r.f()}}(e,n=Array.isArray(n)?n:[n]),Ue(t,e,r)}function Pe(e,t){var n=Le(),r=e||n;return"function"==typeof r.fetch?r.fetch:$(r.fetch)?function(e){return xe(e,r)}:null!=t&&t.fetch?null==t?void 0:t.fetch:xe}function Ce(e,t,n,r,i){var a=t||"Top level",o=t?"".concat(t,"."):"";for(var s in e){var u=!t&&$(e[s]);if(!(s in n)&&!("baseUri"===s&&!t)&&!("workerUrl"===s&&t))if(s in r)Ee.warn("".concat(a," loader option '").concat(o).concat(s,"' no longer supported, use '").concat(r[s],"'"))();else if(!u){var c=Be(s,i);Ee.warn("".concat(a," loader option '").concat(o).concat(s,"' not recognized. ").concat(c))()}}}function Be(e,t){var n,r=e.toLowerCase(),i="",a=ke(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;for(var s in o.options){if(e===s)return"Did you mean '".concat(o.id,".").concat(s,"'?");var u=s.toLowerCase();(r.startsWith(u)||u.startsWith(r))&&(i=i||"Did you mean '".concat(o.id,".").concat(s,"'?"))}}}catch(c){a.e(c)}finally{a.f()}return i}function Ue(e,t,n){var r=Re({},e.options||{});return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(r,n),null===r.log&&(r.log=new Ae),Fe(r,Le()),Fe(r,t),r}function Fe(e,t){for(var n in t)if(n in t){var r=t[n];J(r)&&J(e[n])?e[n]=Re(Re({},e[n]),t[n]):e[n]=t[n]}}function Ve(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var Ge=n(20);function He(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e){if(Ge.toArrayBuffer&&(e=Ge.toArrayBuffer(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"==typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function We(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),a=i.reduce((function(e,t){return e+t.byteLength}),0),o=new Uint8Array(a),s=0,u=He(i);try{for(u.s();!(r=u.n()).done;){var c=r.value;o.set(c,s),s+=c.byteLength}}catch(l){u.e(l)}finally{u.f()}return o.buffer}function Xe(e,t,n){var r=void 0!==n?new Uint8Array(e).subarray(t,t+n):new Uint8Array(e).subarray(t);return new Uint8Array(r).buffer}function Ke(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!1,i=!1,e.prev=3,o=Ve(t);case 5:return e.next=7,o.next();case 7:if(!(r=!(s=e.sent).done)){e.next=13;break}u=s.value,n.push(u);case 10:r=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==o.return){e.next=24;break}return e.next=24,o.return();case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",We.apply(void 0,n));case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})))).apply(this,arguments)}var Ye=v.a.mark($e);function $e(e,t){var n,r,i,a,o;return v.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n=(null==t?void 0:t.chunkSize)||262144,r=0,i=new TextEncoder;case 3:if(!(r<e.length)){s.next=11;break}return a=Math.min(e.length-r,n),o=e.slice(r,r+a),r+=a,s.next=9,i.encode(o);case 9:s.next=3;break;case 11:case"end":return s.stop()}}),Ye)}var Je=v.a.mark(Ze);function Ze(e){var t,n,r,i,a,o,s,u=arguments;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=u.length>1&&void 0!==u[1]?u[1]:{},n=t.chunkSize,r=void 0===n?262144:n,i=0;case 3:if(!(i<e.byteLength)){c.next=14;break}return a=Math.min(e.byteLength-i,r),o=new ArrayBuffer(a),s=new Uint8Array(e,i,a),new Uint8Array(o).set(s),i+=a,c.next=12,o;case 12:c.next=3;break;case 14:case"end":return c.stop()}}),Je)}function et(e){this.wrapped=e}function tt(e){return new et(e)}function nt(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof et;Promise.resolve(s?o.wrapped:o).then((function(e){s?r("return"===t?"return":"next",e):i(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function rt(e){return function(){return new nt(e.apply(this,arguments))}}nt.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},nt.prototype.next=function(e){return this._invoke("next",e)},nt.prototype.throw=function(e){return this._invoke("throw",e)},nt.prototype.return=function(e){return this._invoke("return",e)};function it(){return(it=rt(v.a.mark((function e(t,n){var r,i,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(null==n?void 0:n.chunkSize)||1048576,i=0;case 2:if(!(i<t.size)){e.next=12;break}return a=i+r,e.next=6,tt(t.slice(i,a).arrayBuffer());case 6:return o=e.sent,i=a,e.next=10,o;case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t){return K.b?function(e,t){return ot.apply(this,arguments)}(e,t):function(e,t){return st.apply(this,arguments)}(e,t)}function ot(){return(ot=rt(v.a.mark((function e(t,n){var r,i,a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),e.prev=1;case 2:return a=i||r.read(),null!=n&&n._streamReadAhead&&(i=r.read()),e.next=7,tt(a);case 7:if(o=e.sent,s=o.done,u=o.value,!s){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,qe(u);case 14:e.next=2;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),r.releaseLock();case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}function st(){return(st=rt(v.a.mark((function e(t,n){var r,i,a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,o=Ve(t);case 4:return e.next=6,tt(o.next());case 6:if(!(r=!(s=e.sent).done)){e.next=13;break}return u=s.value,e.next=10,qe(u);case 10:r=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==o.return){e.next=24;break}return e.next=24,tt(o.return());case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])})))).apply(this,arguments)}function ut(e,t){if("string"==typeof e)return $e(e,t);if(e instanceof ArrayBuffer)return Ze(e,t);if(ne(e))return function(e,t){return it.apply(this,arguments)}(e,t);if(re(e))return at(e,t);if(te(e))return at(e.body,t);throw new Error("makeIterator")}var ct="Cannot convert supplied data type";function lt(e,t,n){if(t.text&&"string"==typeof e)return e;var r;if((r=e)&&"object"==typeof r&&r.isBuffer&&(e=e.buffer),e instanceof ArrayBuffer){var i=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(i):i}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var a=e.buffer,o=e.byteLength||e.length;return 0===e.byteOffset&&o===a.byteLength||(a=a.slice(e.byteOffset,e.byteOffset+o)),a}throw new Error(ct)}function ft(e,t,n){return ht.apply(this,arguments)}function ht(){return(ht=Object(d.a)(v.a.mark((function e(t,n,r){var i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!i){e.next=3;break}return e.abrupt("return",lt(t,n));case 3:if(!ne(t)){e.next=7;break}return e.next=6,pe(t);case 6:t=e.sent;case 7:if(!te(t)){e.next=21;break}return a=t,e.next=11,me(a);case 11:if(!n.binary){e.next=17;break}return e.next=14,a.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,a.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if(re(t)&&(t=ut(t,r)),!Z(t)&&!ee(t)){e.next=24;break}return e.abrupt("return",Ke(t));case 24:throw new Error(ct);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt=n("KQm4");function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n)return n;var r=vt({fetch:Pe(t,e)},e);return Array.isArray(r.loaders)||(r.loaders=null),r}function gt(e,t){if(!t&&e&&!Array.isArray(e))return e;var n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){var r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[].concat(Object(dt.a)(n),Object(dt.a)(r)):r}return n&&n.length?n:null}var bt=function(){var e=Me();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function yt(){return bt()}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jt=/\.([^.]+)$/;function Et(e){return At.apply(this,arguments)}function At(){return(At=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:[],r=o.length>2?o[2]:void 0,i=o.length>3?o[3]:void 0,kt(t)){e.next=5;break}return e.abrupt("return",null);case 5:if(!(a=Tt(t,n,Ot(Ot({},r),{},{nothrow:!0}),i))){e.next=8;break}return e.abrupt("return",a);case 8:if(!ne(t)){e.next=13;break}return e.next=11,t.slice(0,10).arrayBuffer();case 11:t=e.sent,a=Tt(t,n,r,i);case 13:if(a||null!=r&&r.nothrow){e.next=15;break}throw new Error(It(t));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!kt(e))return null;if(t&&!Array.isArray(t))return X(t);var i,a=[];(t&&(a=a.concat(t)),null!=n&&n.ignoreRegisteredLoaders)||(i=a).push.apply(i,Object(dt.a)(yt()));Nt(a);var o=St(e,a,n,r);if(!(o||null!=n&&n.nothrow))throw new Error(It(e));return o}function St(e,t,n,r){var i=fe(e),a=i.url,o=i.type,s=a||(null==r?void 0:r.url),u=null;return null!=n&&n.mimeType&&(u=Rt(t,null==n?void 0:n.mimeType)),u=(u=(u=(u=u||function(e,t){var n=t&&jt.exec(t),r=n&&n[1];return r?function(e,t){t=t.toLowerCase();var n,r=_t(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=_t(a.extensions);try{for(o.s();!(i=o.n()).done;){if(i.value.toLowerCase()===t)return a}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e,r):null}(t,s))||Rt(t,o))||function(e,t){if(!t)return null;var n,r=_t(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("string"==typeof t){if(Mt(t,i))return i}else if(ArrayBuffer.isView(t)){if(Lt(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(Lt(t,0,i))return i}}}catch(a){r.e(a)}finally{r.f()}return null}(t,e))||Rt(t,null==n?void 0:n.fallbackMimeType)}function kt(e){return!(e instanceof Response&&204===e.status)}function It(e){var t=fe(e),n=t.url,r=t.type,i="No valid loader found";return e&&(i+=' data: "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Dt(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return Dt(e,n,t)}return""}(e),'", contentType: "').concat(r,'"')),n&&(i+=" url: ".concat(n)),i}function Nt(e){var t,n=_t(e);try{for(n.s();!(t=n.n()).done;){X(t.value)}}catch(r){n.e(r)}finally{n.f()}}function Rt(e,t){var n,r=_t(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(a){r.e(a)}finally{r.f()}return null}function Mt(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some((function(t){return e.startsWith(t)}))}function Lt(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((function(r){return function(e,t,n,r){if(r instanceof ArrayBuffer)return function(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;for(var r=new Uint8Array(e),i=new Uint8Array(t),a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":var i=Dt(e,t,r.length);return r===i;default:return!1}}(e,t,n,r)}))}function Dt(e,t,n){if(e.byteLength<t+n)return"";for(var r=new DataView(e),i="",a=0;a<n;a++)i+=String.fromCharCode(r.getUint8(t+a));return i}function Pt(e,t,n,r){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(d.a)(v.a.mark((function e(t,n,r,i){var a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!i||"object"==typeof i),!n||Array.isArray(n)||W(n)||(i=void 0,r=n,n=void 0),e.next=4,t;case 4:return t=e.sent,r=r||{},a=fe(t),o=a.url,s=gt(n,i),e.next=11,Et(t,s,r);case 11:if(u=e.sent){e.next=14;break}return e.abrupt("return",null);case 14:return r=De(r,u,s,o),i=mt({url:o,parse:Pt,loaders:s},r,i),e.next=18,Bt(u,t,r,i);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t,n,r){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(d.a)(v.a.mark((function e(t,n,r,i){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(t),e.next=3,ft(n,t,r);case 3:if(n=e.sent,!t.parseTextSync||"string"!=typeof n){e.next=7;break}return r.dataType="text",e.abrupt("return",t.parseTextSync(n,r,i,t));case 7:if(!B(t,r)){e.next=11;break}return e.next=10,U(t,n,r,i,Pt);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parseText||"string"!=typeof n){e.next=15;break}return e.next=14,t.parseText(n,r,i,t);case 14:return e.abrupt("return",e.sent);case 15:if(!t.parse){e.next=19;break}return e.next=18,t.parse(n,r,i,t);case 18:return e.abrupt("return",e.sent);case 19:throw m(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e,t){if(!e)throw new Error(t)}var Vt=n("mgqj"),Gt=Vt.a._parseImageNode,Ht="undefined"!=typeof Image,zt="undefined"!=typeof ImageBitmap,qt=Boolean(Gt),Wt=!!Vt.b||qt;function Xt(e){var t=Yt(e);if(!t)throw new Error("Not an image");return t}function Kt(e){return Qt(e)}function Qt(e){switch(Xt(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function Yt(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"==typeof e&&e.data&&e.width&&e.height?"data":null}var $t=/^data:image\/svg\+xml/,Jt=/\.svg((\?|#).*)?$/;function Zt(e){return e&&($t.test(e)||Jt.test(e))}function en(e,t){if(Zt(t)){var n=(new TextDecoder).decode(e);return"data:image/svg+xml;base64,".concat(btoa(n))}return tn(e,t)}function tn(e,t){if(Zt(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function nn(e,t,n){return rn.apply(this,arguments)}function rn(){return(rn=Object(d.a)(v.a.mark((function e(t,n,r){var i,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=en(t,r),a=self.URL||self.webkitURL,o="string"!=typeof i&&a.createObjectURL(i),e.prev=3,e.next=6,an(o||i,n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,o&&a.revokeObjectURL(o),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function an(e,t){return on.apply(this,arguments)}function on(){return(on=Object(d.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new Image).src=t,!(n.image&&n.image.decode&&r.decode)){e.next=6;break}return e.next=5,r.decode();case 5:return e.abrupt("return",r);case 6:return e.next=8,new Promise((function(e,n){try{r.onload=function(){return e(r)},r.onerror=function(e){return n(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(i){n(i)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sn={},un=!0;function cn(e,t,n){return ln.apply(this,arguments)}function ln(){return(ln=Object(d.a)(v.a.mark((function e(t,n,r){var i,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zt(r)){e.next=7;break}return e.next=3,nn(t,n,r);case 3:a=e.sent,i=a,e.next=8;break;case 7:i=tn(t,r);case 8:return o=n&&n.imagebitmap,e.next=11,fn(i,o);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(e){return hn.apply(this,arguments)}function hn(){return(hn=Object(d.a)(v.a.mark((function e(t){var n,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dn(n=r.length>1&&void 0!==r[1]?r[1]:null)&&un||(n=null),!n){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,n);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),un=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function dn(e){for(var t in e||sn)return!1;return!0}function pn(e){var t=vn(e);return function(e){var t=vn(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:"image/png",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=vn(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var n=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),r=n.tableMarkers,i=n.sofMarkers,a=2;for(;a+9<t.byteLength;){var o=t.getUint16(a,!1);if(i.has(o))return{mimeType:"image/jpeg",height:t.getUint16(a+5,!1),width:t.getUint16(a+7,!1)};if(!r.has(o))return null;a+=2,a+=t.getUint16(a,!1)}return null}(t)||function(e){var t=vn(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:"image/gif",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||function(e){var t=vn(e);if(!(t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength))return null;return{mimeType:"image/bmp",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}}(t)}function vn(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}function mn(e,t){var n=(pn(e)||{}).mimeType,r=Vt.a._parseImageNode;return Ft(r),r(e,n,t)}function gn(e,t,n){return bn.apply(this,arguments)}function bn(){return(bn=Object(d.a)(v.a.mark((function e(t,n,r){var i,a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(n=n||{}).image||{},a=i.type||"auto",o=(r||{}).url,s=yn(a),e.t0=s,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,cn(t,n,o);case 10:return u=e.sent,e.abrupt("break",21);case 12:return e.next=14,nn(t,n,o);case 14:return u=e.sent,e.abrupt("break",21);case 16:return e.next=18,mn(t,n);case 18:return u=e.sent,e.abrupt("break",21);case 20:Ft(!1);case 21:return"data"===a&&(u=Qt(u)),e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e){switch(e){case"auto":case"data":return function(){if(zt)return"imagebitmap";if(Ht)return"image";if(Wt)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return zt||Ht||Wt;case"imagebitmap":return zt;case"image":return Ht;case"data":return Wt;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}var wn={id:"image",module:"images",name:"Images",version:"3.0.6",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:gn,tests:[function(e){return Boolean(pn(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}};function On(e,t,n){if(e.byteLength<=t+n)return"";for(var r=new DataView(e),i="",a=0;a<n;a++)i+=String.fromCharCode(r.getUint8(t+a));return i}function _n(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return On(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return On(e,n,t)}return""}(e),'"'))}}function xn(e,t){if(!e)throw new Error(t||"assert failed: gltf")}function jn(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;var n=t.baseUri||t.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return n.substr(0,n.lastIndexOf("/")+1)+e}function En(e,t,n){var r=e.bufferViews[n];xn(r);var i=t[r.buffer];xn(i);var a=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,a,r.byteLength)}var An=n("ODXe"),Tn={name:"Draco",id:"draco",module:"draco",version:"3.0.6",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function Sn(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=e.POSITION?e.POSITION.value:[],u=s&&s.length,c=0;c<u;c+=3){var l=s[c],f=s[c+1],h=s[c+2];t=l<t?l:t,n=f<n?f:n,r=h<r?h:r,i=l>i?l:i,a=f>a?f:a,o=h>o?h:o}return[[t,n,r],[i,a,o]]}function kn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nn=function(){function e(t,n){Object(b.a)(this,e),Object(f.a)(this,"fields",void 0),Object(f.a)(this,"metadata",void 0),function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}(Array.isArray(t)),function(e){var t,n={},r=kn(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.name]&&console.warn("Schema: duplicated field name",i.name,i),n[i.name]=!0}}catch(a){r.e(a)}finally{r.f()}}(t),this.fields=t,this.metadata=n||new Map}return Object(y.a)(e,[{key:"compareTo",value:function(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(var t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}},{key:"select",value:function(){for(var t=Object.create(null),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t[s]=!0}var u=this.fields.filter((function(e){return t[e.name]}));return new e(u,this.metadata)}},{key:"selectAt",value:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.map((function(e){return t.fields[e]})).filter(Boolean);return new e(a,this.metadata)}},{key:"assign",value:function(t){var n,r=this.metadata;if(t instanceof e){var i=t;n=i.fields,r=Rn(Rn(new Map,this.metadata),i.metadata)}else n=t;var a,o=Object.create(null),s=kn(this.fields);try{for(s.s();!(a=s.n()).done;){var u=a.value;o[u.name]=u}}catch(h){s.e(h)}finally{s.f()}var c,l=kn(n);try{for(l.s();!(c=l.n()).done;){var f=c.value;o[f.name]=f}}catch(h){l.e(h)}finally{l.f()}return new e(Object.values(o),r)}}]),e}();function Rn(e,t){return new Map([].concat(Object(dt.a)(e||new Map),Object(dt.a)(t||new Map)))}var Mn,Ln=n("Ji7U"),Dn=n("md7G"),Pn=n("foSv");function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Pn.a)(e);if(t){var i=Object(Pn.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Dn.a)(this,n)}}!function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(Mn||(Mn={}));var Bn=function(){function e(){Object(b.a)(this,e)}return Object(y.a)(e,[{key:"typeId",get:function(){return Mn.NONE}},{key:"compareTo",value:function(e){return this===e}}],[{key:"isNull",value:function(e){return e&&e.typeId===Mn.Null}},{key:"isInt",value:function(e){return e&&e.typeId===Mn.Int}},{key:"isFloat",value:function(e){return e&&e.typeId===Mn.Float}},{key:"isBinary",value:function(e){return e&&e.typeId===Mn.Binary}},{key:"isUtf8",value:function(e){return e&&e.typeId===Mn.Utf8}},{key:"isBool",value:function(e){return e&&e.typeId===Mn.Bool}},{key:"isDecimal",value:function(e){return e&&e.typeId===Mn.Decimal}},{key:"isDate",value:function(e){return e&&e.typeId===Mn.Date}},{key:"isTime",value:function(e){return e&&e.typeId===Mn.Time}},{key:"isTimestamp",value:function(e){return e&&e.typeId===Mn.Timestamp}},{key:"isInterval",value:function(e){return e&&e.typeId===Mn.Interval}},{key:"isList",value:function(e){return e&&e.typeId===Mn.List}},{key:"isStruct",value:function(e){return e&&e.typeId===Mn.Struct}},{key:"isUnion",value:function(e){return e&&e.typeId===Mn.Union}},{key:"isFixedSizeBinary",value:function(e){return e&&e.typeId===Mn.FixedSizeBinary}},{key:"isFixedSizeList",value:function(e){return e&&e.typeId===Mn.FixedSizeList}},{key:"isMap",value:function(e){return e&&e.typeId===Mn.Map}},{key:"isDictionary",value:function(e){return e&&e.typeId===Mn.Dictionary}}]),e}(),Un=(Symbol.toStringTag,Symbol.toStringTag,function(e,t){Object(Ln.a)(r,e);var n=Cn(r);function r(e,t){var i;return Object(b.a)(this,r),i=n.call(this),Object(f.a)(Object(h.a)(i),"isSigned",void 0),Object(f.a)(Object(h.a)(i),"bitWidth",void 0),i.isSigned=e,i.bitWidth=t,i}return Object(y.a)(r,[{key:"typeId",get:function(){return Mn.Int}},{key:t,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),r}(Bn,Symbol.toStringTag)),Fn=function(e){Object(Ln.a)(n,e);var t=Cn(n);function n(){return Object(b.a)(this,n),t.call(this,!0,8)}return n}(Un),Vn=function(e){Object(Ln.a)(n,e);var t=Cn(n);function n(){return Object(b.a)(this,n),t.call(this,!0,16)}return n}(Un),Gn=function(e){Object(Ln.a)(n,e);var t=Cn(n);function n(){return Object(b.a)(this,n),t.call(this,!0,32)}return n}(Un),Hn=function(e){Object(Ln.a)(n,e);var t=Cn(n);function n(){return Object(b.a)(this,n),t.call(this,!1,8)}return n}(Un),zn=function(e){Object(Ln.a)(n,e);var t=Cn(n);function n(){return Object(b.a)(this,n),t.call(this,!1,16)}return n}(Un),qn=function(e){Object(Ln.a)(n,e);var t=Cn(n);function n(){return Object(b.a)(this,n),t.call(this,!1,32)}return n}(Un),Wn=32,Xn=64,Kn=function(e,t){Object(Ln.a)(r,e);var n=Cn(r);function r(e){var t;return Object(b.a)(this,r),t=n.call(this),Object(f.a)(Object(h.a)(t),"precision",void 0),t.precision=e,t}return Object(y.a)(r,[{key:"typeId",get:function(){return Mn.Float}},{key:t,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),r}(Bn,Symbol.toStringTag),Qn=function(e){Object(Ln.a)(n,e);var t=Cn(n);function n(){return Object(b.a)(this,n),t.call(this,Wn)}return n}(Kn),Yn=function(e){Object(Ln.a)(n,e);var t=Cn(n);function n(){return Object(b.a)(this,n),t.call(this,Xn)}return n}(Kn),$n=(Symbol.toStringTag,Symbol.toStringTag,{DAY:0,MILLISECOND:1}),Jn=(Symbol.toStringTag,{SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9}),Zn=(Symbol.toStringTag,Symbol.toStringTag,{DAY_TIME:0,YEAR_MONTH:1}),er=(Symbol.toStringTag,function(e,t){Object(Ln.a)(r,e);var n=Cn(r);function r(e,t){var i;return Object(b.a)(this,r),i=n.call(this),Object(f.a)(Object(h.a)(i),"listSize",void 0),Object(f.a)(Object(h.a)(i),"children",void 0),i.listSize=e,i.children=[t],i}return Object(y.a)(r,[{key:"typeId",get:function(){return Mn.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:t,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),r}(Bn,Symbol.toStringTag));var tr=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;Object(b.a)(this,e),Object(f.a)(this,"name",void 0),Object(f.a)(this,"type",void 0),Object(f.a)(this,"nullable",void 0),Object(f.a)(this,"metadata",void 0),this.name=t,this.type=n,this.nullable=r,this.metadata=i}return Object(y.a)(e,[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new e(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}]),e}();function nr(e,t,n){var r=ir(t.metadata),i=[],a=function(e){var t={};for(var n in e){var r=e[n];t[r.name||"undefined"]=r}return t}(t.attributes);for(var o in e){var s=rr(o,e[o],a[o]);i.push(s)}if(n){var u=rr("indices",n);i.push(u)}return new Nn(i,r)}function rr(e,t,n){var r=n?ir(n.metadata):void 0,i=function(e){switch(e.constructor){case Int8Array:return new Fn;case Uint8Array:return new Hn;case Int16Array:return new Vn;case Uint16Array:return new zn;case Int32Array:return new Gn;case Uint32Array:return new qn;case Float32Array:return new Qn;case Float64Array:return new Yn;default:throw new Error("array type not supported")}}(t.value);return new tr(e,new er(t.size,new tr("value",i)),!1,r)}function ir(e){var t=new Map;for(var n in e)t.set("".concat(n,".string"),JSON.stringify(e[n]));return t}function ar(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return or(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},lr={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},fr=function(){function e(t){Object(b.a)(this,e),Object(f.a)(this,"draco",void 0),Object(f.a)(this,"decoder",void 0),Object(f.a)(this,"metadataQuerier",void 0),this.draco=t,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}return Object(y.a)(e,[{key:"destroy",value:function(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);var r=this.decoder.GetEncodedGeometryType(n),i=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{var a;switch(r){case this.draco.TRIANGULAR_MESH:a=this.decoder.DecodeBufferToMesh(n,i);break;case this.draco.POINT_CLOUD:a=this.decoder.DecodeBufferToPointCloud(n,i);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!a.ok()||!i.ptr){var o="DRACO decompression failed: ".concat(a.error_msg());throw new Error(o)}var s=this._getDracoLoaderData(i,r,t),u=this._getMeshData(i,s,t),c=Sn(u.attributes),l=nr(u.attributes,s,u.indices),f=ur(ur({loader:"draco",loaderData:s,header:{vertexCount:i.num_points(),boundingBox:c}},u),{},{schema:l});return f}finally{this.draco.destroy(n),i&&this.draco.destroy(i)}}},{key:"_getDracoLoaderData",value:function(e,t,n){var r=this._getTopLevelMetadata(e),i=this._getDracoAttributes(e,n);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:i}}},{key:"_getDracoAttributes",value:function(e,t){for(var n={},r=0;r<e.num_attributes();r++){var i=this.decoder.GetAttribute(e,r),a=this._getAttributeMetadata(e,r);n[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:r,metadata:a};var o=this._getQuantizationTransform(i,t);o&&(n[i.unique_id()].quantization_transform=o);var s=this._getOctahedronTransform(i,t);s&&(n[i.unique_id()].octahedron_transform=s)}return n}},{key:"_getMeshData",value:function(e,t,n){var r=this._getMeshAttributes(t,e,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(n.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:r}}},{key:"_getMeshAttributes",value:function(e,t,n){for(var r={},i=0,a=Object.values(e.attributes);i<a.length;i++){var o=a[i],s=this._deduceAttributeName(o,n);o.name=s;var u=this._getAttributeValues(t,o),c=u.value,l=u.size;r[s]={value:c,size:l,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}},{key:"_getTriangleListIndices",value:function(e){var t=3*e.num_faces(),n=4*t,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(e,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,t).slice()}finally{this.draco._free(r)}}},{key:"_getTriangleStripIndices",value:function(e){var t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function(e){for(var t=e.size(),n=new Int32Array(t),r=0;r<t;r++)n[r]=e.GetValue(r);return n}(t)}finally{this.draco.destroy(t)}}},{key:"_getAttributeValues",value:function(e,t){var n,r=lr[t.data_type],i=t.num_components,a=e.num_points()*i,o=a*r.BYTES_PER_ELEMENT,s=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32;default:return e.DT_INVALID}}(this.draco,r),u=this.draco._malloc(o);try{var c=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,c,s,o,u),n=new r(this.draco.HEAPF32.buffer,u,a).slice()}finally{this.draco._free(u)}return{value:n,size:i}}},{key:"_deduceAttributeName",value:function(e,t){for(var n=e.unique_id,r=0,i=Object.entries(t.extraAttributes||{});r<i.length;r++){var a=Object(An.a)(i[r],2),o=a[0];if(a[1]===n)return o}var s=e.attribute_type;for(var u in cr){if(this.draco[u]===s)return cr[u]}var c=t.attributeNameEntry||"name";return e.metadata[c]?e.metadata[c].string:"CUSTOM_ATTRIBUTE_".concat(n)}},{key:"_getTopLevelMetadata",value:function(e){var t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}},{key:"_getAttributeMetadata",value:function(e,t){var n=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(n)}},{key:"_getDracoMetadata",value:function(e){if(!e||!e.ptr)return{};for(var t={},n=this.metadataQuerier.NumEntries(e),r=0;r<n;r++){var i=this.metadataQuerier.GetEntryName(e,r);t[i]=this._getDracoMetadataField(e,i)}return t}},{key:"_getDracoMetadataField",value:function(e,t){var n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,n);var r=function(e){for(var t=e.size(),n=new Int32Array(t),r=0;r<t;r++)n[r]=e.GetValue(r);return n}(n);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(n)}}},{key:"_disableAttributeTransforms",value:function(e){var t,n=e.quantizedAttributes,r=void 0===n?[]:n,i=e.octahedronAttributes,a=void 0===i?[]:i,o=ar([].concat(Object(dt.a)(r),Object(dt.a)(a)));try{for(o.s();!(t=o.n()).done;){var s=t.value;this.decoder.SkipAttributeTransform(this.draco[s])}}catch(u){o.e(u)}finally{o.f()}}},{key:"_getQuantizationTransform",value:function(e,t){var n=this,r=t.quantizedAttributes,i=void 0===r?[]:r,a=e.attribute_type();if(i.map((function(e){return n.decoder[e]})).includes(a)){var o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(e))return{quantization_bits:o.quantization_bits(),range:o.range(),min_values:new Float32Array([1,2,3]).map((function(e){return o.min_value(e)}))}}finally{this.draco.destroy(o)}}return null}},{key:"_getOctahedronTransform",value:function(e,t){var n=this,r=t.octahedronAttributes,i=void 0===r?[]:r,a=e.attribute_type();if(i.map((function(e){return n.decoder[e]})).includes(a)){var o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(e))return{quantization_bits:o.quantization_bits()}}finally{this.draco.destroy(o)}}return null}}]),e}();n("j+VE");var hr=n(21),dr={};function pr(e){return vr.apply(this,arguments)}function vr(){return(vr=Object(d.a)(v.a.mark((function e(t){var n,r,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]?i[2]:{},n&&(t=mr(t,n,r)),dr[t]=dr[t]||gr(t),e.next=6,dr[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mr(e,t,n){if(e.startsWith("http"))return e;var r=n.modules||{};return r[e]?r[e]:w.b?n.CDN?(m(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(t,"@").concat("3.0.6","/dist/libs/").concat(e)):w.d?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function gr(e){return br.apply(this,arguments)}function br(){return(br=Object(d.a)(v.a.mark((function e(t){var n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(w.b){e.next=14;break}if(e.t0=hr.requireFromFile,!e.t0){e.next=13;break}return e.next=12,hr.requireFromFile(t);case 12:e.t0=e.sent;case 13:return e.abrupt("return",e.t0);case 14:if(!w.d){e.next=16;break}return e.abrupt("return",importScripts(t));case 16:return e.next=18,fetch(t);case 18:return r=e.sent,e.next=21,r.text();case 21:return i=e.sent,e.abrupt("return",yr(i,t));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yr(e,t){if(!w.b)return hr.requireFromString&&hr.requireFromString(e,t);if(w.d)return eval.call(w.a,e),null;var n=document.createElement("script");n.id=t;try{n.appendChild(document.createTextNode(e))}catch(r){n.text=e}return document.body.appendChild(n),null}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _r,xr="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.js"),jr="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_wasm_wrapper.js"),Er="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");function Ar(e){return Tr.apply(this,arguments)}function Tr(){return(Tr=Object(d.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.modules||{},_r=n.draco3d?_r||n.draco3d.createDecoderModule({}).then((function(e){return{draco:e}})):_r||Sr(t),e.next=4,_r;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(e){return kr.apply(this,arguments)}function kr(){return(kr=Object(d.a)(v.a.mark((function e(t){var n,r,i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.draco&&t.draco.decoderType,e.next="js"===e.t0?3:(e.t0,7);break;case 3:return e.next=5,pr(xr,"draco",t);case 5:return n=e.sent,e.abrupt("break",21);case 7:return e.t1=Promise,e.next=10,pr(jr,"draco",t);case 10:return e.t2=e.sent,e.next=13,pr(Er,"draco",t);case 13:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.next=17,e.t1.all.call(e.t1,e.t4);case 17:i=e.sent,a=Object(An.a)(i,2),n=a[0],r=a[1];case 21:return n=n||globalThis.DracoDecoderModule,e.next=24,Ir(n,r);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(e,t){var n={};return t&&(n.wasmBinary=t),new Promise((function(t){e(Or(Or({},n),{},{onModuleLoaded:function(e){return t({draco:e})}}))}))}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mr=Rr(Rr({},Tn),{},{parse:function(e,t){return Lr.apply(this,arguments)}});function Lr(){return(Lr=Object(d.a)(v.a.mark((function e(t,n){var r,i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(n);case 2:return r=e.sent,i=r.draco,a=new fr(i),e.prev=5,e.abrupt("return",a.parseSync(t,null==n?void 0:n.draco));case 7:return e.prev=7,a.destroy(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[5,,7,10]])})))).apply(this,arguments)}function Dr(e,t){return H(e>=0),H(t>0),e+(t-1)&~(t-1)}function Pr(e,t,n){var r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{var i=e.byteOffset,a=e.byteLength;r=new Uint8Array(e.buffer||e.arrayBuffer,i,a)}return t.set(r,n),n+Dr(r.byteLength,4)}var Cr=["SCALAR","VEC2","VEC3","VEC4"],Br=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],Ur=new Map(Br),Fr={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Vr={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Gr={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Hr(e){return Cr[e-1]||Cr[0]}function zr(e){var t=Ur.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function qr(e,t){var n=Gr[e.componentType],r=Fr[e.type],i=Vr[e.componentType],a=e.count*r,o=e.count*r*i;return xn(o>=0&&o<=t.byteLength),{ArrayType:n,length:a,byteLength:o}}function Wr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yr={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},$r=function(){function e(t){Object(b.a)(this,e),Object(f.a)(this,"gltf",void 0),Object(f.a)(this,"sourceBuffers",void 0),Object(f.a)(this,"byteLength",void 0),this.gltf=t||{json:Qr({},Yr),buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}return Object(y.a)(e,[{key:"json",get:function(){return this.gltf.json}},{key:"getApplicationData",value:function(e){return this.json[e]}},{key:"getExtraData",value:function(e){return(this.json.extras||{})[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),n=this.json.extensions||{};return t?n[e]||!0:null}},{key:"getRequiredExtension",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(e,t){return(e.extensions||{})[t]}},{key:"getScene",value:function(e){return this.getObject("scenes",e)}},{key:"getNode",value:function(e){return this.getObject("nodes",e)}},{key:"getSkin",value:function(e){return this.getObject("skins",e)}},{key:"getMesh",value:function(e){return this.getObject("meshes",e)}},{key:"getMaterial",value:function(e){return this.getObject("materials",e)}},{key:"getAccessor",value:function(e){return this.getObject("accessors",e)}},{key:"getTexture",value:function(e){return this.getObject("textures",e)}},{key:"getSampler",value:function(e){return this.getObject("samplers",e)}},{key:"getImage",value:function(e){return this.getObject("images",e)}},{key:"getBufferView",value:function(e){return this.getObject("bufferViews",e)}},{key:"getBuffer",value:function(e){return this.getObject("buffers",e)}},{key:"getObject",value:function(e,t){if("object"==typeof t)return t;var n=this.json[e]&&this.json[e][t];if(!n)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return n}},{key:"getTypedArrayForBufferView",value:function(e){var t=(e=this.getBufferView(e)).buffer,n=this.gltf.buffers[t];xn(n);var r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}},{key:"getTypedArrayForAccessor",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=qr(e,t),i=r.ArrayType,a=r.length;return new i(n,t.byteOffset+e.byteOffset,a)}},{key:"getTypedArrayForImageData",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)}},{key:"addApplicationData",value:function(e,t){return this.json[e]=t,this}},{key:"addExtraData",value:function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}},{key:"addObjectExtension",value:function(e,t,n){return e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}},{key:"setObjectExtension",value:function(e,t,n){(e.extensions||{})[t]=n}},{key:"removeObjectExtension",value:function(e,t){var n=e.extensions||{},r=n[t];return delete n[t],r}},{key:"addExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xn(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}},{key:"addRequiredExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xn(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"setDefaultScene",value:function(e){this.json.scene=e}},{key:"addScene",value:function(e){var t=e.nodeIndices;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}},{key:"addNode",value:function(e){var t=e.meshIndex,n=e.matrix;this.json.nodes=this.json.nodes||[];var r={mesh:t};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}},{key:"addMesh",value:function(e){var t=e.attributes,n=e.indices,r=e.material,i=e.mode,a=void 0===i?4:i,o={primitives:[{attributes:this._addAttributes(t),mode:a}]};if(n){var s=this._addIndices(n);o.primitives[0].indices=s}return Number.isFinite(r)&&(o.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(o),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:"addImage",value:function(e,t){var n=pn(e),r=t||(null==n?void 0:n.mimeType),i={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}},{key:"addBufferView",value:function(e){var t=e.byteLength;xn(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=Dr(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){var n={bufferView:e,type:Hr(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},n=this.addBufferView(e),r={min:t.min,max:t.max};r.min&&r.max||(r=this._getAccessorMinMax(e,t.size));var i={size:t.size,componentType:zr(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(i,t))}},{key:"addTexture",value:function(e){var t={source:e.imageIndex};return this.json.textures=this.json.textures||[],this.json.textures.push(t),this.json.textures.length-1}},{key:"addMaterial",value:function(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}},{key:"createBinaryChunk",value:function(){var e,t;this.gltf.buffers=[];var n,r=this.byteLength,i=new ArrayBuffer(r),a=new Uint8Array(i),o=0,s=Wr(this.sourceBuffers||[]);try{for(s.s();!(n=s.n()).done;){o=Pr(n.value,a,o)}}catch(u){s.e(u)}finally{s.f()}null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=r:this.json.buffers=[{byteLength:r}],this.gltf.binary=i,this.sourceBuffers=[i]}},{key:"_removeStringFromArray",value:function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}},{key:"_addAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in e){var r=e[n],i=this._getGltfAttributeName(n),a=this.addBinaryBuffer(r.value,r);t[i]=a}return t}},{key:"_addIndices",value:function(e){return this.addBinaryBuffer(e,{size:1})}},{key:"_getGltfAttributeName",value:function(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}},{key:"_getAccessorMinMax",value:function(e,t){var n={min:null,max:null};if(e.length<t)return n;n.min=[],n.max=[];var r,i=Wr(e.subarray(0,t));try{for(i.s();!(r=i.n()).done;){var a=r.value;n.min.push(a),n.max.push(a)}}catch(u){i.e(u)}finally{i.f()}for(var o=t;o<e.length;o+=t)for(var s=0;s<t;s++)n.min[0+s]=Math.min(n.min[0+s],e[o+s]),n.max[0+s]=Math.max(n.max[0+s],e[o+s]);return n}}]),e}();function Jr(e){var t={};for(var n in e){var r=e[n];if("indices"!==n){var i=Zr(r);t[n]=i}}return t}function Zr(e){var t=function(e){var t=e,n=1,r=0;e&&e.value&&(t=e.value,n=e.size||1);t&&(ArrayBuffer.isView(t)||(t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(n&&!(e instanceof t))return new t(e);return e}(t,Float32Array)),r=t.length/n);return{buffer:t,size:n,count:r}}(e),n=t.buffer,r=t.size;return{value:n,size:r,byteOffset:0,count:t.count,type:Hr(r),componentType:zr(n)}}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ni=v.a.mark(hi);function ri(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ii(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ai(e,t,n){return oi.apply(this,arguments)}function oi(){return(oi=Object(d.a)(v.a.mark((function e(t,n,r){var i,a,o,s,u,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&null!==(i=n.gltf)&&void 0!==i&&i.decompressMeshes){e.next=2;break}return e.abrupt("return");case 2:a=new $r(t),o=[],s=ri(hi(a));try{for(s.s();!(u=s.n()).done;)c=u.value,a.getObjectExtension(c,"KHR_draco_mesh_compression")&&o.push(ui(a,c,n,r))}catch(l){s.e(l)}finally{s.f()}return e.next=8,Promise.all(o);case 8:a.removeExtension("KHR_draco_mesh_compression");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function si(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new $r(e),i=ri(r.json.meshes||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;li(a,n),r.addRequiredExtension("KHR_draco_mesh_compression")}}catch(o){i.e(o)}finally{i.f()}}function ui(e,t,n,r){return ci.apply(this,arguments)}function ci(){return(ci=Object(d.a)(v.a.mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p,m,g,b,y;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getObjectExtension(n,"KHR_draco_mesh_compression")){e.next=3;break}return e.abrupt("return");case 3:return o=t.getTypedArrayForBufferView(a.bufferView),s=Xe(o.buffer,o.byteOffset),u=i.parse,delete(c=ti({},r))["3d-tiles"],e.next=10,u(s,Mr,c,i);case 10:for(l=e.sent,f=Jr(l.attributes),h=0,d=Object.entries(f);h<d.length;h++)p=Object(An.a)(d[h],2),m=p[0],g=p[1],m in n.attributes&&(b=n.attributes[m],null!=(y=t.getAccessor(b))&&y.min&&null!=y&&y.max&&(g.min=y.min,g.max=y.max));n.attributes=f,l.indices&&(n.indices=Zr(l.indices)),fi(n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");var o=i.DracoWriter.encodeSync({attributes:e}),s=null==a||null===(n=a.parseSync)||void 0===n?void 0:n.call(a,{attributes:e}),u=i._addFauxAttributes(s.attributes),c=i.addBufferView(o),l={primitives:[{attributes:u,mode:r,extensions:Object(f.a)({},"KHR_draco_mesh_compression",{bufferView:c,attributes:u})}]};return l}function fi(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function hi(e){var t,n,r,i,a,o;return v.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=ri(e.json.meshes||[]),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=ri(r.primitives),s.prev=6,i.s();case 8:if((a=i.n()).done){s.next=14;break}return o=a.value,s.next=12,o;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),ni,null,[[1,26,29,32],[6,16,19,22]])}function di(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vi(e){return mi.apply(this,arguments)}function mi(){return(mi=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new $r(t),r=n.json,n.removeExtension("KHR_materials_unlit"),i=di(r.materials||[]);try{for(i.s();!(a=i.n()).done;)o=a.value,o.extensions&&o.extensions.KHR_materials_unlit&&(o.unlit=!0),n.removeObjectExtension(o,"KHR_materials_unlit")}catch(s){i.e(s)}finally{i.f()}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(e){var t=new $r(e),n=t.json;if(t.materials){var r,i=di(n.materials||[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.unlit&&(delete a.unlit,t.addObjectExtension(a,"KHR_materials_unlit",{}),t.addExtension("KHR_materials_unlit"))}}catch(o){i.e(o)}finally{i.f()}}}function bi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e){return Oi.apply(this,arguments)}function Oi(){return(Oi=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new $r(t),r=n.json,(i=n.getExtension("KHR_lights_punctual"))&&(n.json.lights=i.lights,n.removeExtension("KHR_lights_punctual")),a=bi(r.nodes||[]);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=n.getObjectExtension(s,"KHR_lights_punctual"))&&(s.light=u.light),n.removeObjectExtension(s,"KHR_lights_punctual")}catch(c){a.e(c)}finally{a.f()}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(e){return xi.apply(this,arguments)}function xi(){return(xi=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new $r(t),(r=n.json).lights&&(xn(!(i=n.addExtension("KHR_lights_punctual")).lights),i.lights=r.lights,delete r.lights),n.json.lights){a=bi(n.json.lights);try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.node,n.addObjectExtension(u,"KHR_lights_punctual",s)}catch(c){a.e(c)}finally{a.f()}delete n.json.lights}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ei(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ai(e){return Ti.apply(this,arguments)}function Ti(){return(Ti=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o,s,u,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new $r(t),r=n.json,i=n.getExtension("KHR_techniques_webgl")){a=Ii(i,n),o=ji(r.materials||[]);try{for(o.s();!(s=o.n()).done;)u=s.value,(c=n.getObjectExtension(u,"KHR_techniques_webgl"))&&(u.technique=Object.assign({},c,a[c.technique]),u.technique.values=Ni(u.technique,n)),n.removeObjectExtension(u,"KHR_techniques_webgl")}catch(l){o.e(l)}finally{o.f()}n.removeExtension("KHR_techniques_webgl")}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Si(e,t){return ki.apply(this,arguments)}function ki(){return(ki=Object(d.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ii(e,t){var n=e.programs,r=void 0===n?[]:n,i=e.shaders,a=void 0===i?[]:i,o=e.techniques,s=void 0===o?[]:o,u=new TextDecoder;return a.forEach((function(e){if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=u.decode(t.getTypedArrayForBufferView(e.bufferView))})),r.forEach((function(e){e.fragmentShader=a[e.fragmentShader],e.vertexShader=a[e.vertexShader]})),s.forEach((function(e){e.program=r[e.program]})),s}function Ni(e,t){var n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((function(t){e.uniforms[t].value&&!(t in n)&&(n[t]=e.uniforms[t].value)})),Object.keys(n).forEach((function(e){"object"==typeof n[e]&&void 0!==n[e].index&&(n[e].texture=t.getTexture(n[e].index))})),n}var Ri={KHR_draco_mesh_compression:r,KHR_materials_unlit:i,KHR_lights_punctual:a,KHR_techniques_webgl:o};function Mi(e){return Li.apply(this,arguments)}function Li(){return(Li=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o,s,u=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,e.t0=v.a.keys(Ri);case 3:if((e.t1=e.t0()).done){e.next=13;break}if(i=e.t1.value,o=(null==n||null===(a=n.gltf)||void 0===a?void 0:a.excludeExtensions)||{},i in o&&!o[i]){e.next=11;break}return s=Ri[i],e.next=11,s.decode(t,n,r);case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ci(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ui,Fi={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Vi={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},Gi=function(){function e(t){Object(b.a)(this,e),this.idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}}return Object(y.a)(e,[{key:"normalize",value:function(e,t){this.json=e.json;var n=e.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(e){var t,n=new $r(e),r=n.json,i=Di(r.images||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=n.removeObjectExtension(a,"KHR_binary_glTF");o&&Object.assign(a,o)}}catch(s){i.e(s)}finally{i.f()}r.buffers&&r.buffers[0]&&delete r.buffers[0].uri,n.removeExtension("KHR_binary_glTF")}(e),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}},{key:"_addAsset",value:function(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(e){for(var t in Fi)this._convertTopLevelObjectToArray(e,t)}},{key:"_convertTopLevelObjectToArray",value:function(e,t){var n=e[t];if(n&&!Array.isArray(n))for(var r in e[t]=[],n){var i=n[r];i.id=i.id||r;var a=e[t].length;e[t].push(i),this.idToIndexMap[t][r]=a}}},{key:"_convertObjectIdsToArrayIndices",value:function(e){for(var t in Fi)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));var n,r=Ci(e.textures);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._convertTextureIds(i)}}catch(p){r.e(p)}finally{r.f()}var a,o=Ci(e.meshes);try{for(o.s();!(a=o.n()).done;){var s=a.value;this._convertMeshIds(s)}}catch(p){o.e(p)}finally{o.f()}var u,c=Ci(e.nodes);try{for(c.s();!(u=c.n()).done;){var l=u.value;this._convertNodeIds(l)}}catch(p){c.e(p)}finally{c.f()}var f,h=Ci(e.scenes);try{for(h.s();!(f=h.n()).done;){var d=f.value;this._convertSceneIds(d)}}catch(p){h.e(p)}finally{h.f()}}},{key:"_convertTextureIds",value:function(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}},{key:"_convertMeshIds",value:function(e){var t,n=Ci(e.primitives);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.attributes,a=r.indices,o=r.material;for(var s in i)i[s]=this._convertIdToIndex(i[s],"accessor");a&&(r.indices=this._convertIdToIndex(a,"accessor")),o&&(r.material=this._convertIdToIndex(o,"material"))}}catch(u){n.e(u)}finally{n.f()}}},{key:"_convertNodeIds",value:function(e){var t=this;e.children&&(e.children=e.children.map((function(e){return t._convertIdToIndex(e,"node")}))),e.meshes&&(e.meshes=e.meshes.map((function(e){return t._convertIdToIndex(e,"mesh")})))}},{key:"_convertSceneIds",value:function(e){var t=this;e.nodes&&(e.nodes=e.nodes.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertIdsToIndices",value:function(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);var n,r=Ci(e[t]);try{for(r.s();!(n=r.n()).done;){var i=n.value;for(var a in i){var o=i[a],s=this._convertIdToIndex(o,a);i[a]=s}}}catch(u){r.e(u)}finally{r.f()}}},{key:"_convertIdToIndex",value:function(e,t){var n=Vi[t];if(n in this.idToIndexMap){var r=this.idToIndexMap[n][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}},{key:"_updateObjects",value:function(e){var t,n=Ci(this.json.buffers);try{for(n.s();!(t=n.n()).done;){delete t.value.type}}catch(r){n.e(r)}finally{n.f()}}},{key:"_updateMaterial",value:function(e){var t,n=Ci(e.materials);try{var r=function(){var n=t.value;n.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};var r=n.values&&n.values.tex,i=e.textures.findIndex((function(e){return e.id===r}));-1!==i&&(n.pbrMetallicRoughness.baseColorTexture={index:i})};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}}}]),e}();function Hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new Gi).normalize(e,t)}function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Xi={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Ki={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},Qi={magFilter:Ki.TEXTURE_MAG_FILTER,minFilter:Ki.TEXTURE_MIN_FILTER,wrapS:Ki.TEXTURE_WRAP_S,wrapT:Ki.TEXTURE_WRAP_T},Yi=(Ui={},Object(f.a)(Ui,Ki.TEXTURE_MAG_FILTER,Ki.LINEAR),Object(f.a)(Ui,Ki.TEXTURE_MIN_FILTER,Ki.NEAREST_MIPMAP_LINEAR),Object(f.a)(Ui,Ki.TEXTURE_WRAP_S,Ki.REPEAT),Object(f.a)(Ui,Ki.TEXTURE_WRAP_,Ki.REPEAT),Ui);var $i=function(){function e(){Object(b.a)(this,e)}return Object(y.a)(e,[{key:"postProcess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.json,r=e.buffers,i=void 0===r?[]:r,a=e.images,o=void 0===a?[]:a,s=e.baseUri,u=void 0===s?"":s;return xn(n),this.baseUri=u,this.json=n,this.buffers=i,this.images=o,this._resolveTree(this.json,t),this.json}},{key:"_resolveTree",value:function(e){var t=this;e.bufferViews&&(e.bufferViews=e.bufferViews.map((function(e,n){return t._resolveBufferView(e,n)}))),e.images&&(e.images=e.images.map((function(e,n){return t._resolveImage(e,n)}))),e.samplers&&(e.samplers=e.samplers.map((function(e,n){return t._resolveSampler(e,n)}))),e.textures&&(e.textures=e.textures.map((function(e,n){return t._resolveTexture(e,n)}))),e.accessors&&(e.accessors=e.accessors.map((function(e,n){return t._resolveAccessor(e,n)}))),e.materials&&(e.materials=e.materials.map((function(e,n){return t._resolveMaterial(e,n)}))),e.meshes&&(e.meshes=e.meshes.map((function(e,n){return t._resolveMesh(e,n)}))),e.nodes&&(e.nodes=e.nodes.map((function(e,n){return t._resolveNode(e,n)}))),e.skins&&(e.skins=e.skins.map((function(e,n){return t._resolveSkin(e,n)}))),e.scenes&&(e.scenes=e.scenes.map((function(e,n){return t._resolveScene(e,n)}))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"==typeof t)return t;var n=this.json[e]&&this.json[e][t];return n||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),n}},{key:"_resolveScene",value:function(e,t){var n=this;return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return n.getNode(e)})),e}},{key:"_resolveNode",value:function(e,t){var n=this;return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((function(e){return n.getNode(e)}))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce((function(e,t){var r=n.getMesh(t);return e.id=r.id,e.primitives=e.primitives.concat(r.primitives),e}),{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}},{key:"_resolveSkin",value:function(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}},{key:"_resolveMesh",value:function(e,t){var n=this;return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((function(e){var t=(e=qi({},e)).attributes;for(var r in e.attributes={},t)e.attributes[r]=n.getAccessor(t[r]);return void 0!==e.indices&&(e.indices=n.getAccessor(e.indices)),void 0!==e.material&&(e.material=n.getMaterial(e.material)),e}))),e}},{key:"_resolveMaterial",value:function(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture=qi({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=qi({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=qi({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness=qi({},e.pbrMetallicRoughness);var n=e.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture=qi({},n.baseColorTexture),n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture=qi({},n.metallicRoughnessTexture),n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}return e}},{key:"_resolveAccessor",value:function(e,t){var n,r;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(n=e.componentType,Xi[n]),e.components=(r=e.type,Wi[r]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){var i=e.bufferView.buffer,a=qr(e,e.bufferView),o=a.ArrayType,s=a.byteLength,u=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset,c=i.arrayBuffer.slice(u,u+s);e.value=new o(c)}return e}},{key:"_resolveTexture",value:function(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):Yi,e.source=this.getImage(e.source),e}},{key:"_resolveSampler",value:function(e,t){for(var n in e.id=e.id||"sampler-".concat(t),e.parameters={},e){var r=this._enumSamplerParameter(n);void 0!==r&&(e.parameters[r]=e[n])}return e}},{key:"_enumSamplerParameter",value:function(e){return Qi[e]}},{key:"_resolveImage",value:function(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var n=this.images[t];return n&&(e.image=n),e}},{key:"_resolveBufferView",value:function(e,t){e.id=e.id||"bufferView-".concat(t);var n=e.buffer;e.buffer=this.buffers[n];var r=this.buffers[n].arrayBuffer,i=this.buffers[n].byteOffset||0;return"byteOffset"in e&&(i+=e.byteOffset),e.data=new Uint8Array(r,i,e.byteLength),e}},{key:"_resolveCamera",value:function(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}]),e}();function Ji(e,t){return(new $i).postProcess(e,t)}function Zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DataView(e),i=n.magic,a=void 0===i?1735152710:i,o=r.getUint32(t,!1);return o===a||1735152710===o}function ta(e,t,n){H(e.header.byteLength>20);var r=t.getUint32(n+0,!0),i=t.getUint32(n+4,!0);return n+=8,H(0===i),ra(e,t,n,r),n+=r,n+=ia(e,t,n,e.header.byteLength)}function na(e,t,n,r){return H(e.header.byteLength>20),function(e,t,n,r){for(;n+8<=e.header.byteLength;){var i=t.getUint32(n+0,!0),a=t.getUint32(n+4,!0);switch(n+=8,a){case 1313821514:ra(e,t,n,i);break;case 5130562:ia(e,t,n,i);break;case 0:r.strict||ra(e,t,n,i);break;case 1:r.strict||ia(e,t,n,i)}n+=Dr(i,4)}}(e,t,n,r),n+e.header.byteLength}function ra(e,t,n,r){var i=new Uint8Array(t.buffer,n,r),a=new TextDecoder("utf8").decode(i);return e.json=JSON.parse(a),Dr(r,4)}function ia(e,t,n,r){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer}),Dr(r,4)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Object(d.a)(v.a.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>2&&void 0!==d[2]?d[2]:0,i=d.length>3?d[3]:void 0,a=d.length>4?d[4]:void 0,sa(t,n,r,i),Hi(t,{normalize:null==i||null===(o=i.gltf)||void 0===o?void 0:o.normalize}),l=[],null==i||null===(s=i.gltf)||void 0===s||!s.loadBuffers||!t.json.buffers){e.next=9;break}return e.next=9,ua(t,i,a);case 9:return null!=i&&null!==(u=i.gltf)&&void 0!==u&&u.loadImages&&(f=la(t,i,a),l.push(f)),h=Mi(t,i,a),l.push(h),e.next=14,Promise.all(l);case 14:return e.abrupt("return",null!=i&&null!==(c=i.gltf)&&void 0!==c&&c.postProcess?Ji(t,i):t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e,t,n,r){(r.uri&&(e.baseUri=r.uri),t instanceof ArrayBuffer&&!ea(t,n,r))&&(t=(new TextDecoder).decode(t));if("string"==typeof t)e.json=_n(t);else if(t instanceof ArrayBuffer){var i={};n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(t),i=Zi(r,n+0),a=r.getUint32(n+4,!0),o=r.getUint32(n+8,!0);switch(Object.assign(e,{header:{byteOffset:n,byteLength:o,hasBinChunk:!1},type:i,version:a,json:{},binChunks:[]}),n+=12,e.version){case 1:return ta(e,r,n);case 2:return na(e,r,n,{});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}}(i,t,n,r.glb),xn("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),e._glb=i,e.json=i.json}else xn(!1,"GLTF: must be ArrayBuffer or string");var a=e.json.buffers||[];if(e.buffers=new Array(a.length).fill(null),e._glb&&e._glb.header.hasBinChunk){var o=e._glb.binChunks;e.buffers[0]={arrayBuffer:o[0].arrayBuffer,byteOffset:o[0].byteOffset,byteLength:o[0].byteLength}}var s=e.json.images||[];e.images=new Array(s.length).fill({})}function ua(e,t,n){return ca.apply(this,arguments)}function ca(){return(ca=Object(d.a)(v.a.mark((function e(t,n,r){var i,a,o,s,u,c,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<t.json.buffers.length)){e.next=18;break}if(!(a=t.json.buffers[i]).uri){e.next=15;break}return xn(r.fetch),u=jn(a.uri,n),e.next=9,null==r||null===(o=r.fetch)||void 0===o?void 0:o.call(r,u);case 9:return c=e.sent,e.next=12,null==c||null===(s=c.arrayBuffer)||void 0===s?void 0:s.call(c);case 12:l=e.sent,t.buffers[i]={arrayBuffer:l,byteOffset:0,byteLength:l.byteLength},delete a.uri;case 15:++i,e.next=1;break;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e,t,n){return fa.apply(this,arguments)}function fa(){return(fa=Object(d.a)(v.a.mark((function e(t,n,r){var i,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.json.images||[],a=[],o=0;o<i.length;++o)a.push(ha(t,i[o],o,n,r));return e.next=5,Promise.all(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(e,t,n,r,i){return da.apply(this,arguments)}function da(){return(da=Object(d.a)(v.a.mark((function e(t,n,r,i,a){var o,s,u,c,l,f,h;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.fetch,s=a.parse,!n.uri){e.next=9;break}return c=jn(n.uri,i),e.next=5,o(c);case 5:return l=e.sent,e.next=8,l.arrayBuffer();case 8:u=e.sent;case 9:return Number.isFinite(n.bufferView)&&(f=En(t.json,t.buffers,n.bufferView),u=Xe(f.buffer,f.byteOffset,f.byteLength)),xn(u,"glTF image has no data"),e.next=13,s(u,wn,{},a);case 13:h=e.sent,t.images[r]=h;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ma={name:"glTF",id:"gltf",module:"gltf",version:"3.0.6",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function(e){return ga.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function ga(){return(ga=Object(d.a)(v.a.mark((function e(t){var n,r,i,a,o,s=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,(n=va(va({},ma.options),n)).gltf=va(va({},ma.options.gltf),n.gltf),i=n.byteOffset,a=void 0===i?0:i,o={},e.next=8,aa(o,t,a,n,r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n("8go2");var ba=n("FFbo"),ya=n("WHLF"),wa=n("qxLR");var Oa=n(7),_a=n(8),xa=n.n(_a),ja=n(9),Ea=n.n(ja),Aa=n(10),Ta=n.n(Aa),Sa=n(11),ka=n(12);n(13),n(14),n("gxoF"),n(16),n("vTrO");(!ya.b||!("TextEncoder"in ya.a))&&(ya.a.TextEncoder=wa.TextEncoder),(!ya.b||!("TextDecoder"in ya.a))&&(ya.a.TextDecoder=wa.TextDecoder),ya.b||"atob"in ya.a||!Oa.atob||(ya.a.atob=Oa.atob),ya.b||"btoa"in ya.a||!Oa.btoa||(ya.a.btoa=Oa.btoa),ya.b||"Headers"in ya.a||!xa.a||(ya.a.Headers=xa.a),ya.b||"Response"in ya.a||!Ea.a||(ya.a.Response=Ea.a),ya.b||"fetch"in ya.a||!Ta.a||(ya.a.fetch=Ta.a),ya.b||"DOMParser"in ya.a||!ba.DOMParser||(ya.a.DOMParser=ba.DOMParser),ya.b||"_encodeImageNode"in ya.a||!Sa.encodeImageNode||(ya.a._encodeImageNode=Sa.encodeImageNode),ya.b||"_parseImageNode"in ya.a||!ka.parseImageNode||(ya.a._parseImageNode=ka.parseImageNode),"allSettled"in Promise||(Promise.allSettled=function(e){var t=e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))}));return Promise.all(t)});var Ia=n("73Rc"),Na=n("75fp"),Ra=n("bjw9"),Ma=n("lHlH"),La=n("JR+K"),Da=n("IObG"),Pa=n("kh/P"),Ca=n("3LCa"),Ba=n("YJ55"),Ua=n("SDD5"),Fa=n("BunF"),Va=n("Iq2B"),Ga=function(){function e(e){void 0===e&&(e={});var t=e.id;this.id=t||Object(Fa.c)(this.constructor.name),this.display=!0,this.position=new Ua.a,this.rotation=new Ua.a,this.scale=new Ua.a(1,1,1),this.matrix=new Pa.a,this.userData={},this.props={},this._setScenegraphNodeProps(e)}var t=e.prototype;return t.delete=function(){},t.setProps=function(e){return this._setScenegraphNodeProps(e),this},t.toString=function(){return"{type: ScenegraphNode, id: "+this.id+")}"},t.setPosition=function(e){return Object(Va.a)(3===e.length,"setPosition requires vector argument"),this.position=e,this},t.setRotation=function(e){return Object(Va.a)(3===e.length,"setRotation requires vector argument"),this.rotation=e,this},t.setScale=function(e){return Object(Va.a)(3===e.length,"setScale requires vector argument"),this.scale=e,this},t.setMatrix=function(e,t){void 0===t&&(t=!0),t?this.matrix.copy(e):this.matrix=e},t.setMatrixComponents=function(e){var t=e.position,n=e.rotation,r=e.scale,i=e.update,a=void 0===i||i;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),a&&this.updateMatrix(),this},t.updateMatrix=function(){var e=this.position,t=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(n),this},t.update=function(e){void 0===e&&(e={});var t=e,n=t.position,r=t.rotation,i=t.scale;return n&&this.setPosition(n),r&&this.setRotation(r),i&&this.setScale(i),this.updateMatrix(),this},t.getCoordinateUniforms=function(e,t){Object(Va.a)(e),t=t||this.matrix;var n=new Pa.a(e).multiplyRight(t),r=n.invert(),i=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:i}},t._setScenegraphNodeProps=function(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)},e}();function Ha(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return za(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qa=function(e){function t(t){var n;void 0===t&&(t={});var r=(t=Array.isArray(t)?{children:t}:t).children,i=void 0===r?[]:r;return Ma.i.assert(i.every((function(e){return e instanceof Ga})),"every child must an instance of ScenegraphNode"),(n=e.call(this,t)||this).children=i,n}Object(s.a)(t,e);var n=t.prototype;return n.add=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];Array.isArray(a)?this.add.apply(this,Object(dt.a)(a)):this.children.push(a)}return this},n.remove=function(e){var t=this.children,n=t.indexOf(e);return n>-1&&t.splice(n,1),this},n.removeAll=function(){return this.children=[],this},n.delete=function(){this.children.forEach((function(e){return e.delete()})),this.removeAll(),e.prototype.delete.call(this)},n.traverse=function(e,n){for(var r,i=(void 0===n?{}:n).worldMatrix,a=void 0===i?new Pa.a:i,o=new Pa.a(a).multiplyRight(this.matrix),s=Ha(this.children);!(r=s()).done;){var u=r.value;u instanceof t?u.traverse(e,{worldMatrix:o}):e(u,{worldMatrix:o})}},t}(Ga),Wa=n("bE5S"),Xa=n("fOPP"),Ka=n("2plT"),Qa=n("yOd+");n("QFcT");var Ya=n("MTwu"),$a=n("ARt4");function Ja(){var e=new Qa.a(4);return Qa.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Za(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function eo(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+o*s+i*c-a*u,e[1]=i*l+o*u+a*s-r*c,e[2]=a*l+o*c+r*u-i*s,e[3]=o*l-r*s-i*u-a*c,e}function to(e,t,n,r){var i,a,o,s,u,c=t[0],l=t[1],f=t[2],h=t[3],d=n[0],p=n[1],v=n[2],m=n[3];return(a=c*d+l*p+f*v+h*m)<0&&(a=-a,d=-d,p=-p,v=-v,m=-m),1-a>Qa.b?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(s=1-r,u=r),e[0]=s*c+u*d,e[1]=s*l+u*p,e[2]=s*f+u*v,e[3]=s*h+u*m,e}function no(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e}$a.b,$a.g,$a.c,$a.l;var ro,io,ao,oo,so,uo,co,lo=$a.a,fo=$a.k,ho=$a.d,po=$a.i,vo=$a.h,mo=$a.m,go=$a.j,bo=($a.f,$a.e,ro=Ya.b(),io=Ya.e(1,0,0),ao=Ya.e(0,1,0),function(e,t,n){var r=Ya.d(t,n);return r<-.999999?(Ya.c(ro,io,t),Ya.f(ro)<1e-6&&Ya.c(ro,ao,t),Ya.g(ro,ro),Za(e,ro,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(Ya.c(ro,t,n),e[0]=ro[0],e[1]=ro[1],e[2]=ro[2],e[3]=1+r,go(e,e))});oo=Ja(),so=Ja(),uo=new Qa.a(9),Qa.a!=Float32Array&&(uo[1]=0,uo[2]=0,uo[3]=0,uo[5]=0,uo[6]=0,uo[7]=0),uo[0]=1,uo[4]=1,uo[8]=1,co=uo;function yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Pn.a)(e);if(t){var i=Object(Pn.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Dn.a)(this,n)}}var wo=[0,0,0,1],Oo=function(e){Object(Ln.a)(n,e);var t=yo(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(b.a)(this,n),e=t.call(this,-0,-0,-0,-0),Array.isArray(r)&&1===arguments.length?e.copy(r):e.set(r,i,a,o),e}return Object(y.a)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"set",value:function(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}},{key:"fromMatrix3",value:function(e){return no(this,e),this.check()}},{key:"identity",value:function(){return function(e){e[0]=0,e[1]=0,e[2]=0,e[3]=1}(this),this.check()}},{key:"fromAxisRotation",value:function(e,t){return Za(this,e,t),this.check()}},{key:"setAxisAngle",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(Xa.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(Xa.a)(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(Xa.a)(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Object(Xa.a)(e)}},{key:"len",value:function(){return vo(this)}},{key:"lengthSquared",value:function(){return mo(this)}},{key:"dot",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return ho(this,e)}},{key:"rotationTo",value:function(e,t){return bo(this,e,t),this.check()}},{key:"add",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return lo(this,this,e),this.check()}},{key:"calculateW",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2];e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i))}(this,this),this.check()}},{key:"conjugate",value:function(){return function(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3]}(this,this),this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s}(this,this),this.check()}},{key:"lerp",value:function(e,t,n){return po(this,e,t,n),this.check()}},{key:"multiplyRight",value:function(e,t){return Object(Ka.a)(!t),eo(this,this,e),this.check()}},{key:"multiplyLeft",value:function(e,t){return Object(Ka.a)(!t),eo(this,e,this),this.check()}},{key:"normalize",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:"rotateX",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=a*u-i*s,e[3]=o*u-r*s}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u-a*s,e[1]=i*u+o*s,e[2]=a*u+r*s,e[3]=o*u-i*s}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=a*u+o*s,e[3]=o*u-a*s}(this,this,e),this.check()}},{key:"scale",value:function(e){return fo(this,this,e),this.check()}},{key:"slerp",value:function(e,t,n){switch(arguments.length){case 1:var r=arguments[0],i=r.start;e=void 0===i?wo:i,t=r.target,n=r.ratio;break;case 2:var a=Array.prototype.slice.call(arguments);t=a[0],n=a[1],e=this}return to(this,e,t,n),this.check()}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return $a.o(t,e,this),Object(Xa.b)(t,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(e,t){return this.setAxisAngle(e,t)}},{key:"premultiply",value:function(e,t){return this.multiplyLeft(e,t)}},{key:"multiply",value:function(e,t){return this.multiplyRight(e,t)}}]),n}(Wa.a),_o={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xo={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function jo(e){if(!e._animation){var t=xo[e.componentType],n=_o[e.type],r=n*e.count,i=e.bufferView.data,a=new t(i.buffer,i.byteOffset+(e.byteOffset||0),r);if(1===n)e._animation=Array.from(a);else{for(var o=[],s=0;s<a.length;s+=n)o.push(Array.from(a.slice(s,s+n)));e._animation=o}}return e._animation}var Eo=new Pa.a;var Ao=new Oo;function To(e,t,n,r){var i=t.input,a=t.interpolation,o=t.output,s=e%i[i.length-1],u=i.findIndex((function(e){return e>=s})),c=Math.max(0,u-1);if(!Array.isArray(n[r]))switch(r){case"translation":n[r]=[0,0,0];break;case"rotation":n[r]=[0,0,0,1];break;case"scale":n[r]=[1,1,1];break;default:Ma.i.warn("Bad animation path "+r)()}Object(Va.a)(n[r].length===o[c].length);var l=i[c],f=i[u];switch(a){case"STEP":!function(e,t,n){for(var r=0;r<n.length;r++)e[t][r]=n[r]}(n,r,o[c]);break;case"LINEAR":if(f>l){var h=(s-l)/(f-l);!function(e,t,n,r,i){if("rotation"===t){Ao.slerp({start:n,target:r,ratio:i});for(var a=0;a<Ao.length;a++)e[t][a]=Ao[a]}else for(var o=0;o<n.length;o++)e[t][o]=i*r[o]+(1-i)*n[o]}(n,r,o[c],o[u],h)}break;case"CUBICSPLINE":if(f>l){var d=(s-l)/(f-l),p=f-l;!function(e,t,n){for(var r=n.p0,i=n.outTangent0,a=n.inTangent1,o=n.p1,s=n.tDiff,u=n.ratio,c=0;c<e[t].length;c++){var l=i[c]*s,f=a[c]*s;e[t][c]=(2*Math.pow(u,3)-3*Math.pow(u,2)+1)*r[c]+(Math.pow(u,3)-2*Math.pow(u,2)+u)*l+(-2*Math.pow(u,3)+3*Math.pow(u,2))*o[c]+(Math.pow(u,3)-Math.pow(u,2))*f}}(n,r,{p0:o[3*c+1],outTangent0:o[3*c+2],inTangent1:o[3*u+0],p1:o[3*u+1],tDiff:p,ratio:d})}break;default:Ma.i.warn("Interpolation "+a+" not supported")()}}var So=function(){function e(e){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,e)}return e.prototype.animate=function(e){if(this.playing){var t=(e/1e3-this.startTime)*this.speed;this.channels.forEach((function(e){var n=e.sampler,r=e.target,i=e.path;To(t,n,r,i),function(e,t){if(t.matrix.identity(),e.translation&&t.matrix.translate(e.translation),e.rotation){var n=Eo.fromQuaternion(e.rotation);t.matrix.multiplyRight(n)}e.scale&&t.matrix.scale(e.scale)}(r,r._node)}))}},e}(),ko=function(){function e(e){this.animations=e.animations.map((function(t,n){var r=t.name||"Animation-"+n,i=t.samplers.map((function(t){var n=t.input,r=t.interpolation,i=void 0===r?"LINEAR":r,a=t.output;return{input:jo(e.accessors[n]),interpolation:i,output:jo(e.accessors[a])}})),a=t.channels.map((function(t){var n=t.sampler,r=t.target;return{sampler:i[n],target:e.nodes[r.node],path:r.path}}));return new So({name:r,channels:a})}))}var t=e.prototype;return t.animate=function(e){this.setTime(e)},t.setTime=function(e){this.animations.forEach((function(t){return t.animate(e)}))},t.getAnimations=function(){return this.animations},e}(),Io={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else // HAS_TANGENTS != 1\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n// WebGL 1.0 does not support non-constant in for loops\n// This provides an easy way to handle these cases\n// and still take advantage of WebGL 2.0\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n\n// debugging flags used for shader output of intermediate PBR variables\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n// Encapsulate the various inputs used by the various functions in the shading equation\n// We store values in this struct to simplify the integration of alternative implementations\n// of the shading terms, outlined in the Readme.MD Appendix.\nstruct PBRInfo\n{\n  float NdotL;                  // cos angle between normal and light direction\n  float NdotV;                  // cos angle between normal and view direction\n  float NdotH;                  // cos angle between normal and half vector\n  float LdotH;                  // cos angle between light direction and half vector\n  float VdotH;                  // cos angle between view direction and half vector\n  float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n  float metalness;              // metallic value at the surface\n  vec3 reflectance0;            // full reflectance color (normal incidence angle)\n  vec3 reflectance90;           // reflectance color at grazing angle\n  float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n  vec3 diffuseColor;            // color contribution from diffuse lighting\n  vec3 specularColor;           // color contribution from specular lighting\n  vec3 n;                       // normal at surface point\n  vec3 v;                       // vector from surface point to camera\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else //SRGB_FAST_APPROXIMATION\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif //SRGB_FAST_APPROXIMATION\n  return vec4(linOut,srgbIn.w);;\n#else //MANUAL_SRGB\n  return srgbIn;\n#endif //MANUAL_SRGB\n}\n\n// Find the normal for this fragment, pulling either from a predefined normal map\n// or from the interpolated mesh normal and tangent attributes.\nvec3 getNormal()\n{\n  // Retrieve the tangent space matrix\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else // HAS_TANGENTS\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  // The tbn matrix is linearly interpolated, so we need to re-normalize\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n// Calculation of the lighting contribution from an optional Image Based Light source.\n// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].\n// See our README.md on Environment Maps [3] for additional discussion.\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0; // resolution of 512x512\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  // retrieve a scale and bias to F0. See [1], Figure 3\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n\n  // For presentation, this allows us to disable IBL terms\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n// Basic Lambertian diffuse\n// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\n// See also [1], Equation 1\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\n// The following equation models the Fresnel reflectance term of the spec equation (aka F())\n// Implementation of fresnel from [4], Equation 15\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n// This calculates the specular geometric attenuation (aka G()),\n// where rougher material will reflect less light back to the viewer.\n// This implementation is based on [1] Equation 4, and we adopt their modifications to\n// alphaRoughness as input as originally proposed in [2].\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n// The following equation(s) model the distribution of microfacet normals across\n// the area being drawn (aka D())\n// Implementation from \"Average Irregularity Representation of a Roughened Surface\n// for Ray Reflection\" by T. S. Trowbridge, and K. P. Reitz\n// Follows the distribution function recommended in the SIGGRAPH 2013 course notes\n// from EPIC Games [1], Equation 3.\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);             // Vector from surface point to light\n  vec3 h = normalize(l+v);                        // Half vector between both l and v\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  // Calculate the shading terms for the microfacet specular shading model\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n\n  // Calculation of analytical lighting contribution\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n  // The albedo may be defined from a base texture or a flat color\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n    // Metallic and Roughness material properties are packed together\n    // In glTF, these factors can be specified by fixed scalar values\n    // or from a metallic-roughness map\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\n    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n    // Roughness is authored as perceptual roughness; as is convention,\n    // convert to material roughness by squaring the perceptual roughness [2].\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n\n    // Compute reflectance.\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n    // For typical incident reflectance range (between 4% to 100%) set the grazing\n    // reflectance to 100% for typical fresnel effect.\n    // For very low reflectance range on highly diffuse objects (below 4%),\n    // incrementally reduce grazing reflecance to 0%.\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();                          // normal at surface point\n    vec3 v = normalize(u_Camera - pbr_vPosition);  // Vector from surface point to camera\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0, // NdotL\n      NdotV,\n      0.0, // NdotH\n      0.0, // LdotH\n      0.0, // VdotH\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    // Apply ambient light\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n\n    // Apply directional light\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n\n    // Apply point light\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n\n    // Calculate lighting contribution from image based lighting source (IBL)\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n\n    // Apply optional PBR terms for additional (optional) shading\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n    // This section uses mix to override final color for reference app visualization\n    // of various parameters in the lighting equation.\n#ifdef PBR_DEBUG\n    // TODO: Figure out how to debug multiple lights\n\n    // color = mix(color, F, u_ScaleFGDSpec.x);\n    // color = mix(color, vec3(G), u_ScaleFGDSpec.y);\n    // color = mix(color, vec3(D), u_ScaleFGDSpec.z);\n    // color = mix(color, specContrib, u_ScaleFGDSpec.w);\n\n    // color = mix(color, diffuseContrib, u_ScaleDiffBaseMR.x);\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[n("xGy9").a]},No=n("UD/Y"),Ro=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,n)||this).onBeforeRender=null,r.AfterRender=null,t instanceof No.a?(r.model=t,r._setModelNodeProps(n)):r.model=new No.a(t,n),r.managedResources=n.managedResources||[],r}Object(s.a)(t,e);var n=t.prototype;return n.setProps=function(t){return e.prototype.setProps.call(this,t),this._setModelNodeProps(t),this},n.delete=function(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach((function(e){return e.delete()})),this.managedResources=[]},n.draw=function(){var e;return(e=this.model).draw.apply(e,arguments)},n.setUniforms=function(){var e;return(e=this.model).setUniforms.apply(e,arguments),this},n.setAttributes=function(){var e;return(e=this.model).setAttributes.apply(e,arguments),this},n.updateModuleSettings=function(){var e;return(e=this.model).updateModuleSettings.apply(e,arguments),this},n._setModelNodeProps=function(e){this.model.setProps(e)},t}(Ga),Mo=n("dTJe"),Lo=n("2aL3"),Do=n("2urO");function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bo=function(){function e(e,t){var n=t.attributes,r=t.material,i=t.pbrDebug,a=t.imageBasedLightingEnvironment,o=t.lights,s=t.useTangents;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},Object(Mo.b)(e,Lo.a.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],a&&(this.uniforms.u_DiffuseEnvSampler=a.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=a.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=a.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),i&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(n.NORMAL,"HAS_NORMALS"),this.defineIfPresent(n.TANGENT&&s,"HAS_TANGENTS"),this.defineIfPresent(n.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(a,"USE_IBL"),this.defineIfPresent(o,"USE_LIGHTS"),this.defineIfPresent(i,"PBR_DEBUG"),r&&this.parseMaterial(r)}var t=e.prototype;return t.defineIfPresent=function(e,t){e&&(this.defines[t]=1)},t.parseTexture=function(e,t,n){var r;void 0===n&&(n=null);var i,a,o=e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},s=e.texture.source.image,u={};s.compressed?(i=s,(a={})[this.gl.TEXTURE_MIN_FILTER]=s.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR,u=a):i={data:s};var c=new Do.a(this.gl,Co({id:e.name||e.id,parameters:Co(Co({},o),u),pixelStore:(r={},r[this.gl.UNPACK_FLIP_Y_WEBGL]=!1,r)},i));this.uniforms[t]=c,this.defineIfPresent(n,n),this.generatedTextures.push(c)},t.parsePbrMetallicRoughness=function(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");var t=e.metallicFactor,n=void 0===t?1:t,r=e.roughnessFactor,i=void 0===r?1:r;this.uniforms.u_MetallicRoughnessValues=[n,i]},t.parseMaterial=function(e){if(this.uniforms.pbr_uUnlit=Boolean(e.unlit),e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");var t=e.normalTexture.scale,n=void 0===t?1:t;this.uniforms.u_NormalScale=n}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");var r=e.occlusionTexture.strength,i=void 0===r?1:r;this.uniforms.u_OcclusionStrength=i}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){var a=e.alphaCutoff,o=void 0===a?.5:a;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=o}else"BLEND"===e.alphaMode&&(Ma.i.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))},e}();function Uo(e,t){return Object(Ma.h)(e)?"#version 300 es\n"+t:t}var Fo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Vo={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1},Go=function(){function e(e,t){void 0===t&&(t={}),this.gl=e,this.options=Object.assign({},Vo,t)}var t=e.prototype;return t.instantiate=function(e){var t=this;return this.gltf=e,(e.scenes||[]).map((function(e){return t.createScene(e)}))},t.createAnimator=function(){return Array.isArray(this.gltf.animations)?new ko(this.gltf):null},t.createScene=function(e){var t=this,n=(e.nodes||[]).map((function(e){return t.createNode(e)}));return new qa({id:e.name||e.id,children:n})},t.createNode=function(e){var t=this;if(!e._node){var n=(e.children||[]).map((function(e){return t.createNode(e)}));e.mesh&&n.push(this.createMesh(e.mesh));var r=new qa({id:e.name||e.id,children:n});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){var i=(new Pa.a).fromQuaternion(e.rotation);r.matrix.multiplyRight(i)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node},t.createMesh=function(e){var t=this;if(!e._mesh){var n=(e.primitives||[]).map((function(n,r){return t.createPrimitive(n,r,e)})),r=new qa({id:e.name||e.id,children:n});e._mesh=r}return e._mesh},t.getVertexCount=function(e){Ma.i.warn("getVertexCount() not found")()},t.createPrimitive=function(e,t,n){return function(e,t){var n=t.id,r=t.drawMode,i=t.vertexCount,a=t.attributes,o=t.modelOptions,s=new Bo(e,t);Ma.i.info(4,"createGLTFModel defines: ",s.defines)();var u=[];u.push.apply(u,Object(dt.a)(s.generatedTextures)),u.push.apply(u,Object(dt.a)(Object.values(a).map((function(e){return e.buffer}))));var c=new Ro(e,Object.assign({id:n,drawMode:r,vertexCount:i,modules:[Io],defines:s.defines,parameters:s.parameters,vs:Uo(e,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:Uo(e,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:u},o));return c.setProps({attributes:a}),c.setUniforms(s.uniforms),c}(this.gl,Object.assign({id:e.name||(n.name||n.id)+"-primitive-"+t,drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options))},t.createAttributes=function(e,t){var n=this,r={};return Object.keys(e).forEach((function(t){r[t]=n.createAccessor(e[t],n.createBuffer(e[t],n.gl.ARRAY_BUFFER))})),t&&(r.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),Ma.i.info(4,"glTF Attributes",{attributes:e,indices:t,generated:r})(),r},t.createBuffer=function(e,t){e.bufferView||(e.bufferView={});var n=e.bufferView;return n.lumaBuffers||(n.lumaBuffers={}),n.lumaBuffers[t]||(n.lumaBuffers[t]=new Ca.a(this.gl,{id:"from-"+n.id,data:n.data||e.value,target:t})),n.lumaBuffers[t]},t.createAccessor=function(e,t){return new Ba.a({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:Fo[e.type]})},t.createSampler=function(e){return e},t.needsPOT=function(){return!1},e}();function Ho(e,t,n){var r=new Go(e,n);return{scenes:r.instantiate(t),animator:r.createAnimator()}}var zo=n("9cyU"),qo=n("WY7U");function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ko(e,t,n){var r=e;"function"==typeof e&&(r=e(Xo(Xo({},t),n))),Ft("string"==typeof r);var i=t.baseUrl;return i&&(r="/"===i[i.length-1]?"".concat(i).concat(r):"".concat(i,"/").concat(r)),oe(r)}var Qo=function(e){return e&&"object"==typeof e};function Yo(e,t){return $o.apply(this,arguments)}function $o(){return($o=Object(d.a)(v.a.mark((function e(t,n){var r,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,Jo(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jo(e,t,n){return Zo.apply(this,arguments)}function Zo(){return(Zo=Object(d.a)(v.a.mark((function e(t,n,r){var i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,ns(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:if(!Qo(t)){e.next=8;break}return e.next=7,es(t,n,r);case 7:return e.abrupt("return",e.sent);case 8:return i=t,e.next=11,n(i,r);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t,n){return ts.apply(this,arguments)}function ts(){return(ts=Object(d.a)(v.a.mark((function e(t,n,r){var i,a,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in i=[],a={},o=function(e){var o=Jo(t[e],n,r).then((function(t){a[e]=t}));i.push(o)},t)o(s);return e.next=6,Promise.all(i);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=Object(d.a)(v.a.mark((function e(t,n){var r,i,a=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},i=t.map((function(e){return Jo(e,n,r)})),e.next=4,Promise.all(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t,n){return as.apply(this,arguments)}function as(){return(as=Object(d.a)(v.a.mark((function e(t,n,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(t,(function(e){return os(e,n,r)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t,n){return ss.apply(this,arguments)}function ss(){return(ss=Object(d.a)(v.a.mark((function e(t,n,r){var i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r.fetch);case 2:return i=e.sent,e.next=5,i.arrayBuffer();case 5:return a=e.sent,e.next=8,n(a,r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?us(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e){return fs.apply(this,arguments)}function fs(){return(fs=Object(d.a)(v.a.mark((function e(t){var n,r,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,hs(t,n);case 3:return r=e.sent,e.next=6,is(r,gn,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return(ds=Object(d.a)(v.a.mark((function e(t,n){var r,i,a=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},0===(i=n&&n.image&&n.image.mipLevels||0)){e.next=8;break}return e.next=5,ps(t,i,n,r);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=Ko(t,n,r);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t,n,r){return vs.apply(this,arguments)}function vs(){return(vs=Object(d.a)(v.a.mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],"auto"!==n){e.next=9;break}return o=Ko(t,r,cs(cs({},i),{},{lod:0})),e.next=5,os(o,gn,r);case 5:s=e.sent,u=Kt(s),c=u.width,l=u.height,n=ms({width:c,height:l}),a.push(o);case 9:for(Ft(n>0),f=a.length;f<n;++f)h=Ko(t,r,cs(cs({},i),{},{lod:f})),a.push(h);return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e){var t=e.width,n=e.height;return 1+Math.floor(Math.log2(Math.max(t,n)))}var gs,bs=function(){function e(e,t){var n=t.brdfLutUrl,r=t.getTexUrl,i=t.specularMipLevels,a=void 0===i?10:i;this.gl=e,this.brdfLutUrl=n,this.getTexUrl=r,this.specularMipLevels=a}var t=e.prototype;return t.makeCube=function(e){var t=e.id,n=e.getTextureForFace,r=e.parameters,i={};return qo.a.FACES.forEach((function(e){i[e]=n(e)})),new qo.a(this.gl,{id:t,mipmaps:!1,parameters:r,pixels:i})},t.getDiffuseEnvSampler=function(){var e,t=this;this._DiffuseEnvSampler||(this._DiffuseEnvSampler=this.makeCube({id:"DiffuseEnvSampler",getTextureForFace:function(e){return ls(t.getTexUrl("diffuse",e,0))},parameters:(e={},e[Ia.a.TEXTURE_WRAP_S]=Ia.a.CLAMP_TO_EDGE,e[Ia.a.TEXTURE_WRAP_T]=Ia.a.CLAMP_TO_EDGE,e[Ia.a.TEXTURE_MIN_FILTER]=Ia.a.LINEAR,e[Ia.a.TEXTURE_MAG_FILTER]=Ia.a.LINEAR,e)}));return this._DiffuseEnvSampler},t.getSpecularEnvSampler=function(){var e,t=this;this._SpecularEnvSampler||(this._SpecularEnvSampler=this.makeCube({id:"SpecularEnvSampler",getTextureForFace:function(e){for(var n=[],r=0;r<=t.specularMipLevels-1;r++)n.push(ls(t.getTexUrl("specular",e,r)));return n},parameters:(e={},e[Ia.a.TEXTURE_WRAP_S]=Ia.a.CLAMP_TO_EDGE,e[Ia.a.TEXTURE_WRAP_T]=Ia.a.CLAMP_TO_EDGE,e[Ia.a.TEXTURE_MIN_FILTER]=Ia.a.LINEAR_MIPMAP_LINEAR,e[Ia.a.TEXTURE_MAG_FILTER]=Ia.a.LINEAR,e)}));return this._SpecularEnvSampler},t.getBrdfTexture=function(){var e;this._BrdfTexture||(this._BrdfTexture=new Do.a(this.gl,{id:"brdfLUT",parameters:(e={},e[Ia.a.TEXTURE_WRAP_S]=Ia.a.CLAMP_TO_EDGE,e[Ia.a.TEXTURE_WRAP_T]=Ia.a.CLAMP_TO_EDGE,e[Ia.a.TEXTURE_MIN_FILTER]=Ia.a.LINEAR,e[Ia.a.TEXTURE_MAG_FILTER]=Ia.a.LINEAR,e),data:ls(this.brdfLutUrl)}));return this._BrdfTexture},t.delete=function(){this._DiffuseEnvSampler&&(this._DiffuseEnvSampler.delete(),this._DiffuseEnvSampler=null),this._SpecularEnvSampler&&(this._SpecularEnvSampler.delete(),this._SpecularEnvSampler=null),this._BrdfTexture&&(this._BrdfTexture.delete(),this._BrdfTexture=null)},e}(),ys=n("yeNo");function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _s=((gs={})[Ia.a.TEXTURE_CUBE_MAP_POSITIVE_X]="right",gs[Ia.a.TEXTURE_CUBE_MAP_NEGATIVE_X]="left",gs[Ia.a.TEXTURE_CUBE_MAP_POSITIVE_Y]="top",gs[Ia.a.TEXTURE_CUBE_MAP_NEGATIVE_Y]="bottom",gs[Ia.a.TEXTURE_CUBE_MAP_POSITIVE_Z]="front",gs[Ia.a.TEXTURE_CUBE_MAP_NEGATIVE_Z]="back",gs),xs="https://raw.githubusercontent.com/uber-common/deck.gl-data/master/luma.gl/examples/gltf/",js={default:{directionalLights:[{color:[255,255,255],direction:[0,.5,.5],intensity:1}]},ambient:{ambientLight:{color:[255,255,255],intensity:1}},directional1:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},directional3:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1},{color:[0,0,255],direction:[0,0,1],intensity:1},{color:[0,255,0],direction:[0,1,0],intensity:1}]},point1far:{pointLights:[{color:[255,0,0],position:[200,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},point1near:{pointLights:[{color:[255,0,0],position:[10,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}}},Es={pbrDebug:!0,imageBasedLightingEnvironment:null,lights:!1};function As(e,t,n){return Ts.apply(this,arguments)}function Ts(){return(Ts=Object(d.a)(v.a.mark((function e(t,n,r){var i,a,o,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?window.fetch(t):t,e.next=3,Pt(i,ma,Os(Os({},r),{},{gl:n}));case 3:return a=e.sent,o=Ho(n,a,r),s=o.scenes,u=o.animator,s[0].traverse((function(e,t){t.worldMatrix;return Ma.i.info(4,"Using model: ",e)()})),e.abrupt("return",{scenes:s,animator:u,gltf:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ss=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this,Os(Os({},t),{},{glOptions:{webgl1:!0,webgl2:!0,alpha:!1}}))||this;var r=t,i=r.modelFile,a=void 0===i?null:i,o=r.initialZoom,s=void 0===o?2:o;return n.scenes=[],n.animator=null,n.gl=null,n.modelFile=a,n.mouse={lastX:0,lastY:0},n.translate=s,n.rotation=[0,0],n.rotationStart=[0,0],n.u_ScaleDiffBaseMR=[0,0,0,0],n.u_ScaleFGDSpec=[0,0,0,0],n.attachTimeline(new Na.a),n.timeline.play(),n.timelineChannel=n.timeline.addChannel({rate:.5}),n.animationHandle=null,n.onInitialize=n.onInitialize.bind(Object(h.a)(n)),n.onRender=n.onRender.bind(Object(h.a)(n)),n.gltf=null,n._setDisplay(new zo.a),n}Object(s.a)(t,e),t.getInfo=function(){return'\n<p><b>glTF Loader</b>.</p>\n<p>Rendered using luma.gl.</p>\n<div>\n  Show\n  <select id="showSelector">\n    <option value="0 0 0 0 0 0 0 0">Final Result</option>\n\n    <option value="0 1 0 0 0 0 0 0">Base Color</option>\n    <option value="0 0 1 0 0 0 0 0">Metallic</option>\n    <option value="0 0 0 1 0 0 0 0">Roughness</option>\n    <option value="1 0 0 0 0 0 0 0">Diffuse</option>\n\n    <option value="0 0 0 0 1 0 0 0">Specular Reflection</option>\n    <option value="0 0 0 0 0 1 0 0">Geometric Occlusion</option>\n    <option value="0 0 0 0 0 0 1 0">Microfacet Distribution</option>\n    <option value="0 0 0 0 0 0 0 1">Specular</option>\n  </select>\n  <br>\n</div>\n<div>\n  Regular Lights\n  <select id="lightSelector">\n    <option value="default">Default</option>\n    <option value="ambient">Ambient Only</option>\n    <option value="directional1">1x Directional (Red) + Ambient</option>\n    <option value="directional3">3x Directional (RGB)</option>\n    <option value="point1far">1x Point Light Far (Red) + Ambient</option>\n    <option value="point1near">1x Point Light Near (Red) + Ambient</option>\n  </select>\n  <br>\n</div>\n<div>\n  Image-Based Light\n  <select id="iblSelector">\n    <option value="exclusive">On (Exclusive)</option>\n    <option value="addition">On (Addition to Regular)</option>\n    <option value="off">Off (Only Regular)</option>\n  </select>\n  <br>\n</div>\n<p><img src="https://img.shields.io/badge/WebVR-Supported-orange.svg" /></p>\n'};var n=t.prototype;return n.initalizeEventHandling=function(e){var t=this,n=!1,r=function(e,r){t.mouse.lastX=e,t.mouse.lastY=r,t.rotationStart[0]=t.rotation[0],t.rotationStart[1]=t.rotation[1],n=!0},i=function(e,r){if(n){var i=e-t.mouse.lastX,a=r-t.mouse.lastY;t.rotation[0]=t.rotationStart[0]+a/100,t.rotation[1]=t.rotationStart[1]+i/100}};e.addEventListener("wheel",(function(e){t.translate+=e.deltaY/10,t.translate<.5&&(t.translate=.5),e.preventDefault()})),e.addEventListener("mousedown",(function(e){r(e.clientX,e.clientY),e.preventDefault()})),e.addEventListener("mouseup",(function(e){n=!1})),e.addEventListener("mousemove",(function(e){i(e.clientX,e.clientY)})),e.addEventListener("touchstart",(function(e){r(e.touches[0].clientX,e.touches[0].clientY),e.preventDefault()})),e.addEventListener("touchmove",(function(e){i(e.touches[0].clientX,e.touches[0].clientY)})),e.addEventListener("touchend",(function(e){0===e.touches.length&&(n=!1)})),e.addEventListener("dragover",(function(e){e.dataTransfer.dropEffect="link",e.preventDefault()})),e.addEventListener("drop",(function(e){(e.preventDefault(),e.dataTransfer.files&&1===e.dataTransfer.files.length)&&(t._deleteScenes(),As(new Promise((function(t){var n=new window.FileReader;n.onload=function(e){return t(e.target.result)},n.readAsArrayBuffer(e.dataTransfer.files[0])})),t.gl,t.loadOptions).then((function(e){return t._fileLoaded(e)})))}))},n._fileLoaded=function(e){null!==this.animationHandle&&(this.timeline.detachAnimation(this.animationHandle),this.animationHandle=null),this.animator=null,Object.assign(this,e),this.animator&&(this.animationHandle=this.timeline.attachAnimation(this.animator,this.timelineChannel))},n.onInitialize=function(e){var t=this,n=e.gl,r=e.canvas;if(Object(Ma.m)(n,{depthTest:!0,blend:!1}),this.loadOptions=Es,this.environment=new bs(n,{brdfLutUrl:xs+"/brdfLUT.png",getTexUrl:function(e,t,n){return xs+"/papermill/"+e+"/"+e+"_"+_s[t]+"_"+n+".jpg"}}),this.loadOptions.imageBasedLightingEnvironment=this.environment,this.gl=n,this.modelFile){As(this.modelFile,this.gl,{pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0}).then((function(e){return t._fileLoaded(e)}))}else{As(xs+"DamagedHelmet.glb",this.gl,this.loadOptions).then((function(e){return t._fileLoaded(e)}))}var i=document.getElementById("showSelector");i&&(i.onchange=function(e){var n=i.value.split(" ").map((function(e){return parseFloat(e)}));t.u_ScaleDiffBaseMR=n.slice(0,4),t.u_ScaleFGDSpec=n.slice(4)});var a=document.getElementById("lightSelector");a&&(a.onchange=function(e){t.light=a.value});var o=document.getElementById("iblSelector");o&&(o.onchange=function(e){t._updateLightSettings(o.value),t._rebuildModel()}),this.initalizeEventHandling(r)},n._updateLightSettings=function(e){switch(e){case"exclusive":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!1});break;case"addition":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!0});break;case"off":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:null,lights:!0})}},n._rebuildModel=function(){(this.gltf.meshes||[]).forEach((function(e){return delete e._mesh})),(this.gltf.nodes||[]).forEach((function(e){return delete e._node})),(this.gltf.bufferViews||[]).forEach((function(e){return delete e.lumaBuffers})),this._deleteScenes(),Object.assign(this,Ho(this.gl,this.gltf,this.loadOptions))},n._deleteScenes=function(){this.scenes.forEach((function(e){return e.delete()})),this.scenes=[],La.a.get("Resource Counts").forEach((function(e){var t=e.name,n=e.count;Ma.i.info(3,t+": "+n)()}))},n.applyLight=function(e){e.updateModuleSettings({lightSources:js[this.light||"default"]})},n.onRender=function(e){var t=this,n=e.gl,r=(e.time,e.aspect),i=e.viewMatrix,a=e.projectionMatrix;Object(Da.a)(n,{color:[.2,.2,.2,1],depth:!0});var o=this.rotation,s=o[0],u=o[1],c=[-this.translate*Math.sin(u)*Math.cos(-s),-this.translate*Math.sin(-s),this.translate*Math.cos(u)*Math.cos(-s)],l=new Pa.a(i?Array.from(i):null).translate([0,0,-this.translate]).rotateX(s).rotateY(u),f=a?new Pa.a(Array.from(a)):(new Pa.a).perspective({fov:Object(ys.e)(40),aspect:r,near:.1,far:9e3});if(!this.scenes.length)return!1;var h=!0;return this.scenes[0].traverse((function(e,n){var r=n.worldMatrix,i=new Pa.a(f).multiplyRight(l).multiplyRight(r);t.applyLight(e),h=h&&e.draw({uniforms:{u_Camera:c,u_MVPMatrix:i,u_ModelMatrix:r,u_NormalMatrix:new Pa.a(r).invert().transpose(),u_ScaleDiffBaseMR:t.u_ScaleDiffBaseMR,u_ScaleFGDSpec:t.u_ScaleFGDSpec},parameters:e.props.parameters})})),h},t}(Ra.a);if("undefined"!=typeof window&&!window.website){(new Ss).start();var ks=document.createElement("div");ks.innerHTML=Ss.getInfo(),document.body.appendChild(ks)}var Is=function(e){function t(){return e.apply(this,arguments)||this}return Object(s.a)(t,e),t.prototype.render=function(){return c.a.createElement(l.a,{AnimationLoop:Ss,exampleConfig:this.props.pageContext.exampleConfig})},t}(c.a.Component)},KmKo:function(e,t,n){var r=n("glrk"),i=n("3Eq5");e.exports=function(e,t,n){var a,o;r(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=a.call(e)}catch(s){o=!0,a=s}if("throw"===t)throw n;if(o)throw a;return r(a),n}},NaFW:function(e,t,n){var r=n("9d/t"),i=n("3Eq5"),a=n("P4y1"),o=n("tiKp")("iterator");e.exports=function(e){if(null!=e)return i(e,o)||i(e,"@@iterator")||a[r(e)]}},P4y1:function(e,t){e.exports={}},SDD5:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("1OyB"),i=n("vuIU"),a=n("Ji7U"),o=n("md7G"),s=n("foSv"),u=n("bE5S"),c=n("fOPP"),l=n("2plT");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var h=function(e){Object(a.a)(n,e);var t=f(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"ELEMENTS",get:function(){return Object(l.a)(!1),0}},{key:"copy",value:function(e){return Object(l.a)(!1),this}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Object(c.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Object(c.a)(e)}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-e[n];t+=r*r}return Object(c.a)(t)}},{key:"dot",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return Object(c.a)(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]*=a[o];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]/=a[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return Object(l.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(c.a)(this[e])}},{key:"setComponent",value:function(e,t){return Object(l.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}]),n}(u.a),d=n("yeNo"),p=n("MTwu"),v=n("vtVt");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var g=[0,0,0],b={},y=function(e){Object(a.a)(n,e);var t=m(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,n),e=t.call(this,-0,-0,-0),1===arguments.length&&Object(d.d)(i)?e.copy(i):(d.a.debug&&(Object(c.a)(i),Object(c.a)(a),Object(c.a)(o)),e[0]=i,e[1]=a,e[2]=o),e}return Object(i.a)(n,[{key:"set",value:function(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return d.a.debug&&(Object(c.a)(e.x),Object(c.a)(e.y),Object(c.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Object(c.a)(e)}},{key:"angle",value:function(e){return p.a(this,e)}},{key:"cross",value:function(e){return p.c(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?g:n;return p.h(this,this,r,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?g:n;return p.i(this,this,r,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?g:n;return p.j(this,this,r,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return p.l(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(v.c)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return p.k(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(v.b)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return p.m(this,this,e),this.check()}}],[{key:"ZERO",get:function(){return b.ZERO=b.ZERO||Object.freeze(new n(0,0,0,0))}}]),n}(h)},WHLF:function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var i="object"!=typeof e||"[object process]"!==String(e)||e.browser,a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==r&&r},o=a.global||a.self||a.window}).call(this,n("8oxB"),n("yLpj"))},bFeb:function(e,t,n){n("I+eb")({global:!0},{globalThis:n("2oRo")})},gg6r:function(e,t,n){"use strict";var r=n("I+eb"),i=n("We1y"),a=n("8GlL"),o=n("5mdu"),s=n("ImZN");r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,c=o((function(){var n=i(t.resolve),a=[],o=0,u=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--u||r(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return c.error&&u(c.value),n.promise}})},gxoF:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("HaE+"),i=n("1OyB"),a=n("vuIU"),o=n("o0o1"),s=n.n(o),u=n("rePB"),c=n(15),l=function(){function e(){Object(i.a)(this,e),Object(u.a)(this,"onload",void 0),Object(u.a)(this,"onabort",void 0),Object(u.a)(this,"onerror",void 0),Object(u.a)(this,"error",void 0),Object(u.a)(this,"onloadstart",void 0),Object(u.a)(this,"onloadend",void 0),Object(u.a)(this,"onprogress",void 0),Object(u.a)(this,"readyState",void 0),Object(u.a)(this,"result",void 0),Object(u.a)(this,"DONE",void 0),Object(u.a)(this,"EMPTY",void 0),Object(u.a)(this,"LOADING",void 0),Object(u.a)(this,"addEventListener",void 0),Object(u.a)(this,"removeEventListener",void 0),Object(u.a)(this,"dispatchEvent",void 0),this.onload=null}var t,n,o,l;return Object(a.a)(e,[{key:"abort",value:function(){}},{key:"readAsArrayBuffer",value:(l=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:n=e.sent,this.onload&&this.onload({target:{result:n}});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"readAsBinaryString",value:(o=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("Not implemented");case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"readAsDataURL",value:(n=Object(r.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:n=e.sent,r="data://;base64,".concat(Object(c.atob)(n)),this.onload&&this.onload({target:{result:r}});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"readAsText",value:(t=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:n=e.sent,this.onload&&this.onload({target:{result:n}});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},"j+VE":function(e,t,n){n("bFeb")},j3u8:function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function a(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function o(){}function s(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,n,r,i,a){function o(e,t,r){e in n.attributeNames&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,r)}for(var s,u=++t,c=0;;){var l=e.charAt(u);switch(l){case"=":if(1===c)s=e.slice(t,u),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(a.warning('attribute value must after "="'),s=e.slice(t,u)),t=u+1,!((u=e.indexOf(l,t))>0))throw new Error("attribute value no end '"+l+"' match");o(s,f=e.slice(t,u).replace(/&#?\w+;/g,i),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');o(s,f=e.slice(t,u).replace(/&#?\w+;/g,i),t),a.warning('attribute "'+s+'" missed start quot('+l+")!!"),t=u+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,u)),u;case">":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(f=e.slice(t,u)).slice(-1)&&(n.closed=!0,f=f.slice(0,-1));case 2:2===c&&(f=s),4==c?(a.warning('attribute "'+f+'" missed quot(")!'),o(s,f.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&f.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),o(f,f,t));break;case 3:throw new Error("attribute value missed!!")}return u;case"":l=" ";default:if(l<=" ")switch(c){case 0:n.setTagName(e.slice(t,u)),c=6;break;case 1:s=e.slice(t,u),c=2;break;case 4:var f=e.slice(t,u).replace(/&#?\w+;/g,i);a.warning('attribute "'+f+'" missed quot(")!!'),o(s,f,t);case 5:c=6}else switch(c){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&s.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),o(s,s,t),t=u,c=1;break;case 5:a.warning('attribute space is required"'+s+'"!!');case 6:c=1,t=u;break;case 3:c=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function c(e,t,n){for(var r=e.tagName,i=null,a=e.length;a--;){var o=e[a],s=o.qName,u=o.value;if((d=s.indexOf(":"))>0)var c=o.prefix=s.slice(0,d),l=s.slice(d+1),f="xmlns"===c&&l;else l=s,c=null,f="xmlns"===s&&"";o.localName=l,!1!==f&&(null==i&&(i={},h(n,n={})),n[f]=i[f]=u,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,u))}for(a=e.length;a--;){(c=(o=e[a]).prefix)&&("xml"===c&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(o.uri=n[c||""]))}var d;(d=r.indexOf(":"))>0?(c=e.prefix=r.slice(0,d),l=e.localName=r.slice(d+1)):(c=null,l=e.localName=r);var p=e.uri=n[c||""];if(t.startElement(p,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(p,l,r),i)for(c in i)t.endPrefixMapping(c)}function l(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),a)}return t+1}function f(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function h(e,t){for(var n in e)t[n]=e[n]}function d(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var l=a[o-1];return n.startDTD(s,u,c),n.endDTD(),l.index+l[0].length}}return-1}function p(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function v(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),h(t,t={}),function(e,t,n,r,i){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function h(t){if(t>x){var n=e.substring(x,t).replace(/&#?\w+;/g,o);w&&m(x),r.characters(n,0,t-x),x=t}}function m(t,n){for(;t>=b&&(n=y.exec(e));)g=n.index,b=g+n[0].length,w.lineNumber++;w.columnNumber=t-g+1}var g=0,b=0,y=/.*(?:\r\n?|\n)|.*$/g,w=r.locator,O=[{currentNSMap:t}],_={},x=0;for(;;){try{var j=e.indexOf("<",x);if(j<0){if(!e.substr(x).match(/^\s*$/)){var E=r.doc,A=E.createTextNode(e.substr(x));E.appendChild(A),r.currentElement=A}return}switch(j>x&&h(j),e.charAt(j+1)){case"/":var T=e.indexOf(">",j+3),S=e.substring(j+2,T),k=O.pop();T<0?(S=e.substring(j+2).replace(/[\s<].*/,""),i.error("end tag name: "+S+" is not complete:"+k.tagName),T=j+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),i.error("end tag name: "+S+" maybe not complete"),T=j+1+S.length);var I=k.localNSMap,N=k.tagName==S;if(N||k.tagName&&k.tagName.toLowerCase()==S.toLowerCase()){if(r.endElement(k.uri,k.localName,S),I)for(var R in I)r.endPrefixMapping(R);N||i.fatalError("end tag name: "+S+" is not match the current start tagName:"+k.tagName)}else O.push(k);T++;break;case"?":w&&m(j),T=p(e,j,r);break;case"!":w&&m(j),T=d(e,j,r,i);break;default:w&&m(j);var M=new v,L=O[O.length-1].currentNSMap,D=(T=u(e,j,M,L,o,i),M.length);if(!M.closed&&f(e,T,M.tagName,_)&&(M.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),w&&D){for(var P=s(w,{}),C=0;C<D;C++){var B=M[C];m(B.offset),B.locator=s(w,{})}r.locator=P,c(M,r,L)&&O.push(M),r.locator=w}else c(M,r,L)&&O.push(M);"http://www.w3.org/1999/xhtml"!==M.uri||M.closed?T++:T=l(e,T,M.tagName,o,r)}}catch(U){if(U instanceof a)throw U;i.error("element parse error: "+U),T=-1}T>x?x=T:h(Math.max(j,x)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},v.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=o,t.ParseError=a},mgqj:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},a=i.global||i.self||i.window,o="object"!=typeof r||"[object process]"!==String(r)||r.browser,s=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version);s&&parseFloat(s[1])}).call(this,n("yLpj"),n("8oxB"))},"mh/w":function(e,t,n){var r=n("We1y"),i=n("glrk"),a=n("NaFW");e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(r(n))return i(n.call(e));throw TypeError(String(e)+" is not iterable")}},nGEl:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},a=i.global||i.self||i.window||{},o="object"!=typeof r||"[object process]"!==String(r)||r.browser,s=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version);s&&parseFloat(s[1])}).call(this,n("yLpj"),n("8oxB"))},qxLR:function(e,t,n){(function(t){n("IZzc");var r=n("AMGN");function i(e,t,n){return t<=e&&e<=n}t["encoding-indexes"]=r&&r["encoding-indexes"]||{};var a=Math.floor;function o(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){return 0<=e&&e<=127}var u=s;function c(e){this.tokens=[].slice.call(e),this.tokens.reverse()}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};function l(e,t){if(e)throw TypeError("Decoder error");return t||65533}function f(e){throw TypeError("The code point "+e+" could not be encoded.")}function h(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(p,e)?p[e]:null}var d=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],p={};d.forEach((function(e){e.encodings.forEach((function(e){e.labels.forEach((function(t){p[t]=e}))}))}));var v,m,g={},b={};function y(e,t){return t&&t[e]||null}function w(e,t){var n=t.indexOf(e);return-1===n?null:n}function O(e){if(!("encoding-indexes"in t))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return t["encoding-indexes"][e]}function _(e,t){if(!(this instanceof _))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):"utf-8",t=o(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=h(e);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+e);if(!b[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");return this._encoding=n,Boolean(t.fatal)&&(this._error_mode="fatal"),Boolean(t.ignoreBOM)&&(this._ignoreBOM=!0),Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM),this}function x(e,n){if(!(this instanceof x))throw TypeError("Called as a function. Did you forget 'new'?");n=o(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(n.fatal)?"fatal":"replacement";if(Boolean(n.NONSTANDARD_allowLegacyEncoding)){var r=h(e=void 0!==e?String(e):"utf-8");if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+e);if(!g[r.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=r}else this._encoding=h("utf-8"),void 0!==e&&"console"in t&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function j(e){var t=e.fatal,n=0,r=0,a=0,o=128,s=191;this.handler=function(e,u){if(-1===u&&0!==a)return a=0,l(t);if(-1===u)return-1;if(0===a){if(i(u,0,127))return u;if(i(u,194,223))a=1,n=31&u;else if(i(u,224,239))224===u&&(o=160),237===u&&(s=159),a=2,n=15&u;else{if(!i(u,240,244))return l(t);240===u&&(o=144),244===u&&(s=143),a=3,n=7&u}return null}if(!i(u,o,s))return n=a=r=0,o=128,s=191,e.prepend(u),l(t);if(o=128,s=191,n=n<<6|63&u,(r+=1)!==a)return null;var c=n;return n=a=r=0,c}}function E(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t))return t;var n,r;i(t,128,2047)?(n=1,r=192):i(t,2048,65535)?(n=2,r=224):i(t,65536,1114111)&&(n=3,r=240);for(var a=[(t>>6*n)+r];n>0;){var o=t>>6*(n-1);a.push(128|63&o),n-=1}return a}}function A(e,t){var n=t.fatal;this.handler=function(t,r){if(-1===r)return-1;if(s(r))return r;var i=e[r-128];return null===i?l(n):i}}function T(e,t){t.fatal;this.handler=function(t,n){if(-1===n)return-1;if(u(n))return n;var r=w(n,e);return null===r&&f(n),r+128}}function S(e){var t=e.fatal,n=0,r=0,a=0;this.handler=function(e,o){if(-1===o&&0===n&&0===r&&0===a)return-1;var u;if(-1!==o||0===n&&0===r&&0===a||(n=0,r=0,a=0,l(t)),0!==a){u=null,i(o,48,57)&&(u=function(e){if(e>39419&&e<189e3||e>1237575)return null;if(7457===e)return 59335;var t,n=0,r=0,i=O("gb18030-ranges");for(t=0;t<i.length;++t){var a=i[t];if(!(a[0]<=e))break;n=a[0],r=a[1]}return r+e-n}(10*(126*(10*(n-129)+r-48)+a-129)+o-48));var c=[r,a,o];return n=0,r=0,a=0,null===u?(e.prepend(c),l(t)):u}if(0!==r)return i(o,129,254)?(a=o,null):(e.prepend([r,o]),n=0,r=0,l(t));if(0!==n){if(i(o,48,57))return r=o,null;var f=n,h=null;n=0;var d=o<127?64:65;return(i(o,64,126)||i(o,128,254))&&(h=190*(f-129)+(o-d)),null===(u=null===h?null:y(h,O("gb18030")))&&s(o)&&e.prepend(o),null===u?l(t):u}return s(o)?o:128===o?8364:i(o,129,254)?(n=o,null):l(t)}}function k(e,t){e.fatal;this.handler=function(e,n){if(-1===n)return-1;if(u(n))return n;if(58853===n)return f(n);if(t&&8364===n)return 128;var r=w(n,O("gb18030"));if(null!==r){var i=r%190;return[a(r/190)+129,i+(i<63?64:65)]}if(t)return f(n);r=function(e){if(59335===e)return 7457;var t,n=0,r=0,i=O("gb18030-ranges");for(t=0;t<i.length;++t){var a=i[t];if(!(a[1]<=e))break;n=a[1],r=a[0]}return r+e-n}(n);var o=a(r/10/126/10),s=a((r-=10*o*126*10)/10/126),c=a((r-=10*s*126)/10);return[o+129,s+48,c+129,r-10*c+48]}}function I(e){var t=e.fatal,n=0;this.handler=function(e,r){if(-1===r&&0!==n)return n=0,l(t);if(-1===r&&0===n)return-1;if(0!==n){var a=n,o=null;n=0;var u=r<127?64:98;switch((i(r,64,126)||i(r,161,254))&&(o=157*(a-129)+(r-u)),o){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var c=null===o?null:y(o,O("big5"));return null===c&&s(r)&&e.prepend(r),null===c?l(t):c}return s(r)?r:i(r,129,254)?(n=r,null):l(t)}}function N(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t))return t;var n=function(e){var t=m=m||O("big5").map((function(e,t){return t<5024?null:e}));return 9552===e||9566===e||9569===e||9578===e||21313===e||21317===e?t.lastIndexOf(e):w(e,t)}(t);if(null===n)return f(t);var r=a(n/157)+129;if(r<161)return f(t);var i=n%157;return[r,i+(i<63?64:98)]}}function R(e){var t=e.fatal,n=!1,r=0;this.handler=function(e,a){if(-1===a&&0!==r)return r=0,l(t);if(-1===a&&0===r)return-1;if(142===r&&i(a,161,223))return r=0,65216+a;if(143===r&&i(a,161,254))return n=!0,r=a,null;if(0!==r){var o=r;r=0;var u=null;return i(o,161,254)&&i(a,161,254)&&(u=y(94*(o-161)+(a-161),O(n?"jis0212":"jis0208"))),n=!1,i(a,161,254)||e.prepend(a),null===u?l(t):u}return s(a)?a:142===a||143===a||i(a,161,254)?(r=a,null):l(t)}}function M(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t))return t;if(165===t)return 92;if(8254===t)return 126;if(i(t,65377,65439))return[142,t-65377+161];8722===t&&(t=65293);var n=w(t,O("jis0208"));return null===n?f(t):[a(n/94)+161,n%94+161]}}function L(e){var t=e.fatal,n=0,r=1,a=2,o=3,s=4,u=5,c=6,f=n,h=n,d=0,p=!1;this.handler=function(e,v){switch(f){default:case n:return 27===v?(f=u,null):i(v,0,127)&&14!==v&&15!==v&&27!==v?(p=!1,v):-1===v?-1:(p=!1,l(t));case r:return 27===v?(f=u,null):92===v?(p=!1,165):126===v?(p=!1,8254):i(v,0,127)&&14!==v&&15!==v&&27!==v&&92!==v&&126!==v?(p=!1,v):-1===v?-1:(p=!1,l(t));case a:return 27===v?(f=u,null):i(v,33,95)?(p=!1,65344+v):-1===v?-1:(p=!1,l(t));case o:return 27===v?(f=u,null):i(v,33,126)?(p=!1,d=v,f=s,null):-1===v?-1:(p=!1,l(t));case s:if(27===v)return f=u,l(t);if(i(v,33,126)){f=o;var m=y(94*(d-33)+v-33,O("jis0208"));return null===m?l(t):m}return-1===v?(f=o,e.prepend(v),l(t)):(f=o,l(t));case u:return 36===v||40===v?(d=v,f=c,null):(e.prepend(v),p=!1,f=h,l(t));case c:var g=d;d=0;var b=null;if(40===g&&66===v&&(b=n),40===g&&74===v&&(b=r),40===g&&73===v&&(b=a),36!==g||64!==v&&66!==v||(b=o),null!==b){f=f=b;var w=p;return p=!0,w?l(t):null}return e.prepend([g,v]),p=!1,f=h,l(t)}}}function D(e){e.fatal;var t=0,n=1,r=2,i=t;this.handler=function(e,o){if(-1===o&&i!==t)return e.prepend(o),i=t,[27,40,66];if(-1===o&&i===t)return-1;if(!(i!==t&&i!==n||14!==o&&15!==o&&27!==o))return f(65533);if(i===t&&u(o))return o;if(i===n&&(u(o)&&92!==o&&126!==o||165==o||8254==o)){if(u(o))return o;if(165===o)return 92;if(8254===o)return 126}if(u(o)&&i!==t)return e.prepend(o),i=t,[27,40,66];if((165===o||8254===o)&&i!==n)return e.prepend(o),i=n,[27,40,74];8722===o&&(o=65293);var s=w(o,O("jis0208"));return null===s?f(o):i!==r?(e.prepend(o),i=r,[27,36,66]):[a(s/94)+33,s%94+33]}}function P(e){var t=e.fatal,n=0;this.handler=function(e,r){if(-1===r&&0!==n)return n=0,l(t);if(-1===r&&0===n)return-1;if(0!==n){var a=n,o=null;n=0;var u=r<127?64:65,c=a<160?129:193;if((i(r,64,126)||i(r,128,252))&&(o=188*(a-c)+r-u),i(o,8836,10715))return 48508+o;var f=null===o?null:y(o,O("jis0208"));return null===f&&s(r)&&e.prepend(r),null===f?l(t):f}return s(r)||128===r?r:i(r,161,223)?65216+r:i(r,129,159)||i(r,224,252)?(n=r,null):l(t)}}function C(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t)||128===t)return t;if(165===t)return 92;if(8254===t)return 126;if(i(t,65377,65439))return t-65377+161;8722===t&&(t=65293);var n=function(e){return(v=v||O("jis0208").map((function(e,t){return i(t,8272,8835)?null:e}))).indexOf(e)}(t);if(null===n)return f(t);var r=a(n/188),o=n%188;return[r+(r<31?129:193),o+(o<63?64:65)]}}function B(e){var t=e.fatal,n=0;this.handler=function(e,r){if(-1===r&&0!==n)return n=0,l(t);if(-1===r&&0===n)return-1;if(0!==n){var a=n,o=null;n=0,i(r,65,254)&&(o=190*(a-129)+(r-65));var u=null===o?null:y(o,O("euc-kr"));return null===o&&s(r)&&e.prepend(r),null===u?l(t):u}return s(r)?r:i(r,129,254)?(n=r,null):l(t)}}function U(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t))return t;var n=w(t,O("euc-kr"));return null===n?f(t):[a(n/190)+129,n%190+65]}}function F(e,t){var n=e>>8,r=255&e;return t?[n,r]:[r,n]}function V(e,t){var n=t.fatal,r=null,a=null;this.handler=function(t,o){if(-1===o&&(null!==r||null!==a))return l(n);if(-1===o&&null===r&&null===a)return-1;if(null===r)return r=o,null;var s;if(s=e?(r<<8)+o:(o<<8)+r,r=null,null!==a){var u=a;return a=null,i(s,56320,57343)?65536+1024*(u-55296)+(s-56320):(t.prepend(F(s,e)),l(n))}return i(s,55296,56319)?(a=s,null):i(s,56320,57343)?l(n):s}}function G(e,t){t.fatal;this.handler=function(t,n){if(-1===n)return-1;if(i(n,0,65535))return F(n,e);var r=F(55296+(n-65536>>10),e),a=F(56320+(n-65536&1023),e);return r.concat(a)}}function H(e){e.fatal;this.handler=function(e,t){return-1===t?-1:s(t)?t:63360+t-128}}function z(e){e.fatal;this.handler=function(e,t){return-1===t?-1:u(t)?t:i(t,63360,63487)?t-63360+128:f(t)}}Object.defineProperty&&(Object.defineProperty(_.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(_.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(_.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),_.prototype.decode=function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=o(t),this._do_not_flush||(this._decoder=b[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var r,i=new c(n),a=[];;){var s=i.read();if(-1===s)break;if(-1===(r=this._decoder.handler(i,s)))break;null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r))}if(!this._do_not_flush){do{if(-1===(r=this._decoder.handler(i,i.read())))break;null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r))}while(!i.endOfStream());this._decoder=null}return function(e){var t,n;return t=["UTF-8","UTF-16LE","UTF-16BE"],n=this._encoding.name,-1===t.indexOf(n)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(e)}.call(this,a)},Object.defineProperty&&Object.defineProperty(x.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),x.prototype.encode=function(e,t){e=void 0===e?"":String(e),t=o(t),this._do_not_flush||(this._encoder=g[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var n,r=new c(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var a=t.charCodeAt(r);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var s=1023&a,u=1023&o;i.push(65536+(s<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(e)),i=[];;){var a=r.read();if(-1===a)break;if(-1===(n=this._encoder.handler(r,a)))break;Array.isArray(n)?i.push.apply(i,n):i.push(n)}if(!this._do_not_flush){for(;-1!==(n=this._encoder.handler(r,r.read()));)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)},g["UTF-8"]=function(e){return new E(e)},b["UTF-8"]=function(e){return new j(e)},"encoding-indexes"in t&&d.forEach((function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach((function(e){var t=e.name,n=O(t.toLowerCase());b[t]=function(e){return new A(n,e)},g[t]=function(e){return new T(n,e)}}))})),b.GBK=function(e){return new S(e)},g.GBK=function(e){return new k(e,!0)},g.gb18030=function(e){return new k(e)},b.gb18030=function(e){return new S(e)},g.Big5=function(e){return new N(e)},b.Big5=function(e){return new I(e)},g["EUC-JP"]=function(e){return new M(e)},b["EUC-JP"]=function(e){return new R(e)},g["ISO-2022-JP"]=function(e){return new D(e)},b["ISO-2022-JP"]=function(e){return new L(e)},g.Shift_JIS=function(e){return new C(e)},b.Shift_JIS=function(e){return new P(e)},g["EUC-KR"]=function(e){return new U(e)},b["EUC-KR"]=function(e){return new B(e)},g["UTF-16BE"]=function(e){return new G(!0,e)},b["UTF-16BE"]=function(e){return new V(!0,e)},g["UTF-16LE"]=function(e){return new G(!1,e)},b["UTF-16LE"]=function(e){return new V(!1,e)},g["x-user-defined"]=function(e){return new z(e)},b["x-user-defined"]=function(e){return new H(e)},e.exports={TextEncoder:x,TextDecoder:_}}).call(this,n("yLpj"))},vTrO:function(e,t,n){"use strict";(function(e){n(17),n(18),n("gxoF"),n(19)}).call(this,n("yLpj"))},wd0O:function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(!(r instanceof t)){function i(){}i.prototype=t.prototype,n(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i={},a=i.ELEMENT_NODE=1,o=i.ATTRIBUTE_NODE=2,s=i.TEXT_NODE=3,u=i.CDATA_SECTION_NODE=4,c=i.ENTITY_REFERENCE_NODE=5,l=i.ENTITY_NODE=6,f=i.PROCESSING_INSTRUCTION_NODE=7,h=i.COMMENT_NODE=8,d=i.DOCUMENT_NODE=9,p=i.DOCUMENT_TYPE_NODE=10,v=i.DOCUMENT_FRAGMENT_NODE=11,m=i.NOTATION_NODE=12,g={},b={},y=(g.INDEX_SIZE_ERR=(b[1]="Index size error",1),g.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),g.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),w=(g.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),g.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),g.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),g.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),g.NOT_FOUND_ERR=(b[8]="Not found",8)),O=(g.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),g.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));g.INVALID_STATE_ERR=(b[11]="Invalid state",11),g.SYNTAX_ERR=(b[12]="Syntax error",12),g.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),g.NAMESPACE_ERR=(b[14]="Invalid namespace",14),g.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function _(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,_);return n.code=e,t&&(this.message=this.message+": "+t),n}function x(){}function j(e,t){this._node=e,this._refresh=t,E(this)}function E(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);te(e,"length",r.length),n(r,e),e._inc=t}}function A(){}function T(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function S(e,t,n,r){if(r?t[T(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&D(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function k(e,t,n){var r=T(t,n);if(!(r>=0))throw _(w,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(D(a,e,n),n.ownerElement=null)}}function I(e){if(this._features={},e)for(var t in e)this._features=e[t]}function N(){}function R(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function M(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(M(e,t))return!0}while(e=e.nextSibling)}function L(){}function D(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function P(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a}}}function C(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,P(e.ownerDocument,e),t}function B(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===v){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var o=n?n.previousSibling:e.lastChild;i.previousSibling=o,a.nextSibling=n,o?o.nextSibling=i:e.firstChild=i,null==n?e.lastChild=a:n.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return P(e.ownerDocument||e,e),t.nodeType==v&&(t.firstChild=t.lastChild=null),t}function U(){this._nsMap={}}function F(){}function V(){}function G(){}function H(){}function z(){}function q(){}function W(){}function X(){}function K(){}function Q(){}function Y(){}function $(){}function J(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return ee(this,n,e,t,o),n.join("")}function Z(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var a=n.length;a--;){var o=n[a];if(o.prefix==r)return o.namespace!=i}return!0}function ee(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:i||(i=[]);i.length;var l=e.attributes,m=l.length,g=e.firstChild,b=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",b);for(var y=0;y<m;y++){"xmlns"==(w=l.item(y)).prefix?i.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&i.push({prefix:"",namespace:w.value})}for(y=0;y<m;y++){var w;if(Z(w=l.item(y),0,i)){var O=w.prefix||"",_=w.namespaceURI,x=O?" xmlns:"+O:" xmlns";t.push(x,'="',_,'"'),i.push({prefix:O,namespace:_})}ee(w,t,n,r,i)}if(Z(e,0,i)){O=e.prefix||"",_=e.namespaceURI,x=O?" xmlns:"+O:" xmlns";t.push(x,'="',_,'"'),i.push({prefix:O,namespace:_})}if(g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),n&&/^script$/i.test(b))for(;g;)g.data?t.push(g.data):ee(g,t,n,r,i),g=g.nextSibling;else for(;g;)ee(g,t,n,r,i),g=g.nextSibling;t.push("</",b,">")}else t.push("/>");return;case d:case v:for(g=e.firstChild;g;)ee(g,t,n,r,i),g=g.nextSibling;return;case o:return t.push(" ",e.name,'="',e.value.replace(/[&"]/g,R),'"');case s:return t.push(e.data.replace(/[<&]/g,R).replace(/]]>/g,"]]&gt;"));case u:return t.push("<![CDATA[",e.data,"]]>");case h:return t.push("\x3c!--",e.data,"--\x3e");case p:var j=e.publicId,E=e.systemId;if(t.push("<!DOCTYPE ",e.name),j)t.push(" PUBLIC ",j),E&&"."!=E&&t.push(" ",E),t.push(">");else if(E&&"."!=E)t.push(" SYSTEM ",E,">");else{var A=e.internalSubset;A&&t.push(" [",A,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){e[t]=n}_.prototype=Error.prototype,n(g,_),x.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},j.prototype.item=function(e){return E(this),this[e]},r(j,x),A.prototype={length:0,item:x.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new _(O);var n=this.getNamedItem(e.nodeName);return S(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new _(O);return t=this.getNamedItemNS(e.namespaceURI,e.localName),S(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return k(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return k(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},I.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new L;if(r.implementation=this,r.childNodes=new x,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new q;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return B(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return C(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var s in n){var u=n[s];"object"!=typeof u&&u!=i[s]&&(i[s]=u)}n.childNodes&&(i.childNodes=new x);switch(i.ownerDocument=t,i.nodeType){case a:var c=n.attributes,l=i.attributes=new A,f=c.length;l._ownerElement=i;for(var h=0;h<f;h++)i.setAttributeNode(e(t,c.item(h),!0));break;case o:r=!0}if(r)for(var d=n.firstChild;d;)i.appendChild(e(t,d,r)),d=d.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(i,N),n(i,N.prototype),L.prototype={nodeName:"#document",nodeType:d,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==v){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),B(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),C(this,e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case a:(i=n.cloneNode(!1)).ownerDocument=t;case v:break;case o:r=!0}i||(i=n.cloneNode(!1));if(i.ownerDocument=t,i.parentNode=null,r)for(var s=n.firstChild;s;)i.appendChild(e(t,s,r)),s=s.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return M(this.documentElement,(function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new j(this,(function(e){var n=[];return M(e.documentElement,(function(r){r!==e&&r.nodeType==a&&t.test(r.getAttribute("class"))&&n.push(r)})),n}))},createElement:function(e){var t=new U;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new x,(t.attributes=new A)._ownerElement=t,t},createDocumentFragment:function(){var e=new Q;return e.ownerDocument=this,e.childNodes=new x,e},createTextNode:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Y;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new F;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new K;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new U,r=t.split(":"),i=n.attributes=new A;return n.childNodes=new x,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new F,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(L,N),U.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===v?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,P(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new j(this,(function(t){var n=[];return M(t,(function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new j(this,(function(n){var r=[];return M(n,(function(i){i===n||i.nodeType!==a||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},L.prototype.getElementsByTagName=U.prototype.getElementsByTagName,L.prototype.getElementsByTagNameNS=U.prototype.getElementsByTagNameNS,r(U,N),F.prototype.nodeType=o,r(F,N),V.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[y])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(V,N),G.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(G,V),H.prototype={nodeName:"#comment",nodeType:h},r(H,V),z.prototype={nodeName:"#cdata-section",nodeType:u},r(z,V),q.prototype.nodeType=p,r(q,N),W.prototype.nodeType=m,r(W,N),X.prototype.nodeType=l,r(X,N),K.prototype.nodeType=c,r(K,N),Q.prototype.nodeName="#document-fragment",Q.prototype.nodeType=v,r(Q,N),Y.prototype.nodeType=f,r(Y,N),$.prototype.serializeToString=function(e,t,n){return J.call(e,t,n)},N.prototype.toString=J;try{if(Object.defineProperty){Object.defineProperty(j.prototype,"length",{get:function(){return E(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case a:case v:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case a:case v:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),te=function(e,t,n){e["$$"+t]=n}}}catch(ne){}t.Node=N,t.DOMException=_,t.DOMImplementation=I,t.XMLSerializer=$},xGy9:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n\n // Constant-Linear-Exponential\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n";function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o={lightSources:{}};function s(e){var t=void 0===e?{}:e,n=t.color,r=void 0===n?[0,0,0]:n,i=t.intensity,a=void 0===i?1:i;return r.map((function(e){return e*a/255}))}var u={name:"lights",vs:r,fs:r,getUniforms:function e(t){if(void 0===t&&(t=o),"lightSources"in t){var n=t.lightSources||{},r=n.ambientLight,a=n.pointLights,u=n.directionalLights;return r||a&&a.length>0||u&&u.length>0?Object.assign({},function(e){var t=e.ambientLight,n=e.pointLights,r=void 0===n?[]:n,i=e.directionalLights,a=void 0===i?[]:i,o={};return o["lighting_uAmbientLight.color"]=t?s(t):[0,0,0],r.forEach((function(e,t){o["lighting_uPointLight["+t+"].color"]=s(e),o["lighting_uPointLight["+t+"].position"]=e.position,o["lighting_uPointLight["+t+"].attenuation"]=e.attenuation||[1,0,0]})),o.lighting_uPointLightCount=r.length,a.forEach((function(e,t){o["lighting_uDirectionalLight["+t+"].color"]=s(e),o["lighting_uDirectionalLight["+t+"].direction"]=e.direction})),o.lighting_uDirectionalLightCount=a.length,o}({ambientLight:r,pointLights:a,directionalLights:u}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){for(var c,l={pointLights:[],directionalLights:[]},f=i(t.lights||[]);!(c=f()).done;){var h=c.value;switch(h.type){case"ambient":l.ambientLight=h;break;case"directional":l.directionalLights.push(h);break;case"point":l.pointLights.push(h)}}return e({lightSources:l})}return{}},defines:{MAX_LIGHTS:3}}}}]);
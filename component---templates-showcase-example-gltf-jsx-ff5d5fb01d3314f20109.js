(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},"75fp":function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return s}));var a=1,o=1,s=function(){function e(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}var t=e.prototype;return t.addChannel=function(e){var t=e.delay,n=void 0===t?0:t,r=e.duration,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.rate,s=void 0===o?1:o,u=e.repeat,c=a++,f={time:0,delay:n,duration:i,rate:s,repeat:void 0===u?1:u};return this._setChannelTime(f,this.time),this.channels.set(c,f),c},t.removeChannel=function(e){this.channels.delete(e);for(var t,n=r(this.animations);!(t=n()).done;){var i=t.value,a=i[0];i[1].channel===e&&this.detachAnimation(a)}},t.isFinished=function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat},t.getTime=function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time},t.setTime=function(e){this.time=Math.max(0,e);for(var t,n=r(this.channels.values());!(t=n()).done;){var i=t.value;this._setChannelTime(i,this.time)}for(var a,o=r(this.animations.values());!(a=o()).done;){var s=a.value,u=s.animation,c=s.channel;u.setTime(this.getTime(c))}},t.play=function(){this.playing=!0},t.pause=function(){this.playing=!1,this.lastEngineTime=-1},t.reset=function(){this.setTime(0)},t.attachAnimation=function(e,t){var n=o++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n},t.detachAnimation=function(e){this.animations.delete(e)},t.update=function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)},t._setChannelTime=function(e,t){var n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)},e}()},8:function(e,t){},9:function(e,t){},BOV5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("o0o1"),i=n.n(r),a=n("HaE+"),o=n("1OyB"),s=n("vuIU"),u=n(13),c=function(){function e(){Object(o.a)(this,e),this.onload=null}var t,n,r;return Object(s.a)(e,[{key:"abort",value:function(){}},{key:"readAsArrayBuffer",value:(r=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:n=e.sent,this.onload&&this.onload({target:{result:n}});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"readAsBinaryString",value:function(e){throw Error("Not implemented")}},{key:"readAsDataURL",value:(n=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:n=e.sent,r="data://;base64,".concat(Object(u.atob)(n)),this.onload&&this.onload({target:{result:r}});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"readAsText",value:(t=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:n=e.sent,this.onload&&this.onload({target:{result:n}});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},JDJB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return us}));var r={};n.r(r),n.d(r,"decode",(function(){return pr})),n.d(r,"encode",(function(){return gr}));var i={};n.r(i),n.d(i,"decode",(function(){return kr})),n.d(i,"encode",(function(){return Ar}));var a={};n.r(a),n.d(a,"decode",(function(){return jr})),n.d(a,"encode",(function(){return Tr}));var o={};n.r(o),n.d(o,"decode",(function(){return Lr})),n.d(o,"encode",(function(){return Mr}));var s=n("dI71"),u=n("q1tI"),c=n.n(u),f=n("z0FI"),l=n("o0o1"),h=n.n(l),d=(n("wcNg"),n("rePB")),p=n("JX7q"),v=n("HaE+");function g(e,t){if(!e)throw new Error(t||"loader assertion failed.")}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2.3.8";g(e,"no loader provided");var n=e.version;t&&n&&(t=y(t),n=y(n))}function y(e){var t=e.split(".").map(Number);return{major:t[0],minor:t[1]}}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);var t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches,n=e.options&&e.options[e.id];return t=t||n&&n.workerUrl}function x(e){var t;return g(e,"null loader"),g(_(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=w(w({},e=e[0]),{},{options:w(w({},e.options),t)})),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),g(e.extensions&&e.extensions.length>0&&e.extensions[0]),(e.parseTextSync||e.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}var O=n("nGEl"),k=n("U8pU"),A=function(e){return"boolean"==typeof e},E=function(e){return"function"==typeof e},S=function(e){return null!==e&&"object"===Object(k.a)(e)},j=function(e){return S(e)&&e.constructor==={}.constructor},T=function(e){return e&&"function"==typeof e[Symbol.iterator]},I=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]},R=function(e){return"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},L=function(e){return"undefined"!=typeof Blob&&e instanceof Blob},M=function(e){return function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||S(e)&&E(e.tee)&&E(e.cancel)&&E(e.getReader)}(e)||function(e){return S(e)&&E(e.read)&&E(e.pipe)&&A(e.readable)}(e)},P="",C={};function N(e){for(var t in C)if(e.startsWith(t)){var n=C[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(P).concat(e)),e}var B=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,D=/^([-\w.]+\/[-\w.+]+)/;function U(e){if("string"!=typeof e)return"";var t=e.match(B);return t?t[1]:""}var F=/\?.*/;function V(e){if(R(e)){var t=function(e){if("string"!=typeof e)return"";var t=e.match(D);return t?t[1]:e}(e.headers.get("content-type")),n=U(e.url);return{url:H(e.url||""),type:t||n||null}}return L(e)?{url:H(e.name||""),type:e.type||""}:"string"==typeof e?{url:H(e),type:U(e)}:{url:"",type:""}}function G(e){return R(e)?e.headers["content-length"]||-1:L(e)?e.size:"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function H(e){return e.replace(F,"")}function W(e){return q.apply(this,arguments)}function q(){return(q=Object(v.a)(h.a.mark((function e(t){var n,r,i,a,o,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R(t)){e.next=2;break}return e.abrupt("return",t);case 2:return n={},(r=G(t))>=0&&(n["content-length"]=String(r)),i=V(t),a=i.url,(o=i.type)&&(n["content-type"]=o),e.next=9,Y(t);case 9:return(s=e.sent)&&(n["x-first-bytes"]=s),"string"==typeof t&&(t=(new TextEncoder).encode(t)),u=new Response(t,{headers:n}),Object.defineProperty(u,"url",{value:a}),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,K(t);case 3:throw n=e.sent,new Error(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(v.a)(h.a.mark((function e(t){var n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,r=t.headers.get("Content-Type"),i=t.statusText,!r.includes("application/json")){e.next=11;break}return e.t0=i,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,i=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:n=(n+=i).length>60?"".concat(n.slice(60),"..."):n,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function Y(e){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(h.a.mark((function e(t){var n,r,i,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=5,"string"!=typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,n)));case 3:if(!(t instanceof Blob)){e.next=8;break}return r=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){return e(t.target&&t.target.result)},t.readAsDataURL(r)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return i=t.slice(0,n),a=Z(i),e.abrupt("return","data:base64,".concat(a));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(v.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,!t.headers.get("Content-Type").includes("application/json")){e.next=10;break}return e.t0=n,e.next=7,t.text();case 7:n=e.t0+=e.sent,e.next=11;break;case 10:n+=t.statusText;case 11:e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(1),e.abrupt("return",n);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(v.a)(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},"string"==typeof t){e.next=5;break}return e.next=4,W(t);case 4:return e.abrupt("return",e.sent);case 5:return t=N(t),e.next=8,fetch(t,n);case 8:if((r=e.sent).ok||!n.throws){e.next=15;break}return e.t0=Error,e.next=13,$(r);case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=n("1OyB"),ie=n("vuIU"),ae=function(){function e(){Object(re.a)(this,e)}return Object(ie.a)(e,[{key:"log",value:function(){return function(e){}}},{key:"info",value:function(){return function(e){}}},{key:"warn",value:function(){return function(e){}}},{key:"error",value:function(){return function(e){}}}]),e}();function oe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe={fetch:null,CDN:"https://unpkg.com/@loaders.gl",worker:!0,log:new(function(){function e(){Object(re.a)(this,e),this.console=console}return Object(ie.a)(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.log).bind.apply(e,[this.console].concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.info).bind.apply(e,[this.console].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.warn).bind.apply(e,[this.console].concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.error).bind.apply(e,[this.console].concat(n))}}]),e}()),metadata:!1,transforms:[],reuseWorkers:!0},le={dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"},he=function(){O.a.loaders=O.a.loaders||{};var e=O.a.loaders;return e._state=e._state||{},e._state},de=function(){var e=he();return e.globalOptions=e.globalOptions||ce({},fe),e.globalOptions};function pe(e,t,n,r){return n=n||[],function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;ge(e,null,n,fe,le,t);var r,i=oe(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=e&&e[a.id]||{},s=a.options&&a.options[a.id]||{},u=a.defaultOptions&&a.defaultOptions[a.id]||{};ge(o,a.id,n,s,u,t)}}catch(c){i.e(c)}finally{i.f()}}(e,n=Array.isArray(n)?n:[n]),ye(t,e,r)}function ve(e,t){var n=de(),r=e.fetch||n.fetch;return"function"==typeof r?r:S(r)?function(e){return te(e,r)}:t&&t.fetch?t.fetch:function(t){return te(t,e)}}function ge(e,t,n,r,i,a){var o=t||"Top level",s=t?"".concat(t,"."):"";for(var u in e){var c=!t&&S(e[u]);if(!(u in r))if(u in i)n.warn("".concat(o," loader option '").concat(s).concat(u,"' deprecated, use '").concat(i[u],"'"));else if(!c){var f=me(u,a);n.warn("".concat(o," loader option '").concat(s).concat(u,"' not recognized. ").concat(f))}}}function me(e,t){var n,r=e.toLowerCase(),i="",a=oe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;for(var s in o.options){if(e===s)return"Did you mean '".concat(o.id,".").concat(s,"'?");var u=s.toLowerCase();(r.startsWith(u)||u.startsWith(r))&&(i=i||"Did you mean '".concat(o.id,".").concat(s,"'?"))}}}catch(c){a.e(c)}finally{a.f()}return i}function ye(e,t,n){var r=ce({},e.options||{});return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(r,n),null===r.log&&(r.log=new ae),be(r,de()),be(r,t),r}function be(e,t){for(var n in t)if(n in t){var r=t[n];j(r)&&j(e[n])?e[n]=ce(ce({},e[n]),t[n]):e[n]=t[n]}}function we(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}n("E9XD");var _e=n(18);function xe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e){if(_e.toArrayBuffer&&(e=_e.toArrayBuffer(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return e&&"object"===Object(k.a)(e)&&e._toArrayBuffer?e._toArrayBuffer():g(!1)}function Ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),a=i.reduce((function(e,t){return e+t.byteLength}),0),o=new Uint8Array(a),s=0,u=xe(i);try{for(u.s();!(r=u.n()).done;){var c=r.value;o.set(c,s),s+=c.byteLength}}catch(f){u.e(f)}finally{u.f()}return o.buffer}function Ee(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(v.a)(h.a.mark((function e(t){var n,r,i,a,o,s,u,c,f;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=[],i=!0,a=!1,e.prev=4,s=we(t);case 6:return e.next=8,s.next();case 8:return u=e.sent,i=u.done,e.next=12,u.value;case 12:if(c=e.sent,i){e.next=19;break}"string"==typeof(f=c)?r.push(f):n.push(f);case 16:i=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),a=!0,o=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==s.return){e.next=30;break}return e.next=30,s.return();case 30:if(e.prev=30,!a){e.next=33;break}throw o;case 33:return e.finish(30);case 34:return e.finish(25);case 35:if(!(r.length>0)){e.next=38;break}return g(0===n.length),e.abrupt("return",r.join(""));case 38:return e.abrupt("return",Ae.apply(void 0,n));case 39:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}var je=h.a.mark(Te);function Te(e){var t,n,r,i,a,o,s,u=arguments;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=u.length>1&&void 0!==u[1]?u[1]:{},n=t.chunkSize,r=void 0===n?262144:n,i=0,a=new TextEncoder;case 4:if(!(i<e.length)){c.next=12;break}return o=Math.min(e.length-i,r),s=e.slice(i,i+o),i+=o,c.next=10,a.encode(s);case 10:c.next=4;break;case 12:case"end":return c.stop()}}),je)}var Ie=h.a.mark(Re);function Re(e){var t,n,r,i,a,o,s,u=arguments;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=u.length>1&&void 0!==u[1]?u[1]:{},n=t.chunkSize,r=void 0===n?262144:n,i=0;case 3:if(!(i<e.byteLength)){c.next=14;break}return a=Math.min(e.byteLength-i,r),o=new ArrayBuffer(a),s=new Uint8Array(e,i,a),new Uint8Array(o).set(s),i+=a,c.next=12,o;case 12:c.next=3;break;case 14:case"end":return c.stop()}}),Ie)}function Le(e){this.wrapped=e}function Me(e){return new Le(e)}function Pe(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof Le;Promise.resolve(s?o.wrapped:o).then((function(e){s?r("return"===t?"return":"next",e):i(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ce(e){return function(){return new Pe(e.apply(this,arguments))}}"function"==typeof Symbol&&Symbol.asyncIterator&&(Pe.prototype[Symbol.asyncIterator]=function(){return this}),Pe.prototype.next=function(e){return this._invoke("next",e)},Pe.prototype.throw=function(e){return this._invoke("throw",e)},Pe.prototype.return=function(e){return this._invoke("return",e)};function Ne(e){return Be.apply(this,arguments)}function Be(){return(Be=Ce(h.a.mark((function e(t){var n,r,i,a,o,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:{},r=n.chunkSize||1048576,i=0;case 3:if(!(i<t.size)){e.next=13;break}return a=i+r,e.next=7,Me(De(t,i,a));case 7:return o=e.sent,i=a,e.next=11,o;case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t,n){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(v.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){var a=t.slice(n,r),o=new FileReader;o.onload=function(t){return e(t.target&&t.target.result)},o.onerror=function(e){return i(e)},o.readAsArrayBuffer(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){if(O.b||O.d>=10){if("function"==typeof e[Symbol.asyncIterator])return function(e){return Ve.apply(this,arguments)}(e);if("function"==typeof e.getIterator)return e.getIterator()}return O.b?function(e){return Ge.apply(this,arguments)}(e):function(e){return He.apply(this,arguments)}(e)}function Ve(){return(Ve=Ce(h.a.mark((function e(t){var n,r,i,a,o,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,e.prev=2,a=we(t);case 4:return e.next=6,Me(a.next());case 6:return o=e.sent,n=o.done,e.next=10,Me(o.value);case 10:if(s=e.sent,n){e.next=18;break}return u=s,e.next=15,ke(u);case 15:n=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),r=!0,i=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==a.return){e.next=29;break}return e.next=29,Me(a.return());case 29:if(e.prev=29,!r){e.next=32;break}throw i;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function Ge(){return(Ge=Ce(h.a.mark((function e(t){var n,r,i,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getReader(),e.prev=1;case 2:return e.next=5,Me(n.read());case 5:if(r=e.sent,i=r.done,a=r.value,!i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,ke(a);case 12:e.next=2;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n.releaseLock();case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function He(){return(He=Ce(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(t);case 2:t=e.sent;case 3:if(null===(n=t.read())){e.next=9;break}return e.next=8,ke(n);case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Me(We(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.once("readable",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e?Te(e,t):e instanceof ArrayBuffer?Re(e,t):L(e)?Ne(e,t):M(e)?Fe(e):R(e)?Fe(e.body):g(!1)}var Xe="Cannot convert supplied data type";function Ke(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer){var n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)||(a=e)&&"object"===Object(k.a)(a)&&a.isBuffer){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var r=e.buffer,i=e.byteLength||e.length;return 0===e.byteOffset&&i===r.byteLength||(r=r.slice(e.byteOffset,e.byteOffset+i)),r}var a;throw new Error(Xe)}function Qe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(v.a)(h.a.mark((function e(t,n){var r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!r){e.next=3;break}return e.abrupt("return",Ke(t,n));case 3:if(!L(t)){e.next=7;break}return e.next=6,W(t);case 6:t=e.sent;case 7:if(!R(t)){e.next=21;break}return i=t,e.next=11,z(i);case 11:if(!n.binary){e.next=17;break}return e.next=14,i.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,i.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if(M(t)&&(t=ze(t)),!T(t)&&!I(t)){e.next=24;break}return e.abrupt("return",Ee(t));case 24:throw new Error(Xe);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=n("KQm4");function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n||(e=$e({fetch:ve(t||{},e)},e),Array.isArray(e.loaders)||(e.loaders=null),e)}function tt(e,t){if(!t&&e&&!Array.isArray(e))return e;var n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){var r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[].concat(Object(Je.a)(n),Object(Je.a)(r)):r}return n&&n.length?n:null}var nt=new Map;function rt(e){return"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n}")}function it(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n||new Set;if(e){if(at(e))r.add(e);else if(at(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===Object(k.a)(e))for(var i in e)it(e[i],t,r)}else;return void 0===n?Array.from(r):[]}function at(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var ot=0;function st(e){var t=e.data;(0,e.resolve)(t)}var ut=function(){function e(t){var n=t.source,r=t.name,i=void 0===r?"web-worker-".concat(ot++):r,a=t.onMessage;Object(re.a)(this,e);var o=function(e){if(g("string"==typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")")){var t=e.match(/^url\((.*)\)$/)[1];if(t&&!t.startsWith("http"))return t;e=rt(t)}var n=nt.get(e);if(!n){var r=new Blob([e],{type:"application/javascript"});n=URL.createObjectURL(r),nt.set(e,n)}return n}(n,i);this.worker=new Worker(o,{name:i}),this.name=i,this.onMessage=a||st}var t;return Object(ie.a)(e,[{key:"process",value:(t=Object(v.a)(h.a.mark((function e(t){var n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.worker.onmessage=function(t){n.onMessage({worker:n.worker,data:t.data,resolve:e,reject:r})},n.worker.onerror=function(e){var t="".concat(n.name,": WorkerThread.process() failed");e.message&&(t+=" ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));var i=new Error(t);console.error(e),r(i)};var i=it(t);n.worker.postMessage(t,i)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.worker.terminate(),this.worker=null}}]),e}(),ct=function(){function e(t){var n=t.source,r=t.name,i=void 0===r?"unnamed":r,a=t.maxConcurrency,o=void 0===a?1:a,s=t.onMessage,u=t.onDebug,c=void 0===u?function(){}:u,f=t.reuseWorkers,l=void 0===f||f;Object(re.a)(this,e),this.source=n,this.name=i,this.maxConcurrency=o,this.onMessage=s,this.onDebug=c,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.reuseWorkers=l}var t;return Object(ie.a)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"process",value:function(e,t){var n=this;return new Promise((function(r,i){n.jobQueue.push({data:e,jobName:t,resolve:r,reject:i}),n._startQueuedJob()}))}},{key:"_startQueuedJob",value:(t=Object(v.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:return n=this.jobQueue.shift(),this.onDebug({message:"processing",worker:t.name,job:n.jobName,backlog:this.jobQueue.length}),e.prev=7,e.t0=n,e.next=11,t.process(n.data);case 11:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=18;break;case 15:e.prev=15,e.t2=e.catch(7),n.reject(e.t2);case 18:return e.prev=18,this._onWorkerDone(t),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,15,18,21]])}))),function(){return t.apply(this,arguments)})},{key:"_onWorkerDone",value:function(e){this.isDestroyed?e.destroy():(this.reuseWorkers?this.idleQueue.push(e):(e.destroy(),this.count--),this._startQueuedJob())}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new ut({source:this.source,onMessage:this.onMessage,name:e})}return null}}]),e}(),ft=function(){function e(t){var n=t.maxConcurrency,r=void 0===n?5:n,i=t.onMessage,a=void 0===i?null:i,o=t.onDebug,s=void 0===o?function(){}:o,u=t.reuseWorkers,c=void 0===u||u;Object(re.a)(this,e),this.maxConcurrency=r,this.onMessage=a,this.onDebug=s,this.workerPools=new Map,this.reuseWorkers=c}var t;return Object(ie.a)(e,null,[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}]),Object(ie.a)(e,[{key:"setProps",value:function(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug),"reuseWorkers"in e&&(this.reuseWorkers=e.reuseWorkers)}},{key:"destroy",value:function(){this.workerPools.forEach((function(e){return e.destroy()}))}},{key:"process",value:(t=Object(v.a)(h.a.mark((function e(t,n,r){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._getWorkerPool(t,n),e.abrupt("return",i.process(r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"_getWorkerPool",value:function(e,t){var n=this.workerPools.get(t);return n||(n=new ct({source:e,name:t,onMessage:lt.bind(null,this.onMessage),maxConcurrency:this.maxConcurrency,onDebug:this.onDebug,reuseWorkers:this.reuseWorkers}),this.workerPools.set(t,n)),n}}]),e}();function lt(e,t){var n=t.worker,r=t.data,i=t.resolve,a=t.reject;if(e)e({worker:n,data:r,resolve:i,reject:a});else switch(r.type){case"done":i(r.result);break;case"error":a(r.message)}}function ht(e,t,n,r){if(!ft.isSupported())return!1;var i=n&&n[e.id];return!!("local"===n.worker&&i&&i.localWorkerUrl||n.worker&&i&&i.workerUrl)&&(!e.useWorker||e.useWorker(n))}function dt(e,t,n,r){var i=(n||{}).worker,a=n&&n[e.id]||{},o="local"===i?a.localWorkerUrl:a.workerUrl,s="url(".concat(o,")"),u=e.name,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);"reuseWorkers"in e&&(t.reuseWorkers=e.reuseWorkers);pt||(pt=new ft({onMessage:vt}));return pt.setProps(t),pt}(n);n=JSON.parse(JSON.stringify(n));var f="2.3.8"!==e.version?"(core version ".concat("2.3.8",")"):"";return c.process(s,"".concat(u,"-worker@").concat(e.version).concat(f),{arraybuffer:ke(t),options:n,source:"loaders.gl@".concat("2.3.8"),type:"parse"})}var pt=null;function vt(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(v.a)(h.a.mark((function e(t){var n,r,i,a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.worker,r=t.data,i=t.resolve,a=t.reject,e.t0=r.type,e.next="done"===e.t0?4:"parse"===e.t0?6:"error"===e.t0?17:19;break;case 4:return i(r.result),e.abrupt("break",19);case 6:return e.prev=6,e.next=9,Ct(r.arraybuffer,r.options,r.url);case 9:o=e.sent,n.postMessage({type:"parse-done",id:r.id,result:o},it(o)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),n.postMessage({type:"parse-error",id:r.id,message:e.t1.message});case 16:return e.abrupt("break",19);case 17:return a(r.message),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}var mt=function(){var e=he();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function yt(){return mt()}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ot=/\.([^.]+)$/;function kt(e){return At.apply(this,arguments)}function At(){return(At=Object(v.a)(h.a.mark((function e(t){var n,r,i,a,o=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:[],r=o.length>2&&void 0!==o[2]?o[2]:{},i=o.length>3&&void 0!==o[3]?o[3]:{},!(a=Et(t,n,wt(wt({},r),{},{nothrow:!0}),i))){e.next=6;break}return e.abrupt("return",a);case 6:if(!L(t)){e.next=11;break}return e.next=9,De(t,0,10);case 9:t=e.sent,a=Et(t,n,r,i);case 11:if(a||r.nothrow){e.next=13;break}throw new Error(St(t));case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&!Array.isArray(t))return x(t);jt(t=[].concat(Object(Je.a)(t||[]),Object(Je.a)(yt())));var i=V(e),a=i.url,o=i.type,s=Tt(t,a||r.url);if(!(s=(s=s||It(t,o))||Rt(t,e))&&!n.nothrow)throw new Error(St(e));return s}function St(e){var t=V(e),n=t.url,r=t.type,i="No valid loader found";return e&&(i+=' data: "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Pt(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return Pt(e,n,t)}return""}(e),'", contentType: "').concat(r,'"')),n&&(i+=" url: ".concat(n)),i}function jt(e){var t,n=_t(e);try{for(n.s();!(t=n.n()).done;){x(t.value)}}catch(r){n.e(r)}finally{n.f()}}function Tt(e,t){var n=t&&t.match(Ot),r=n&&n[1];return r&&function(e,t){t=t.toLowerCase();var n,r=_t(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=_t(a.extensions);try{for(o.s();!(i=o.n()).done;){if(i.value.toLowerCase()===t)return a}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e,r)}function It(e,t){var n,r=_t(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(a){r.e(a)}finally{r.f()}return null}function Rt(e,t){if(!t)return null;var n,r=_t(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("string"==typeof t){if(Lt(t,i))return i}else if(ArrayBuffer.isView(t)){if(Mt(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(Mt(t,0,i))return i}}}catch(a){r.e(a)}finally{r.f()}return null}function Lt(e,t){return t.testText&&t.testText(e)}function Mt(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((function(r){return function(e,t,n,r){if(r instanceof ArrayBuffer)return function(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;for(var r=new Uint8Array(e),i=new Uint8Array(t),a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(r,e,r.byteLength);switch(Object(k.a)(r)){case"function":return r(e,n);case"string":var i=Pt(e,t,r.length);return r===i;default:return!1}}(e,t,n,r)}))}function Pt(e,t,n){if(e.byteLength<t+n)return"";for(var r=new DataView(e),i="",a=0;a<n;a++)i+=String.fromCharCode(r.getUint8(t+a));return i}function Ct(e,t,n,r){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(v.a)(h.a.mark((function e(t,n,r,i){var a,o,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!i||"string"!=typeof i,"parse no longer accepts final url"),!n||Array.isArray(n)||_(n)||(i=r,r=n,n=null),e.next=4,t;case 4:return t=e.sent,r=r||{},a=V(t),o=a.url,s=tt(n,i),e.next=10,kt(t,s,r);case 10:if(u=e.sent){e.next=13;break}return e.abrupt("return",null);case 13:return r=pe(r,u,s,o),i=et({url:o,parse:Ct,loaders:s},r,i),e.next=17,Bt(u,t,r,i);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t,n,r){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(v.a)(h.a.mark((function e(t,n,r,i){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),e.next=3,Qe(n,t);case 3:if(n=e.sent,!t.parseTextSync||"string"!=typeof n){e.next=7;break}return r.dataType="text",e.abrupt("return",t.parseTextSync(n,r,i,t));case 7:if(!ht(t,0,r)){e.next=11;break}return e.next=10,dt(t,n,r);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parseText||"string"!=typeof n){e.next=15;break}return e.next=14,t.parseText(n,r,i,t);case 14:return e.abrupt("return",e.sent);case 15:if(!t.parse){e.next=19;break}return e.next=18,t.parse(n,r,i,t);case 18:return e.abrupt("return",e.sent);case 19:return g(!t.parseSync),e.abrupt("return",g(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e,t){if(!e)throw new Error(t)}var Ft=n("mgqj"),Vt=Ft.a._parseImageNode,Gt="undefined"!=typeof Image,Ht="undefined"!=typeof ImageBitmap,Wt=Boolean(Vt),qt=!!Ft.b||Wt;function zt(e){var t=Kt(e);if(!t)throw new Error("Not an image");return t}function Xt(e){switch(zt(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),n=t.getContext("2d");if(n)return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:return Ut(!1)}}function Kt(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"===Object(k.a)(e)&&e.data&&e.width&&e.height?"data":null}var Qt=/^data:image\/svg\+xml/,Yt=/\.svg((\?|#).*)?$/;function Jt(e){return e&&(Qt.test(e)||Yt.test(e))}function Zt(e,t){if(Jt(t)){var n=(new TextDecoder).decode(e);return"data:image/svg+xml;base64,".concat(btoa(n))}return $t(e,t)}function $t(e,t){if(Jt(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function en(e,t,n){return tn.apply(this,arguments)}function tn(){return(tn=Object(v.a)(h.a.mark((function e(t,n,r){var i,a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t,r),a=self.URL||self.webkitURL,o="string"!=typeof i&&a.createObjectURL(i),e.prev=3,e.next=6,nn(o||i,n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,o&&a.revokeObjectURL(o),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=Object(v.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new Image).src=t,!(n.image&&n.image.decode&&r.decode)){e.next=6;break}return e.next=5,r.decode();case 5:return e.abrupt("return",r);case 6:return e.next=8,new Promise((function(e,n){try{r.onload=function(){return e(r)},r.onerror=function(e){return n(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(i){n(i)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var an={},on=!0;function sn(e,t,n){return un.apply(this,arguments)}function un(){return(un=Object(v.a)(h.a.mark((function e(t,n,r){var i,a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jt(r)){e.next=7;break}return e.next=3,en(t,n,r);case 3:a=e.sent,i=a,e.next=8;break;case 7:i=$t(t,r);case 8:return o=n&&n.imagebitmap,e.next=11,cn(i,o);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(e){return fn.apply(this,arguments)}function fn(){return(fn=Object(v.a)(h.a.mark((function e(t){var n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ln(n=r.length>1&&void 0!==r[1]?r[1]:null)&&on||(n=null),!n){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,n);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),on=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function ln(e){for(var t in e||an)return!1;return!0}function hn(e){var t=dn(e);return function(e){var t=dn(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:"image/png",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=dn(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var n=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),r=n.tableMarkers,i=n.sofMarkers,a=2;for(;a+9<t.byteLength;){var o=t.getUint16(a,!1);if(i.has(o))return{mimeType:"image/jpeg",height:t.getUint16(a+5,!1),width:t.getUint16(a+7,!1)};if(!r.has(o))return null;a+=2,a+=t.getUint16(a,!1)}return null}(t)||function(e){var t=dn(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:"image/gif",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||function(e){var t=dn(e);if(!(t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength))return null;return{mimeType:"image/bmp",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}}(t)}function dn(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}function pn(e,t){var n=(hn(e)||{}).mimeType,r=Ft.a._parseImageNode;return Ut(r),r(e,n,t)}function vn(e,t,n){return gn.apply(this,arguments)}function gn(){return(gn=Object(v.a)(h.a.mark((function e(t,n,r){var i,a,o,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(n=n||{}).image||{},a=i.type||"auto",o=(r||{}).url,s=mn(a),e.t0=s,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,sn(t,n,o);case 10:return u=e.sent,e.abrupt("break",21);case 12:return e.next=14,en(t,n,o);case 14:return u=e.sent,e.abrupt("break",21);case 16:return e.next=18,pn(t,n);case 18:return u=e.sent,e.abrupt("break",21);case 20:Ut(!1);case 21:return"data"===a&&(u=Xt(u)),e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e){switch(e){case"auto":case"data":return function(){if(Ht)return"imagebitmap";if(Gt)return"image";if(qt)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return Ht||Gt||qt;case"imagebitmap":return Ht;case"image":return Gt;case"data":return qt;case"html":return Gt;case"ndarray":return qt;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}var yn={id:"image",name:"Images",version:"2.3.8",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:vn,tests:[function(e){return Boolean(hn(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}};function bn(e,t,n){if(e.byteLength<=t+n)return"";for(var r=new DataView(e),i="",a=0;a<n;a++)i+=String.fromCharCode(r.getUint8(t+a));return i}function wn(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return bn(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return bn(e,n,t)}return""}(e),'"'))}}function _n(e){return e+3&-4}function xn(e,t,n){return function(e,t,n){var r=void 0!==n?new Uint8Array(e).subarray(t,t+n):new Uint8Array(e).subarray(t);return new Uint8Array(r).buffer}(e,t,n)}function On(e,t,n){var r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{var i=e.byteOffset,a=e.byteLength;r=new Uint8Array(e.buffer,i,a)}return t.set(r,n),n+_n(r.byteLength)}function kn(e,t){if(!e)throw new Error(t||"assert failed: gltf")}function An(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;var n=t.baseUri||t.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return n.substr(0,n.lastIndexOf("/")+1)+e}function En(e,t,n){var r=e.bufferViews[n];kn(r);var i=t[r.buffer];kn(i);var a=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,a,r.byteLength)}var Sn,jn=n("ODXe"),Tn=n(19),In={};function Rn(e){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(v.a)(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]?i[2]:{},n&&(t=Mn(t,n,r)),In[t]=In[t]||Pn(t),e.next=6,In[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(e,t,n){var r=n.modules||{};return r[e]?r[e]:O.b?n.CDN?(g(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(t,"@").concat("2.3.8","/dist/libs/").concat(e)):O.c?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function Pn(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(v.a)(h.a.mark((function e(t){var n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(O.b){e.next=9;break}return e.abrupt("return",Tn.requireFromFile&&Tn.requireFromFile(t));case 9:if(!O.c){e.next=11;break}return e.abrupt("return",importScripts(t));case 11:return e.next=13,fetch(t);case 13:return r=e.sent,e.next=16,r.text();case 16:return i=e.sent,e.abrupt("return",Nn(i,t));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e,t){if(!O.b)return Tn.requireFromString&&Tn.requireFromString(e,t);if(O.c)return eval.call(O.a,e),null;var n=document.createElement("script");n.id=t;try{n.appendChild(document.createTextNode(e))}catch(r){n.text=e}return document.body.appendChild(n),null}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(v.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.modules||{},Sn=n.draco3d?Sn||new Promise((function(e){var t=n.draco3d.createDecoderModule({onModuleLoaded:function(){e({draco:t})}})})):Sn||Vn(t),e.next=4,Sn;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(v.a)(h.a.mark((function e(t){var n,r,i,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.draco&&t.draco.decoderType,e.next="js"===e.t0?3:(e.t0,7);break;case 3:return e.next=5,Rn("draco_decoder.js","draco",t);case 5:return n=e.sent,e.abrupt("break",21);case 7:return e.t1=Promise,e.next=10,Rn("draco_wasm_wrapper.js","draco",t);case 10:return e.t2=e.sent,e.next=13,Rn("draco_decoder.wasm","draco",t);case 13:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.next=17,e.t1.all.call(e.t1,e.t4);case 17:i=e.sent,a=Object(jn.a)(i,2),n=a[0],r=a[1];case 21:return n=n||O.a.DracoDecoderModule,e.next=24,Hn(n,r);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(e,t){var n={};return t&&(n.wasmBinary=t),new Promise((function(t){e(Dn(Dn({},n),{},{onModuleLoaded:function(e){return t({draco:e})}}))}))}function Wn(e){if(!e||!e.POSITION)return null;var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=e.POSITION.value,u=s&&s.length;if(!u)return null;for(var c=0;c<u;c+=3){var f=s[c],l=s[c+1],h=s[c+2];t=f<t?f:t,n=l<n?l:n,r=h<r?h:r,i=f>i?f:i,a=l>a?l:a,o=h>o?h:o}return[[t,n,r],[i,a,o]]}var qn=0,zn=1,Xn={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},Kn={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},Qn=function(){function e(t){Object(re.a)(this,e),this.draco=t,this.drawMode="TRIANGLE",this.metadataQuerier={}}return Object(ie.a)(e,[{key:"destroy",value:function(){}},{key:"destroyGeometry",value:function(e){e&&this.draco.destroy(e.dracoGeometry)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.metadataQuerier=new this.draco.MetadataQuerier;var n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength);var r,i,a,o=new this.draco.Decoder,s={};try{var u=o.GetEncodedGeometryType(n);switch(u){case this.draco.TRIANGULAR_MESH:i=new this.draco.Mesh,r=o.DecodeBufferToMesh(n,i),a={type:qn,faceCount:i.num_faces(),attributeCount:i.num_attributes(),vertexCount:i.num_points()};break;case this.draco.POINT_CLOUD:i=new this.draco.PointCloud,r=o.DecodeBufferToPointCloud(n,i),a={type:zn,attributeCount:i.num_attributes(),vertexCount:i.num_points()};break;default:throw new Error("Unknown DRACO geometry type.")}if(!r.ok()||!i.ptr){var c="DRACO decompression failed: ".concat(r.error_msg());throw i&&this.draco.destroy(i),new Error(c)}s.loaderData={header:a},this._extractDRACOGeometry(o,i,u,s,t);var f=this._getGeometryMetadata(o,i);s.header={vertexCount:a.vertexCount,boundingBox:Wn(s.attributes),metadata:f}}finally{this.draco.destroy(o),this.draco.destroy(n),this.draco.destroy(i),this.draco.destroy(this.metadataQuerier)}return s}},{key:"_extractDRACOGeometry",value:function(e,t,n,r,i){var a=this._getAttributes(e,t,i);if(!a.POSITION)throw new Error("DRACO decompressor: No position attribute found.");return n===this.draco.TRIANGULAR_MESH?(a.indices="TRIANGLE_STRIP"===this.drawMode?this._getMeshStripIndices(e,t):this._getMeshFaceIndices(e,t),r.mode="TRIANGLE_STRIP"===this.drawMode?5:4):r.mode=0,a.indices&&(r.indices={value:a.indices,size:1},delete a.indices),r.attributes=a,r}},{key:"getPositionAttributeMetadata",value:function(e){this.metadata=this.metadata||{},this.metadata.attributes=this.metadata.attributes||{};var t=new this.draco.AttributeQuantizationTransform;if(t.InitFromAttribute(e)){this.metadata.attributes.position.isQuantized=!0,this.metadata.attributes.position.maxRange=t.range(),this.metadata.attributes.position.numQuantizationBits=t.quantization_bits(),this.metadata.attributes.position.minValues=new Float32Array(3);for(var n=0;n<3;++n)this.metadata.attributes.position.minValues[n]=t.min_value(n)}this.draco.destroy(t)}},{key:"_getAttributes",value:function(e,t,n){for(var r={},i=t.num_points(),a=0;a<t.num_attributes();a++){var o=e.GetAttribute(t,a),s=this._getAttributeMetadata(e,t,a),u={uniqueId:o.unique_id(),attributeType:o.attribute_type(),dataType:Kn[o.data_type()],size:o.size(),numComponents:o.num_components(),byteOffset:o.byte_offset(),byteStride:o.byte_stride(),normalized:o.normalized(),metadata:s},c=this._deduceAttributeName(u,n),f=this._getAttributeTypedArray(e,t,o,c).typedArray;r[c]={value:f,size:f.length/i,metadata:s}}return r}},{key:"_getMeshFaceIndices",value:function(e,t){for(var n=t.num_faces(),r=new Uint32Array(3*n),i=new this.draco.DracoInt32Array,a=0;a<n;++a){e.GetFaceFromMesh(t,a,i);var o=3*a;r[o]=i.GetValue(0),r[o+1]=i.GetValue(1),r[o+2]=i.GetValue(2)}return this.draco.destroy(i),r}},{key:"_getMeshStripIndices",value:function(e,t){var n=new this.draco.DracoInt32Array;e.GetTriangleStripsFromMesh(t,n);for(var r=new Uint32Array(n.size()),i=0;i<n.size();++i)r[i]=n.GetValue(i);return this.draco.destroy(n),r}},{key:"_getAttributeTypedArray",value:function(e,t,n,r){if(0===n.ptr){var i="DRACO decode bad attribute ".concat(r);throw new Error(i)}var a,o,s=Kn[n.data_type()],u=n.num_components(),c=t.num_points()*u;switch(s){case Float32Array:a=new this.draco.DracoFloat32Array,e.GetAttributeFloatForAllPoints(t,n,a),o=new Float32Array(c);break;case Int8Array:a=new this.draco.DracoInt8Array,e.GetAttributeInt8ForAllPoints(t,n,a),o=new Int8Array(c);break;case Int16Array:a=new this.draco.DracoInt16Array,e.GetAttributeInt16ForAllPoints(t,n,a),o=new Int16Array(c);break;case Int32Array:a=new this.draco.DracoInt32Array,e.GetAttributeInt32ForAllPoints(t,n,a),o=new Int32Array(c);break;case Uint8Array:a=new this.draco.DracoUInt8Array,e.GetAttributeUInt8ForAllPoints(t,n,a),o=new Uint8Array(c);break;case Uint16Array:a=new this.draco.DracoUInt16Array,e.GetAttributeUInt16ForAllPoints(t,n,a),o=new Uint16Array(c);break;case Uint32Array:a=new this.draco.DracoUInt32Array,e.GetAttributeUInt32ForAllPoints(t,n,a),o=new Uint32Array(c);break;default:throw new Error("DRACO decoder: unexpected attribute type.")}for(var f=0;f<c;f++)o[f]=a.GetValue(f);return this.draco.destroy(a),{typedArray:o,components:u}}},{key:"_deduceAttributeName",value:function(e,t){var n=t.extraAttributes,r=void 0===n?{}:n;if(r&&"object"===Object(k.a)(r))for(var i=0,a=Object.entries(r);i<a.length;i++){var o=Object(jn.a)(a[i],2),s=o[0];if(o[1]===e.uniqueId)return s}for(var u in Xn){var c=this.draco[u];if(e.attributeType===c)return Xn[u]}if(e.metadata){var f=t.attributeNameEntry||"name";if(e.metadata[f])return e.metadata[f].string}return"CUSTOM_ATTRIBUTE_".concat(e.uniqueId)}},{key:"_getGeometryMetadata",value:function(e,t){var n=e.GetMetadata(t);return this._queryDracoMetadata(n)}},{key:"_getAttributeMetadata",value:function(e,t,n){var r=e.GetAttributeMetadata(t,n);return this._queryDracoMetadata(r)}},{key:"_queryDracoMetadata",value:function(e){if(!e||!e.ptr)return{};for(var t={},n=this.metadataQuerier.NumEntries(e),r=0;r<n;r++){var i=this.metadataQuerier.GetEntryName(e,r);t[i]={int:this.metadataQuerier.GetIntEntry(e,i),string:this.metadataQuerier.GetStringEntry(e,i),double:this.metadataQuerier.GetDoubleEntry(e,i),intArray:this.metadataQuerier.GetIntEntryArray(e,i)}}return t}},{key:"decode",value:function(e,t){return this.parseSync(e,t)}}]),e}();function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zn=Jn(Jn({},{id:"draco",name:"Draco",version:"2.3.8",extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"===("undefined"==typeof WebAssembly?"undefined":Object(k.a)(WebAssembly))?"wasm":"js",libraryPath:"libs/",workerUrl:"https://unpkg.com/@loaders.gl/draco@".concat("2.3.8","/dist/draco-loader.worker.js"),localWorkerUrl:"modules/draco/dist/draco-loader.worker.dev.js",extraAttributes:{}}}}),{},{parse:function(e,t,n,r){return $n.apply(this,arguments)}});function $n(){return($n=Object(v.a)(h.a.mark((function e(t,n,r,i){var a,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un(n);case 2:return a=e.sent,o=a.draco,s=new Qn(o),e.prev=5,e.abrupt("return",s.parseSync(t,Jn({extraAttributes:n.draco&&n.draco.extraAttributes||null},n.parseOptions||{})));case 7:return e.prev=7,s.destroy(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[5,,7,10]])})))).apply(this,arguments)}var er=["SCALAR","VEC2","VEC3","VEC4"],tr=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),nr={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},rr={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ir={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function ar(e){return er[e-1]||er[0]}function or(e){var t=tr.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function sr(e,t){var n=ir[e.componentType],r=nr[e.type],i=rr[e.componentType],a=e.count*r,o=e.count*r*i;return kn(o>=0&&o<=t.byteLength),{ArrayType:n,length:a,byteLength:o}}var ur=function(){function e(t){if(Object(re.a)(this,e),t instanceof e)return t;t||(t={json:{asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},buffers:[]}),this.byteLength=0,this.gltf=t,kn(this.gltf.json)}return Object(ie.a)(e,[{key:"getApplicationData",value:function(e){return this.json[e]}},{key:"getExtraData",value:function(e){return(this.json.extras||{})[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),n=this.json.extensions||{};return t?n[e]||!0:null}},{key:"getRequiredExtension",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(e,t){return(e.extensions||{})[t]}},{key:"getScene",value:function(e){return this.getObject("scenes",e)}},{key:"getNode",value:function(e){return this.getObject("nodes",e)}},{key:"getSkin",value:function(e){return this.getObject("skins",e)}},{key:"getMesh",value:function(e){return this.getObject("meshes",e)}},{key:"getMaterial",value:function(e){return this.getObject("materials",e)}},{key:"getAccessor",value:function(e){return this.getObject("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this.getObject("textures",e)}},{key:"getSampler",value:function(e){return this.getObject("samplers",e)}},{key:"getImage",value:function(e){return this.getObject("images",e)}},{key:"getBufferView",value:function(e){return this.getObject("bufferViews",e)}},{key:"getBuffer",value:function(e){return this.getObject("buffers",e)}},{key:"getObject",value:function(e,t){if("object"===Object(k.a)(t))return t;var n=this.json[e]&&this.json[e][t];if(!n)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return n}},{key:"getTypedArrayForBufferView",value:function(e){var t=(e=this.getBufferView(e)).buffer,n=this.gltf.buffers[t];kn(n);var r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}},{key:"getTypedArrayForAccessor",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=sr(e,t),i=r.ArrayType,a=r.length;return new i(n,t.byteOffset+e.byteOffset,a)}},{key:"getTypedArrayForImageData",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)}},{key:"addApplicationData",value:function(e,t){return this.json[e]=t,this}},{key:"addExtraData",value:function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}},{key:"addObjectExtension",value:function(e,t,n){return kn(n),e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}},{key:"setObjectExtension",value:function(e,t,n){(e.extensions||{})[t]=n}},{key:"removeObjectExtension",value:function(e,t){var n=e.extensions||{},r=n[t];return delete n[t],r}},{key:"addExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return kn(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}},{key:"addRequiredExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return kn(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"addMesh",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=this._addAttributes(e),i={primitives:[{attributes:r,indices:t,mode:n}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:"addImage",value:function(e,t){var n;t=t||((n=hn(e))?n.mimeType:null);var r={bufferView:this.addBufferView(e),mimeType:t};return this.json.images=this.json.images||[],this.json.images.push(r),this.json.images.length-1}},{key:"addBufferView",value:function(e){var t=e.byteLength;kn(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=_n(t),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){var n={bufferView:e,type:ar(t.size),componentType:t.componentType,count:t.count};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},n=this.addBufferView(e),r={size:t.size,componentType:or(e),count:Math.round(e.length/t.size)};return this.addAccessor(n,Object.assign(r,t))}},{key:"createBinaryChunk",value:function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),n=new Uint8Array(t),r=0,i=0;i<this.sourceBuffers.length;i++){r=On(this.sourceBuffers[i],n,r)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}}},{key:"_removeStringFromArray",value:function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}},{key:"json",get:function(){return this.gltf.json}}]),e}();function cr(e){var t={};for(var n in e){var r=e[n];if("indices"!==n){var i=fr(r);t[n]=i}}return t}function fr(e,t){var n=function(e,t){var n=e,r=1,i=0;e&&e.value&&(n=e.value,r=e.size||1);n&&(ArrayBuffer.isView(n)||(n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(n&&!(e instanceof t))return new t(e);return e}(n,Float32Array)),i=n.length/r);return{buffer:n,size:r,count:i}}(e),r=n.buffer,i=n.size;return{value:r,size:i,bufferView:null,byteOffset:0,count:n.count,type:ar(i),componentType:or(r)}}var lr=h.a.mark(_r);function hr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pr(e,t,n){return vr.apply(this,arguments)}function vr(){return(vr=Object(v.a)(h.a.mark((function e(t,n,r){var i,a,o,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.gltf.decompressMeshes){e.next=2;break}return e.abrupt("return");case 2:i=new ur(t),a=[],o=hr(_r(i));try{for(o.s();!(s=o.n()).done;)u=s.value,i.getObjectExtension(u,"KHR_draco_mesh_compression")&&a.push(mr(u,i,n,r))}catch(c){o.e(c)}finally{o.f()}return e.next=8,Promise.all(a);case 8:i.removeExtension("KHR_draco_mesh_compression");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new ur(e),i=hr(r.json.meshes||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;br(a,n),r.addRequiredExtension("KHR_draco_mesh_compression")}}catch(o){i.e(o)}finally{i.f()}}function mr(e,t,n,r){return yr.apply(this,arguments)}function yr(){return(yr=Object(v.a)(h.a.mark((function e(t,n,r,i){var a,o,s,u,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getObjectExtension(t,"KHR_draco_mesh_compression"),o=n.getTypedArrayForBufferView(a.bufferView),s=xn(o.buffer,o.byteOffset),u=i.parse,e.next=6,u(s,Zn,r,i);case 6:c=e.sent,t.attributes=cr(c.attributes),c.indices&&(t.indices=fr(c.indices)),wr(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function br(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!r.DracoWriter||!r.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");var a=r.DracoWriter.encodeSync({attributes:e}),o=i.parseSync,s=o({attributes:e}),u=r._addFauxAttributes(s.attributes),c=r.addBufferView(a),f={primitives:[{attributes:u,mode:n,extensions:Object(d.a)({},"KHR_draco_mesh_compression",{bufferView:c,attributes:u})}]};return f}function wr(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("Empty glTF primitive detected: Draco decompression failure?")}function _r(e){var t,n,r,i,a,o;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=hr(e.json.meshes||[]),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=hr(r.primitives),s.prev=6,i.s();case 8:if((a=i.n()).done){s.next=14;break}return o=a.value,s.next=12,o;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),lr,null,[[1,26,29,32],[6,16,19,22]])}function xr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kr(e,t){var n=new ur(e),r=n.json,i=n.getExtension("KHR_lights_punctual");i&&(n.json.lights=i.lights,n.removeExtension("KHR_lights_punctual"));var a,o=xr(r.nodes||[]);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=n.getObjectExtension(s,"KHR_lights_punctual");u&&(s.light=u.light),n.removeObjectExtension(s,"KHR_lights_punctual")}}catch(c){o.e(c)}finally{o.f()}}function Ar(e,t){var n=new ur(e),r=n.json;if(r.lights){var i=n.addExtension("KHR_lights_punctual");kn(!i.lights),i.lights=r.lights,delete r.lights}if(n.json.lights){var a,o=xr(n.json.lights);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.node;n.addObjectExtension(u,"KHR_lights_punctual",s)}}catch(c){o.e(c)}finally{o.f()}delete n.json.lights}}function Er(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jr(e,t){var n=new ur(e),r=n.json;n.removeExtension("KHR_materials_unlit");var i,a=Er(r.materials||[]);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.extensions&&o.extensions.KHR_materials_unlit&&(o.unlit=!0),n.removeObjectExtension(o,"KHR_materials_unlit")}}catch(s){a.e(s)}finally{a.f()}}function Tr(e,t){var n=new ur(e),r=n.json;if(n.materials){var i,a=Er(r.materials);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.unlit&&(delete o.unlit,n.addObjectExtension(o,"KHR_materials_unlit",{}),n.addExtension("KHR_materials_unlit"))}}catch(s){a.e(s)}finally{a.f()}}}function Ir(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lr(e,t){var n=new ur(e),r=n.json,i=n.getExtension("KHR_techniques_webgl");if(i){var a,o=function(e,t){var n=e.programs,r=void 0===n?[]:n,i=e.shaders,a=void 0===i?[]:i,o=e.techniques,s=void 0===o?[]:o,u=new TextDecoder;return a.forEach((function(e){if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=u.decode(t.getTypedArrayForBufferView(e.bufferView))})),r.forEach((function(e){e.fragmentShader=a[e.fragmentShader],e.vertexShader=a[e.vertexShader]})),s.forEach((function(e){e.program=r[e.program]})),s}(i,n),s=Ir(r.materials||[]);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=n.getObjectExtension(u,"KHR_techniques_webgl");c&&(u.technique=Object.assign({},c,o[c.technique]),u.technique.values=Pr(u.technique,n)),n.removeObjectExtension(u,"KHR_techniques_webgl")}}catch(f){s.e(f)}finally{s.f()}n.removeExtension("KHR_techniques_webgl")}}function Mr(e,t){}function Pr(e,t){var n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((function(t){e.uniforms[t].value&&!(t in n)&&(n[t]=e.uniforms[t].value)})),Object.keys(n).forEach((function(e){"object"===Object(k.a)(n[e])&&void 0!==n[e].index&&(n[e].texture=t.getTexture(n[e].index))})),n}var Cr={KHR_draco_mesh_compression:r,KHR_lights_punctual:i,KHR_materials_unlit:a,KHR_techniques_webgl:o};function Nr(e){return Br.apply(this,arguments)}function Br(){return(Br=Object(v.a)(h.a.mark((function e(t){var n,r,i,a,o,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,n.gltf=n.gltf||{},e.t0=h.a.keys(Cr);case 4:if((e.t1=e.t0()).done){e.next=14;break}if(i=e.t1.value,a=n.gltf.excludeExtensions||{},i in a&&!a[i]){e.next=12;break}return o=Cr[i],e.next=12,o.decode(t,n,r);case 12:e.next=4;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function Ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DataView(e),i=n.magic,a=void 0===i?1735152710:i,o=r.getUint32(t,!1);return o===a||1735152710===o}function Fr(e,t,n,r){g(e.header.byteLength>20);var i=t.getUint32(n+0,!0),a=t.getUint32(n+4,!0);return n+=8,g(0===a),Gr(e,t,n,i,r),n+=i,n+=Hr(e,t,n,e.header.byteLength,r)}function Vr(e,t,n,r){return g(e.header.byteLength>20),function(e,t,n,r){for(;n+8<=e.header.byteLength;){var i=t.getUint32(n+0,!0),a=t.getUint32(n+4,!0);switch(n+=8,a){case 1313821514:Gr(e,t,n,i,r);break;case 5130562:Hr(e,t,n,i,r);break;case 0:r.glb.strict||Gr(e,t,n,i,r);break;case 1:r.glb.strict||Hr(e,t,n,i,r)}n+=_n(i)}}(e,t,n,r),n+e.header.byteLength}function Gr(e,t,n,r,i){var a=new Uint8Array(t.buffer,n,r),o=new TextDecoder("utf8").decode(a);return e.json=JSON.parse(o),_n(r)}function Hr(e,t,n,r,i){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer}),_n(r)}function Wr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kr,Qr={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Yr={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},Jr=function(){function e(t){Object(re.a)(this,e),this.idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}}return Object(ie.a)(e,[{key:"normalize",value:function(e,t){this.json=e.json;var n=e.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(e,t){var n,r=new ur(e),i=r.json,a=Wr(i.images||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=r.removeObjectExtension(o,"KHR_binary_glTF");s&&Object.assign(o,s)}}catch(u){a.e(u)}finally{a.f()}i.buffers&&i.buffers[0]&&delete i.buffers[0].uri,r.removeExtension("KHR_binary_glTF")}(e),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n)}},{key:"_addAsset",value:function(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(e){for(var t in Qr)this._convertTopLevelObjectToArray(e,t)}},{key:"_convertTopLevelObjectToArray",value:function(e,t){var n=e[t];if(n&&!Array.isArray(n))for(var r in e[t]=[],n){var i=n[r];i.id=i.id||r;var a=e[t].length;e[t].push(i),this.idToIndexMap[t][r]=a}}},{key:"_convertObjectIdsToArrayIndices",value:function(e){for(var t in Qr)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));var n,r=zr(e.textures);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._convertTextureIds(i)}}catch(p){r.e(p)}finally{r.f()}var a,o=zr(e.meshes);try{for(o.s();!(a=o.n()).done;){var s=a.value;this._convertMeshIds(s)}}catch(p){o.e(p)}finally{o.f()}var u,c=zr(e.nodes);try{for(c.s();!(u=c.n()).done;){var f=u.value;this._convertNodeIds(f)}}catch(p){c.e(p)}finally{c.f()}var l,h=zr(e.scenes);try{for(h.s();!(l=h.n()).done;){var d=l.value;this._convertSceneIds(d)}}catch(p){h.e(p)}finally{h.f()}}},{key:"_convertTextureIds",value:function(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}},{key:"_convertMeshIds",value:function(e){var t,n=zr(e.primitives);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.attributes,a=r.indices,o=r.material;for(var s in i)i[s]=this._convertIdToIndex(i[s],"accessor");a&&(r.indices=this._convertIdToIndex(a,"accessor")),o&&(r.material=this._convertIdToIndex(o,"material"))}}catch(u){n.e(u)}finally{n.f()}}},{key:"_convertNodeIds",value:function(e){var t=this;e.children&&(e.children=e.children.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertSceneIds",value:function(e){var t=this;e.nodes&&(e.nodes=e.nodes.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertIdsToIndices",value:function(e,t){var n,r=zr(e[t]);try{for(r.s();!(n=r.n()).done;){var i=n.value;for(var a in i){var o=i[a],s=this._convertIdToIndex(o,a);i[a]=s}}}catch(u){r.e(u)}finally{r.f()}}},{key:"_convertIdToIndex",value:function(e,t){var n=Yr[t];if(n in this.idToIndexMap){var r=this.idToIndexMap[n][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}},{key:"_updateObjects",value:function(e){var t,n=zr(this.json.buffers);try{for(n.s();!(t=n.n()).done;){delete t.value.type}}catch(r){n.e(r)}finally{n.f()}}}]),e}();function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new Jr).normalize(e,t)}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ti={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ni={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ri={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},ii={magFilter:ri.TEXTURE_MAG_FILTER,minFilter:ri.TEXTURE_MIN_FILTER,wrapS:ri.TEXTURE_WRAP_S,wrapT:ri.TEXTURE_WRAP_T},ai=(Kr={},Object(d.a)(Kr,ri.TEXTURE_MAG_FILTER,ri.LINEAR),Object(d.a)(Kr,ri.TEXTURE_MIN_FILTER,ri.NEAREST_MIPMAP_LINEAR),Object(d.a)(Kr,ri.TEXTURE_WRAP_S,ri.REPEAT),Object(d.a)(Kr,ri.TEXTURE_WRAP_,ri.REPEAT),Kr);var oi=function(){function e(){Object(re.a)(this,e)}return Object(ie.a)(e,[{key:"postProcess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.json,r=e.buffers,i=void 0===r?[]:r,a=e.images,o=void 0===a?[]:a,s=e.baseUri,u=void 0===s?"":s;return kn(n),this.baseUri=u,this.json=n,this.buffers=i,this.images=o,this._resolveTree(this.json,t),this.json}},{key:"_resolveTree",value:function(e){var t=this;e.bufferViews&&(e.bufferViews=e.bufferViews.map((function(e,n){return t._resolveBufferView(e,n)}))),e.images&&(e.images=e.images.map((function(e,n){return t._resolveImage(e,n)}))),e.samplers&&(e.samplers=e.samplers.map((function(e,n){return t._resolveSampler(e,n)}))),e.textures&&(e.textures=e.textures.map((function(e,n){return t._resolveTexture(e,n)}))),e.accessors&&(e.accessors=e.accessors.map((function(e,n){return t._resolveAccessor(e,n)}))),e.materials&&(e.materials=e.materials.map((function(e,n){return t._resolveMaterial(e,n)}))),e.meshes&&(e.meshes=e.meshes.map((function(e,n){return t._resolveMesh(e,n)}))),e.nodes&&(e.nodes=e.nodes.map((function(e,n){return t._resolveNode(e,n)}))),e.skins&&(e.skins=e.skins.map((function(e,n){return t._resolveSkin(e,n)}))),e.scenes&&(e.scenes=e.scenes.map((function(e,n){return t._resolveScene(e,n)}))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===Object(k.a)(t))return t;var n=this.json[e]&&this.json[e][t];return n||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),n}},{key:"_resolveScene",value:function(e,t){var n=this;return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return n.getNode(e)})),e}},{key:"_resolveNode",value:function(e,t){var n=this;return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((function(e){return n.getNode(e)}))),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}},{key:"_resolveSkin",value:function(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}},{key:"_resolveMesh",value:function(e,t){var n=this;return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((function(e){var t=(e=ei({},e)).attributes;for(var r in e.attributes={},t)e.attributes[r]=n.getAccessor(t[r]);return void 0!==e.indices&&(e.indices=n.getAccessor(e.indices)),void 0!==e.material&&(e.material=n.getMaterial(e.material)),e}))),e}},{key:"_resolveMaterial",value:function(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture=ei({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=ei({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=ei({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){e.pbrMetallicRoughness=ei({},e.pbrMetallicRoughness);var n=e.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture=ei({},n.baseColorTexture),n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture=ei({},n.metallicRoughnessTexture),n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}return e}},{key:"_resolveAccessor",value:function(e,t){var n,r;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(n=e.componentType,ni[n]),e.components=(r=e.type,ti[r]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){var i=e.bufferView.buffer,a=sr(e,e.bufferView),o=a.ArrayType,s=a.length,u=(e.bufferView.byteOffset||0)+i.byteOffset;e.value=new o(i.arrayBuffer,u,s)}return e}},{key:"_resolveTexture",value:function(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):ai,e.source=this.getImage(e.source),e}},{key:"_resolveSampler",value:function(e,t){for(var n in e.id=e.id||"sampler-".concat(t),e.parameters={},e){var r=this._enumSamplerParameter(n);void 0!==r&&(e.parameters[r]=e[n])}return e}},{key:"_enumSamplerParameter",value:function(e){return ii[e]}},{key:"_resolveImage",value:function(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var n=this.images[t];return n&&(e.image=n),e}},{key:"_resolveBufferView",value:function(e,t){e.id=e.id||"bufferView-".concat(t);var n=e.buffer;e.buffer=this.buffers[n];var r=this.buffers[n].arrayBuffer,i=this.buffers[n].byteOffset||0;return"byteOffset"in e&&(i+=e.byteOffset),e.data=new Uint8Array(r,i,e.byteLength),e}},{key:"_resolveCamera",value:function(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}]),e}();function si(e,t){return(new oi).postProcess(e,t)}function ui(e,t){return ci.apply(this,arguments)}function ci(){return(ci=Object(v.a)(h.a.mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:0,i=c.length>3?c[3]:void 0,a=c.length>4?c[4]:void 0,fi(t,n,r,i),Zr(t,{normalize:i.gltf.normalize}),o=[],i.gltf.loadImages&&(s=di(t,i,a),o.push(s)),!i.gltf.loadBuffers||!t.json.buffers){e.next=10;break}return e.next=10,li(t,i,a);case 10:return u=Nr(t,i,a),o.push(u),e.next=14,Promise.all(o);case 14:return e.abrupt("return",i.gltf.postProcess?si(t,i):t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fi(e,t,n,r){(r.uri&&(e.baseUri=r.uri),t instanceof ArrayBuffer&&!Ur(t,n,r))&&(t=(new TextDecoder).decode(t));if("string"==typeof t)e.json=wn(t);else if(t instanceof ArrayBuffer){var i={};n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(t);e.type=Dr(r,n+0),e.version=r.getUint32(n+4,!0);var i=r.getUint32(n+8,!0);switch(e.header={byteOffset:n,byteLength:i},e.json={},e.binChunks=[],n+=12,e.version){case 1:return Fr(e,r,n,{});case 2:return Vr(e,r,n,{});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}}(i,t,n,r),kn("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),e._glb=i,e.json=i.json}else kn(!1,"GLTF: must be ArrayBuffer or string");var a=e.json.buffers||[];if(e.buffers=new Array(a.length).fill(null),e._glb&&e._glb.header.hasBinChunk){var o=e._glb.binChunks;e.buffers[0]={arrayBuffer:o[0].arrayBuffer,byteOffset:o[0].byteOffset,byteLength:o[0].byteLength}}var s=e.json.images||[];e.images=new Array(s.length).fill({})}function li(e,t,n){return hi.apply(this,arguments)}function hi(){return(hi=Object(v.a)(h.a.mark((function e(t,n,r){var i,a,o,s,u,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<t.json.buffers.length)){e.next=18;break}if(!(a=t.json.buffers[i]).uri){e.next=15;break}return kn(o=r.fetch),s=An(a.uri,n),e.next=9,o(s);case 9:return u=e.sent,e.next=12,u.arrayBuffer();case 12:c=e.sent,t.buffers[i]={arrayBuffer:c,byteOffset:0,byteLength:c.byteLength},delete a.uri;case 15:++i,e.next=1;break;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e,t,n){return pi.apply(this,arguments)}function pi(){return(pi=Object(v.a)(h.a.mark((function e(t,n,r){var i,a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.json.images||[],a=[],o=0;o<i.length;++o)a.push(vi(t,i[o],o,n,r));return e.next=5,Promise.all(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vi(e,t,n,r,i){return gi.apply(this,arguments)}function gi(){return(gi=Object(v.a)(h.a.mark((function e(t,n,r,i,a){var o,s,u,c,f,l,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.fetch,s=a.parse,!n.uri){e.next=9;break}return c=An(n.uri,i),e.next=5,o(c);case 5:return f=e.sent,e.next=8,f.arrayBuffer();case 8:u=e.sent;case 9:return Number.isFinite(n.bufferView)&&(l=En(t.json,t.buffers,n.bufferView),u=xn(l.buffer,l.byteOffset,l.byteLength)),kn(u,"glTF image has no data"),e.next=13,s(u,yn,{},a);case 13:d=e.sent,t.images[r]=d;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bi={id:"gltf",name:"glTF",version:"2.3.8",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function(e){return _i.apply(this,arguments)},options:{gltf:{normalize:!1,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},uri:"",log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}},wi=bi;function _i(){return(_i=Object(v.a)(h.a.mark((function e(t){var n,r,i,a,o,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,(n=yi(yi({},bi.options),n)).gltf=yi(yi({},bi.options.gltf),n.gltf),xi(n),i=n.byteOffset,a=void 0===i?0:i,o={},e.next=9,ui(o,t,a,n,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xi(e){"fetchImages"in e&&(e.gltf.loadImages=e.fetchImages),"createImages"in e&&(e.gltf.loadImages=e.createImages),"fetchLinkedResources"in e&&(e.gltf.fetchBuffers=e.fetchLinkedResources),"decompress"in e&&(e.gltf.decompressMeshes=e.decompress),"decompress"in e.gltf&&(e.gltf.decompressMeshes=e.gltf.decompress),"postProcess"in e&&(e.gltf.postProcess=e.postProcess)}var Oi=n("WHLF"),ki=n("qxLR"),Ai=n(5),Ei=n(6),Si=n.n(Ei),ji=n(7),Ti=n.n(ji),Ii=n(8),Ri=n.n(Ii),Li=n(9),Mi=n(10);n(11),n(12),n("BOV5"),n(14),n("YiVh");ki.TextEncoder&&(!Oi.b||!("TextEncoder"in Oi.a))&&(Oi.a.TextEncoder=ki.TextEncoder),ki.TextEncoder&&(!Oi.b||!("TextDecoder"in Oi.a))&&(Oi.a.TextDecoder=ki.TextDecoder),Oi.b||"atob"in Oi.a||!Ai.atob||(Oi.a.atob=Ai.atob),Oi.b||"btoa"in Oi.a||!Ai.btoa||(Oi.a.btoa=Ai.btoa),Oi.b||"Headers"in Oi.a||!Si.a||(Oi.a.Headers=Si.a),Oi.b||"Response"in Oi.a||!Ti.a||(Oi.a.Response=Ti.a),Oi.b||"fetch"in Oi.a||!Ri.a||(Oi.a.fetch=Ri.a),Oi.b||"_encodeImageNode"in Oi.a||!Li.encodeImageNode||(Oi.a._encodeImageNode=Li.encodeImageNode),Oi.b||"_parseImageNode"in Oi.a||!Mi.parseImageNode||(Oi.a._parseImageNode=Mi.parseImageNode);var Pi=n("73Rc"),Ci=n("75fp"),Ni=n("bjw9"),Bi=n("lHlH"),Di=n("JR+K"),Ui=n("IObG"),Fi=n("Ji7U"),Vi=n("md7G"),Gi=n("foSv");n("RHh3");function Hi(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}Math.PI,Math.PI;var Wi={};function qi(e){return Math.round(e/Wi.EPSILON)*Wi.EPSILON}function zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.precision,r=void 0===n?Wi.precision||4:n;return e=qi(e),"".concat(parseFloat(e.toPrecision(r)))}function Xi(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ki(e,t,n){var r=Wi.EPSILON;n&&(Wi.EPSILON=n);try{if(e===t)return!0;if(Xi(e)&&Xi(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!Ki(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=Wi.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{Wi.EPSILON=r}}function Qi(e,t){if(e.length!==t)return!1;for(var n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}function Yi(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function Ji(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Wi.debug&&!Qi(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}Wi.EPSILON=1e-12,Wi.debug=!1,Wi.precision=4,Wi.printTypes=!1,Wi.printDegrees=!1,Wi.printRowMajor=!0;var Zi={};function $i(e,t){Zi[e]||(Zi[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}var ea=n("kHIg");function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Gi.a)(e);if(t){var i=Object(Gi.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Vi.a)(this,n)}}var na=function(e){Object(Fi.a)(n,e);var t=ta(n);function n(){return Object(re.a)(this,n),t.apply(this,arguments)}return Object(ie.a)(n,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"to",value:function(e){return e===this?this:Xi(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(Wi)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+zi(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!Ki(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,n){void 0===n&&(n=t,t=e,e=this);for(var r=0;r<this.ELEMENTS;++r){var i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]+=a[o];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]-=a[o];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}},{key:"multiplyByScalar",value:function(e){return this.scale(e)}},{key:"check",value:function(){if(Wi.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"ELEMENTS",get:function(){return Hi(!1),0}},{key:"RANK",get:function(){return Hi(!1),0}},{key:"elements",get:function(){return this}}]),n}(Object(ea.a)(Array));function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Gi.a)(e);if(t){var i=Object(Gi.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Vi.a)(this,n)}}var ia=function(e){Object(Fi.a)(n,e);var t=ra(n);function n(){return Object(re.a)(this,n),t.apply(this,arguments)}return Object(ie.a)(n,[{key:"toString",value:function(){var e="[";if(Wi.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(var r=0;r<this.ELEMENTS;++r)e+=" ".concat(this[r])}return e+="]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,n){return this[t*this.RANK+e]=Yi(n),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=e*this.RANK,r=0;r<this.RANK;++r)t[r]=this[n+r];return t}},{key:"setColumn",value:function(e,t){for(var n=e*this.RANK,r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}]),n}(na);function aa(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a||1;return e[0]=(n[0]*r+n[4]*i+n[8]*a)/o,e[1]=(n[1]*r+n[5]*i+n[9]*a)/o,e[2]=(n[2]*r+n[6]*i+n[10]*a)/o,e}var oa=n("/IxR"),sa=n("umh7"),ua=n("MTwu"),ca=n("ARt4");function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Gi.a)(e);if(t){var i=Object(Gi.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Vi.a)(this,n)}}var la=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),ha=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),da=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),pa={},va=function(e){Object(Fi.a)(n,e);var t=fa(n);function n(e){var r;return Object(re.a)(this,n),r=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return Object(ie.a)(n,[{key:"INDICES",get:function(){return da}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return pa.IDENTITY=pa.IDENTITY||Object.freeze(new n(la)),pa.IDENTITY}},{key:"ZERO",get:function(){return pa.ZERO=pa.ZERO||Object.freeze(new n(ha)),pa.ZERO}}]),Object(ie.a)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,n,r,i,a,o,s,u,c,f,l,h,d,p,v){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=a,this[6]=o,this[7]=s,this[8]=u,this[9]=c,this[10]=f,this[11]=l,this[12]=h,this[13]=d,this[14]=p,this[15]=v,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,a,o,s,u,c,f,l,h,d,p,v){return this[0]=e,this[1]=i,this[2]=u,this[3]=h,this[4]=t,this[5]=a,this[6]=c,this[7]=d,this[8]=n,this[9]=o,this[10]=f,this[11]=p,this[12]=r,this[13]=s,this[14]=l,this[15]=v,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(la)}},{key:"fromQuaternion",value:function(e){return oa.b(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,r=e.right,i=e.bottom,a=e.top,o=e.near,s=e.far;return s===1/0?n._computeInfinitePerspectiveOffCenter(this,t,r,i,a,o):oa.c(this,t,r,i,a,o,s),this.check()}},{key:"lookAt",value:function(e,t,n){if(1===arguments.length){var r=e;e=r.eye,t=r.center,n=r.up}return t=t||[0,0,0],n=n||[0,1,0],oa.e(this,e,t,n),this.check()}},{key:"ortho",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,a=e.near,o=void 0===a?.1:a,s=e.far,u=void 0===s?500:s;return oa.g(this,t,n,r,i,o,u),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,r=void 0===t?45*Math.PI/180:t,i=e.aspect,a=void 0===i?1:i,o=e.focalDistance,s=void 0===o?1:o,u=e.near,c=void 0===u?.1:u,f=e.far,l=void 0===f?500:f;if(r>2*Math.PI)throw Error("radians");var h=r/2,d=s*Math.tan(h),p=d*a;return(new n).ortho({left:-p,right:p,bottom:-d,top:d,near:c,far:l})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,n=void 0===t?void 0:t,r=e.fov,i=void 0===r?45*Math.PI/180:r,a=e.aspect,o=void 0===a?1:a,s=e.near,u=void 0===s?.1:s,c=e.far,f=void 0===c?500:c;if((n=n||i)>2*Math.PI)throw Error("radians");return oa.h(this,n,o,u,f),this.check()}},{key:"determinant",value:function(){return oa.a(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(t||[-0,-0,-0]),r=1/n[0],i=1/n[1],a=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*a,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(t||[-0,-0,-0]),r=1/n[0],i=1/n[1],a=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*a,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*a,e}},{key:"transpose",value:function(){return oa.o(this,this),this.check()}},{key:"invert",value:function(){return oa.d(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return oa.f(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return oa.f(this,this,e),this.check()}},{key:"rotateX",value:function(e){return oa.j(this,this,e),this.check()}},{key:"rotateY",value:function(e){return oa.k(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return oa.l(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t=Object(jn.a)(e,3),n=t[0],r=t[1],i=t[2];return this.rotateX(n).rotateY(r).rotateZ(i)}},{key:"rotateAxis",value:function(e,t){return oa.i(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?oa.m(this,this,e):oa.m(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return oa.n(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(Ji(t=ca.n(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){switch(e.length){case 2:t=sa.a(t||[-0,-0],e,this);break;case 3:t=ua.l(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Ji(t,e.length),t}},{key:"transformAsVector",value:function(e,t){switch(e.length){case 2:n=t||[-0,-0],i=this,a=(r=e)[0],o=r[1],s=i[3]*a+i[7]*o||1,n[0]=(i[0]*a+i[4]*o)/s,n[1]=(i[1]*a+i[5]*o)/s,t=n;break;case 3:t=aa(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}var n,r,i,a,o,s;return Ji(t,e.length),t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,n){return this.identity().translate([e,t,n])}},{key:"transformPoint",value:function(e,t){return $i("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return $i("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return $i("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(e,t,n,r,i,a){var o=2*a/(n-t),s=2*a/(i-r),u=(n+t)/(n-t),c=(i+r)/(i-r),f=-2*a;return e[0]=o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=f,e[15]=0,e}}]),n}(ia),ga=n("3LCa"),ma=n("YJ55");function ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Gi.a)(e);if(t){var i=Object(Gi.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Vi.a)(this,n)}}var ba=function(e){Object(Fi.a)(n,e);var t=ya(n);function n(){return Object(re.a)(this,n),t.apply(this,arguments)}return Object(ie.a)(n,[{key:"copy",value:function(e){return Hi(!1),this}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-e[n];t+=r*r}return Yi(t)}},{key:"dot",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return Yi(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]*=a[o];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]/=a[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return Hi(e>=0&&e<this.ELEMENTS,"index is out of range"),Yi(this[e])}},{key:"setComponent",value:function(e,t){return Hi(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Yi(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Yi(e)}}]),n}(na);function wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Gi.a)(e);if(t){var i=Object(Gi.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Vi.a)(this,n)}}var _a=[0,0,0],xa={},Oa=function(e){Object(Fi.a)(n,e);var t=wa(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(re.a)(this,n),e=t.call(this,-0,-0,-0),1===arguments.length&&Xi(r)?e.copy(r):(Wi.debug&&(Yi(r),Yi(i),Yi(a)),e[0]=r,e[1]=i,e[2]=a),e}return Object(ie.a)(n,null,[{key:"ZERO",get:function(){return xa.ZERO=xa.ZERO||Object.freeze(new n(0,0,0,0))}}]),Object(ie.a)(n,[{key:"set",value:function(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return Wi.debug&&(Yi(e.x),Yi(e.y),Yi(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"angle",value:function(e){return ua.a(this,e)}},{key:"cross",value:function(e){return ua.c(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?_a:n;return ua.h(this,this,r,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?_a:n;return ua.i(this,this,r,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?_a:n;return ua.j(this,this,r,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return ua.l(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return aa(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return ua.k(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){var t,n,r,i,a;return t=this,r=e,i=(n=this)[0],a=n[1],t[0]=r[0]*i+r[2]*a,t[1]=r[1]*i+r[3]*a,t[2]=n[2],this.check()}},{key:"transformByQuaternion",value:function(e){return ua.m(this,this,e),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Yi(e)}}]),n}(ba),ka=n("BunF"),Aa=n("Iq2B"),Ea=function(){function e(e){void 0===e&&(e={});var t=e.id;this.id=t||Object(ka.c)(this.constructor.name),this.display=!0,this.position=new Oa,this.rotation=new Oa,this.scale=new Oa(1,1,1),this.matrix=new va,this.userData={},this.props={},this._setScenegraphNodeProps(e)}var t=e.prototype;return t.delete=function(){},t.setProps=function(e){return this._setScenegraphNodeProps(e),this},t.toString=function(){return"{type: ScenegraphNode, id: "+this.id+")}"},t.setPosition=function(e){return Object(Aa.a)(3===e.length,"setPosition requires vector argument"),this.position=e,this},t.setRotation=function(e){return Object(Aa.a)(3===e.length,"setRotation requires vector argument"),this.rotation=e,this},t.setScale=function(e){return Object(Aa.a)(3===e.length,"setScale requires vector argument"),this.scale=e,this},t.setMatrix=function(e,t){void 0===t&&(t=!0),t?this.matrix.copy(e):this.matrix=e},t.setMatrixComponents=function(e){var t=e.position,n=e.rotation,r=e.scale,i=e.update,a=void 0===i||i;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),a&&this.updateMatrix(),this},t.updateMatrix=function(){var e=this.position,t=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(n),this},t.update=function(e){void 0===e&&(e={});var t=e,n=t.position,r=t.rotation,i=t.scale;return n&&this.setPosition(n),r&&this.setRotation(r),i&&this.setScale(i),this.updateMatrix(),this},t.getCoordinateUniforms=function(e,t){Object(Aa.a)(e),t=t||this.matrix;var n=new va(e).multiplyRight(t),r=n.invert(),i=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:i}},t._setScenegraphNodeProps=function(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)},e}();function Sa(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ja(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ta=function(e){function t(t){var n;void 0===t&&(t={});var r=(t=Array.isArray(t)?{children:t}:t).children,i=void 0===r?[]:r;return Bi.i.assert(i.every((function(e){return e instanceof Ea})),"every child must an instance of ScenegraphNode"),(n=e.call(this,t)||this).children=i,n}Object(s.a)(t,e);var n=t.prototype;return n.add=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];Array.isArray(a)?this.add.apply(this,Object(Je.a)(a)):this.children.push(a)}return this},n.remove=function(e){var t=this.children,n=t.indexOf(e);return n>-1&&t.splice(n,1),this},n.removeAll=function(){return this.children=[],this},n.delete=function(){this.children.forEach((function(e){return e.delete()})),this.removeAll(),e.prototype.delete.call(this)},n.traverse=function(e,n){for(var r,i=(void 0===n?{}:n).worldMatrix,a=void 0===i?new va:i,o=new va(a).multiplyRight(this.matrix),s=Sa(this.children);!(r=s()).done;){var u=r.value;u instanceof t?u.traverse(e,{worldMatrix:o}):e(u,{worldMatrix:o})}},t}(Ea),Ia=n("yOd+");n("QFcT");function Ra(){var e=new Ia.a(4);return Ia.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function La(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Ma(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],c=n[2],f=n[3];return e[0]=r*f+o*s+i*c-a*u,e[1]=i*f+o*u+a*s-r*c,e[2]=a*f+o*c+r*u-i*s,e[3]=o*f-r*s-i*u-a*c,e}function Pa(e,t,n,r){var i,a,o,s,u,c=t[0],f=t[1],l=t[2],h=t[3],d=n[0],p=n[1],v=n[2],g=n[3];return(a=c*d+f*p+l*v+h*g)<0&&(a=-a,d=-d,p=-p,v=-v,g=-g),1-a>Ia.b?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(s=1-r,u=r),e[0]=s*c+u*d,e[1]=s*f+u*p,e[2]=s*l+u*v,e[3]=s*h+u*g,e}function Ca(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e}ca.b,ca.g,ca.c,ca.l;var Na,Ba,Da,Ua,Fa,Va,Ga,Ha=ca.a,Wa=ca.k,qa=ca.d,za=ca.i,Xa=ca.h,Ka=ca.m,Qa=ca.j,Ya=(ca.f,ca.e,Na=ua.b(),Ba=ua.e(1,0,0),Da=ua.e(0,1,0),function(e,t,n){var r=ua.d(t,n);return r<-.999999?(ua.c(Na,Ba,t),ua.f(Na)<1e-6&&ua.c(Na,Da,t),ua.g(Na,Na),La(e,Na,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(ua.c(Na,t,n),e[0]=Na[0],e[1]=Na[1],e[2]=Na[2],e[3]=1+r,Qa(e,e))});Ua=Ra(),Fa=Ra(),Va=new Ia.a(9),Ia.a!=Float32Array&&(Va[1]=0,Va[2]=0,Va[3]=0,Va[5]=0,Va[6]=0,Va[7]=0),Va[0]=1,Va[4]=1,Va[8]=1,Ga=Va;function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(Gi.a)(e);if(t){var i=Object(Gi.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Vi.a)(this,n)}}var Za=[0,0,0,1],$a=function(e){Object(Fi.a)(n,e);var t=Ja(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(re.a)(this,n),e=t.call(this,-0,-0,-0,-0),Array.isArray(r)&&1===arguments.length?e.copy(r):e.set(r,i,a,o),e}return Object(ie.a)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"set",value:function(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}},{key:"fromMatrix3",value:function(e){return Ca(this,e),this.check()}},{key:"identity",value:function(){return function(e){e[0]=0,e[1]=0,e[2]=0,e[3]=1}(this),this.check()}},{key:"fromAxisRotation",value:function(e,t){return La(this,e,t),this.check()}},{key:"setAxisAngle",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:"len",value:function(){return Xa(this)}},{key:"lengthSquared",value:function(){return Ka(this)}},{key:"dot",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return qa(this,e)}},{key:"rotationTo",value:function(e,t){return Ya(this,e,t),this.check()}},{key:"add",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return Ha(this,this,e),this.check()}},{key:"calculateW",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2];e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i))}(this,this),this.check()}},{key:"conjugate",value:function(){return function(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3]}(this,this),this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s}(this,this),this.check()}},{key:"lerp",value:function(e,t,n){return za(this,e,t,n),this.check()}},{key:"multiplyRight",value:function(e,t){return Hi(!t),Ma(this,this,e),this.check()}},{key:"multiplyLeft",value:function(e,t){return Hi(!t),Ma(this,e,this),this.check()}},{key:"normalize",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:"rotateX",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=a*u-i*s,e[3]=o*u-r*s}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u-a*s,e[1]=i*u+o*s,e[2]=a*u+r*s,e[3]=o*u-i*s}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=a*u+o*s,e[3]=o*u-a*s}(this,this,e),this.check()}},{key:"scale",value:function(e){return Wa(this,this,e),this.check()}},{key:"slerp",value:function(e,t,n){switch(arguments.length){case 1:var r=arguments[0],i=r.start;e=void 0===i?Za:i,t=r.target,n=r.ratio;break;case 2:var a=Array.prototype.slice.call(arguments);t=a[0],n=a[1],e=this}return Pa(this,e,t,n),this.check()}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return ca.o(t,e,this),Ji(t,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(e,t){return this.setAxisAngle(e,t)}},{key:"premultiply",value:function(e,t){return this.multiplyLeft(e,t)}},{key:"multiply",value:function(e,t){return this.multiplyRight(e,t)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=Yi(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=Yi(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=Yi(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=Yi(e)}}]),n}(na),eo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},to={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function no(e){if(!e._animation){var t=to[e.componentType],n=eo[e.type],r=n*e.count,i=e.bufferView.data,a=new t(i.buffer,i.byteOffset+(e.byteOffset||0),r);if(1===n)e._animation=Array.from(a);else{for(var o=[],s=0;s<a.length;s+=n)o.push(Array.from(a.slice(s,s+n)));e._animation=o}}return e._animation}var ro=new va;var io=new $a;function ao(e,t,n,r){var i=t.input,a=t.interpolation,o=t.output,s=e%i[i.length-1],u=i.findIndex((function(e){return e>=s})),c=Math.max(0,u-1);if(!Array.isArray(n[r]))switch(r){case"translation":n[r]=[0,0,0];break;case"rotation":n[r]=[0,0,0,1];break;case"scale":n[r]=[1,1,1];break;default:Bi.i.warn("Bad animation path "+r)()}Object(Aa.a)(n[r].length===o[c].length);var f=i[c],l=i[u];switch(a){case"STEP":!function(e,t,n){for(var r=0;r<n.length;r++)e[t][r]=n[r]}(n,r,o[c]);break;case"LINEAR":if(l>f){var h=(s-f)/(l-f);!function(e,t,n,r,i){if("rotation"===t){io.slerp({start:n,target:r,ratio:i});for(var a=0;a<io.length;a++)e[t][a]=io[a]}else for(var o=0;o<n.length;o++)e[t][o]=i*r[o]+(1-i)*n[o]}(n,r,o[c],o[u],h)}break;case"CUBICSPLINE":if(l>f){var d=(s-f)/(l-f),p=l-f;!function(e,t,n){for(var r=n.p0,i=n.outTangent0,a=n.inTangent1,o=n.p1,s=n.tDiff,u=n.ratio,c=0;c<e[t].length;c++){var f=i[c]*s,l=a[c]*s;e[t][c]=(2*Math.pow(u,3)-3*Math.pow(u,2)+1)*r[c]+(Math.pow(u,3)-2*Math.pow(u,2)+u)*f+(-2*Math.pow(u,3)+3*Math.pow(u,2))*o[c]+(Math.pow(u,3)-Math.pow(u,2))*l}}(n,r,{p0:o[3*c+1],outTangent0:o[3*c+2],inTangent1:o[3*u+0],p1:o[3*u+1],tDiff:p,ratio:d})}break;default:Bi.i.warn("Interpolation "+a+" not supported")()}}var oo=function(){function e(e){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,e)}return e.prototype.animate=function(e){if(this.playing){var t=(e/1e3-this.startTime)*this.speed;this.channels.forEach((function(e){var n=e.sampler,r=e.target,i=e.path;ao(t,n,r,i),function(e,t){if(t.matrix.identity(),e.translation&&t.matrix.translate(e.translation),e.rotation){var n=ro.fromQuaternion(e.rotation);t.matrix.multiplyRight(n)}e.scale&&t.matrix.scale(e.scale)}(r,r._node)}))}},e}(),so=function(){function e(e){this.animations=e.animations.map((function(t,n){var r=t.name||"Animation-"+n,i=t.samplers.map((function(t){var n=t.input,r=t.interpolation,i=void 0===r?"LINEAR":r,a=t.output;return{input:no(e.accessors[n]),interpolation:i,output:no(e.accessors[a])}})),a=t.channels.map((function(t){var n=t.sampler,r=t.target;return{sampler:i[n],target:e.nodes[r.node],path:r.path}}));return new oo({name:r,channels:a})}))}var t=e.prototype;return t.animate=function(e){this.setTime(e)},t.setTime=function(e){this.animations.forEach((function(t){return t.animate(e)}))},t.getAnimations=function(){return this.animations},e}(),uo={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else // HAS_TANGENTS != 1\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n// WebGL 1.0 does not support non-constant in for loops\n// This provides an easy way to handle these cases\n// and still take advantage of WebGL 2.0\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n\n// debugging flags used for shader output of intermediate PBR variables\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n// Encapsulate the various inputs used by the various functions in the shading equation\n// We store values in this struct to simplify the integration of alternative implementations\n// of the shading terms, outlined in the Readme.MD Appendix.\nstruct PBRInfo\n{\n  float NdotL;                  // cos angle between normal and light direction\n  float NdotV;                  // cos angle between normal and view direction\n  float NdotH;                  // cos angle between normal and half vector\n  float LdotH;                  // cos angle between light direction and half vector\n  float VdotH;                  // cos angle between view direction and half vector\n  float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n  float metalness;              // metallic value at the surface\n  vec3 reflectance0;            // full reflectance color (normal incidence angle)\n  vec3 reflectance90;           // reflectance color at grazing angle\n  float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n  vec3 diffuseColor;            // color contribution from diffuse lighting\n  vec3 specularColor;           // color contribution from specular lighting\n  vec3 n;                       // normal at surface point\n  vec3 v;                       // vector from surface point to camera\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else //SRGB_FAST_APPROXIMATION\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif //SRGB_FAST_APPROXIMATION\n  return vec4(linOut,srgbIn.w);;\n#else //MANUAL_SRGB\n  return srgbIn;\n#endif //MANUAL_SRGB\n}\n\n// Find the normal for this fragment, pulling either from a predefined normal map\n// or from the interpolated mesh normal and tangent attributes.\nvec3 getNormal()\n{\n  // Retrieve the tangent space matrix\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else // HAS_TANGENTS\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  // The tbn matrix is linearly interpolated, so we need to re-normalize\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n// Calculation of the lighting contribution from an optional Image Based Light source.\n// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].\n// See our README.md on Environment Maps [3] for additional discussion.\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0; // resolution of 512x512\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  // retrieve a scale and bias to F0. See [1], Figure 3\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n\n  // For presentation, this allows us to disable IBL terms\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n// Basic Lambertian diffuse\n// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\n// See also [1], Equation 1\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\n// The following equation models the Fresnel reflectance term of the spec equation (aka F())\n// Implementation of fresnel from [4], Equation 15\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n// This calculates the specular geometric attenuation (aka G()),\n// where rougher material will reflect less light back to the viewer.\n// This implementation is based on [1] Equation 4, and we adopt their modifications to\n// alphaRoughness as input as originally proposed in [2].\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n// The following equation(s) model the distribution of microfacet normals across\n// the area being drawn (aka D())\n// Implementation from \"Average Irregularity Representation of a Roughened Surface\n// for Ray Reflection\" by T. S. Trowbridge, and K. P. Reitz\n// Follows the distribution function recommended in the SIGGRAPH 2013 course notes\n// from EPIC Games [1], Equation 3.\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);             // Vector from surface point to light\n  vec3 h = normalize(l+v);                        // Half vector between both l and v\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  // Calculate the shading terms for the microfacet specular shading model\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n\n  // Calculation of analytical lighting contribution\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n  // The albedo may be defined from a base texture or a flat color\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n    // Metallic and Roughness material properties are packed together\n    // In glTF, these factors can be specified by fixed scalar values\n    // or from a metallic-roughness map\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\n    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n    // Roughness is authored as perceptual roughness; as is convention,\n    // convert to material roughness by squaring the perceptual roughness [2].\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n\n    // Compute reflectance.\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n    // For typical incident reflectance range (between 4% to 100%) set the grazing\n    // reflectance to 100% for typical fresnel effect.\n    // For very low reflectance range on highly diffuse objects (below 4%),\n    // incrementally reduce grazing reflecance to 0%.\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();                          // normal at surface point\n    vec3 v = normalize(u_Camera - pbr_vPosition);  // Vector from surface point to camera\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0, // NdotL\n      NdotV,\n      0.0, // NdotH\n      0.0, // LdotH\n      0.0, // VdotH\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    // Apply ambient light\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n\n    // Apply directional light\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n\n    // Apply point light\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n\n    // Calculate lighting contribution from image based lighting source (IBL)\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n\n    // Apply optional PBR terms for additional (optional) shading\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n    // This section uses mix to override final color for reference app visualization\n    // of various parameters in the lighting equation.\n#ifdef PBR_DEBUG\n    // TODO: Figure out how to debug multiple lights\n\n    // color = mix(color, F, u_ScaleFGDSpec.x);\n    // color = mix(color, vec3(G), u_ScaleFGDSpec.y);\n    // color = mix(color, vec3(D), u_ScaleFGDSpec.z);\n    // color = mix(color, specContrib, u_ScaleFGDSpec.w);\n\n    // color = mix(color, diffuseContrib, u_ScaleDiffBaseMR.x);\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[n("xGy9").a]},co=n("UD/Y"),fo=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,n)||this).onBeforeRender=null,r.AfterRender=null,t instanceof co.a?(r.model=t,r._setModelNodeProps(n)):r.model=new co.a(t,n),r.managedResources=n.managedResources||[],r}Object(s.a)(t,e);var n=t.prototype;return n.setProps=function(t){return e.prototype.setProps.call(this,t),this._setModelNodeProps(t),this},n.delete=function(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach((function(e){return e.delete()})),this.managedResources=[]},n.draw=function(){var e;return(e=this.model).draw.apply(e,arguments)},n.setUniforms=function(){var e;return(e=this.model).setUniforms.apply(e,arguments),this},n.setAttributes=function(){var e;return(e=this.model).setAttributes.apply(e,arguments),this},n.updateModuleSettings=function(){var e;return(e=this.model).updateModuleSettings.apply(e,arguments),this},n._setModelNodeProps=function(e){this.model.setProps(e)},t}(Ea),lo=n("dTJe"),ho=n("2aL3"),po=n("2urO"),vo=function(){function e(e,t){var n=t.attributes,r=t.material,i=t.pbrDebug,a=t.imageBasedLightingEnvironment,o=t.lights,s=t.useTangents;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},Object(lo.b)(e,ho.a.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],a&&(this.uniforms.u_DiffuseEnvSampler=a.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=a.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=a.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),i&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(n.NORMAL,"HAS_NORMALS"),this.defineIfPresent(n.TANGENT&&s,"HAS_TANGENTS"),this.defineIfPresent(n.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(a,"USE_IBL"),this.defineIfPresent(o,"USE_LIGHTS"),this.defineIfPresent(i,"PBR_DEBUG"),r&&this.parseMaterial(r)}var t=e.prototype;return t.defineIfPresent=function(e,t){e&&(this.defines[t]=1)},t.parseTexture=function(e,t,n){var r;void 0===n&&(n=null);var i=e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},a=new po.a(this.gl,{id:e.name||e.id,parameters:i,pixelStore:(r={},r[this.gl.UNPACK_FLIP_Y_WEBGL]=!1,r),data:e.texture.source.image});this.uniforms[t]=a,this.defineIfPresent(n,n),this.generatedTextures.push(a)},t.parsePbrMetallicRoughness=function(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");var t=e.metallicFactor,n=void 0===t?1:t,r=e.roughnessFactor,i=void 0===r?1:r;this.uniforms.u_MetallicRoughnessValues=[n,i]},t.parseMaterial=function(e){if(this.uniforms.pbr_uUnlit=Boolean(e.unlit),e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");var t=e.normalTexture.scale,n=void 0===t?1:t;this.uniforms.u_NormalScale=n}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");var r=e.occlusionTexture.strength,i=void 0===r?1:r;this.uniforms.u_OcclusionStrength=i}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){var a=e.alphaCutoff,o=void 0===a?.5:a;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=o}else"BLEND"===e.alphaMode&&(Bi.i.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))},e}();function go(e,t){return Object(Bi.h)(e)?"#version 300 es\n"+t:t}var mo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yo={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1},bo=function(){function e(e,t){void 0===t&&(t={}),this.gl=e,this.options=Object.assign({},yo,t)}var t=e.prototype;return t.instantiate=function(e){var t=this;return this.gltf=e,(e.scenes||[]).map((function(e){return t.createScene(e)}))},t.createAnimator=function(){return Array.isArray(this.gltf.animations)?new so(this.gltf):null},t.createScene=function(e){var t=this,n=(e.nodes||[]).map((function(e){return t.createNode(e)}));return new Ta({id:e.name||e.id,children:n})},t.createNode=function(e){var t=this;if(!e._node){var n=(e.children||[]).map((function(e){return t.createNode(e)}));e.mesh&&n.push(this.createMesh(e.mesh));var r=new Ta({id:e.name||e.id,children:n});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){var i=(new va).fromQuaternion(e.rotation);r.matrix.multiplyRight(i)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node},t.createMesh=function(e){var t=this;if(!e._mesh){var n=(e.primitives||[]).map((function(n,r){return t.createPrimitive(n,r,e)})),r=new Ta({id:e.name||e.id,children:n});e._mesh=r}return e._mesh},t.getVertexCount=function(e){Bi.i.warn("getVertexCount() not found")()},t.createPrimitive=function(e,t,n){return function(e,t){var n=t.id,r=t.drawMode,i=t.vertexCount,a=t.attributes,o=t.modelOptions,s=new vo(e,t);Bi.i.info(4,"createGLTFModel defines: ",s.defines)();var u=[];u.push.apply(u,Object(Je.a)(s.generatedTextures)),u.push.apply(u,Object(Je.a)(Object.values(a).map((function(e){return e.buffer}))));var c=new fo(e,Object.assign({id:n,drawMode:r,vertexCount:i,modules:[uo],defines:s.defines,parameters:s.parameters,vs:go(e,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:go(e,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:u},o));return c.setProps({attributes:a}),c.setUniforms(s.uniforms),c}(this.gl,Object.assign({id:e.name||(n.name||n.id)+"-primitive-"+t,drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options))},t.createAttributes=function(e,t){var n=this,r={};return Object.keys(e).forEach((function(t){r[t]=n.createAccessor(e[t],n.createBuffer(e[t],n.gl.ARRAY_BUFFER))})),t&&(r.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),Bi.i.info(4,"glTF Attributes",{attributes:e,indices:t,generated:r})(),r},t.createBuffer=function(e,t){e.bufferView||(e.bufferView={});var n=e.bufferView;return n.lumaBuffers||(n.lumaBuffers={}),n.lumaBuffers[t]||(n.lumaBuffers[t]=new ga.a(this.gl,{id:"from-"+n.id,data:n.data||e.value,target:t})),n.lumaBuffers[t]},t.createAccessor=function(e,t){return new ma.a({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:mo[e.type]})},t.createSampler=function(e){return e},t.needsPOT=function(){return!1},e}();function wo(e,t,n){var r=new bo(e,n);return{scenes:r.instantiate(t),animator:r.createAnimator()}}var _o=n("9cyU"),xo=n("WY7U");function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ao(e,t,n){var r=e;"function"==typeof e&&(r=e(ko(ko({},t),n))),Ut("string"==typeof r);var i=t.baseUrl;return i&&(r="/"===i[i.length-1]?"".concat(i).concat(r):"".concat(i,"/").concat(r)),N(r)}var Eo=function(e){return e&&"object"===Object(k.a)(e)};function So(e,t){return jo.apply(this,arguments)}function jo(){return(jo=Object(v.a)(h.a.mark((function e(t,n){var r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,To(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e,t,n){return Io.apply(this,arguments)}function Io(){return(Io=Object(v.a)(h.a.mark((function e(t,n,r){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,Mo(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:if(!Eo(t)){e.next=8;break}return e.next=7,Ro(t,n,r);case 7:return e.abrupt("return",e.sent);case 8:return i=t,e.next=11,n(i,r);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t,n){return Lo.apply(this,arguments)}function Lo(){return(Lo=Object(v.a)(h.a.mark((function e(t,n,r){var i,a,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in i=[],a={},o=function(e){var o=To(t[e],n,r).then((function(t){a[e]=t}));i.push(o)},t)o(s);return e.next=6,Promise.all(i);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e,t){return Po.apply(this,arguments)}function Po(){return(Po=Object(v.a)(h.a.mark((function e(t,n){var r,i,a=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},i=t.map((function(e){return To(e,n,r)})),e.next=4,Promise.all(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t,n){return No.apply(this,arguments)}function No(){return(No=Object(v.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,So(t,(function(e){return Bo(e,n,r)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e,t,n){return Do.apply(this,arguments)}function Do(){return(Do=Object(v.a)(h.a.mark((function e(t,n,r){var i,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r.fetch);case 2:return i=e.sent,e.next=5,i.arrayBuffer();case 5:return a=e.sent,e.next=8,n(a,r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vo(e){return Go.apply(this,arguments)}function Go(){return(Go=Object(v.a)(h.a.mark((function e(t){var n,r,i=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Ho(t,n);case 3:return r=e.sent,e.next=6,Co(r,vn,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(e,t){return Wo.apply(this,arguments)}function Wo(){return(Wo=Object(v.a)(h.a.mark((function e(t,n){var r,i,a=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},0===(i=n&&n.image&&n.image.mipLevels||0)){e.next=8;break}return e.next=5,qo(t,i,n,r);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=Ao(t,n,r);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t,n,r){return zo.apply(this,arguments)}function zo(){return(zo=Object(v.a)(h.a.mark((function e(t,n,r,i){var a,o,s,u,c,f,l,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],"auto"!==n){e.next=9;break}return o=Ao(t,r,Fo(Fo({},i),{},{lod:0})),e.next=5,Bo(o,vn,r);case 5:s=e.sent,u=Xt(s),c=u.width,f=u.height,n=Xo({width:c,height:f}),a.push(o);case 9:for(Ut(n>0),l=a.length;l<n;++l)d=Ao(t,r,Fo(Fo({},i),{},{lod:l})),a.push(d);return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e){var t=e.width,n=e.height;return 1+Math.floor(Math.log2(Math.max(t,n)))}var Ko,Qo=function(){function e(e,t){var n=t.brdfLutUrl,r=t.getTexUrl,i=t.specularMipLevels,a=void 0===i?10:i;this.gl=e,this.brdfLutUrl=n,this.getTexUrl=r,this.specularMipLevels=a}var t=e.prototype;return t.makeCube=function(e){var t=e.id,n=e.getTextureForFace,r=e.parameters,i={};return xo.a.FACES.forEach((function(e){i[e]=n(e)})),new xo.a(this.gl,{id:t,mipmaps:!1,parameters:r,pixels:i})},t.getDiffuseEnvSampler=function(){var e,t=this;this._DiffuseEnvSampler||(this._DiffuseEnvSampler=this.makeCube({id:"DiffuseEnvSampler",getTextureForFace:function(e){return Vo(t.getTexUrl("diffuse",e,0))},parameters:(e={},e[Pi.a.TEXTURE_WRAP_S]=Pi.a.CLAMP_TO_EDGE,e[Pi.a.TEXTURE_WRAP_T]=Pi.a.CLAMP_TO_EDGE,e[Pi.a.TEXTURE_MIN_FILTER]=Pi.a.LINEAR,e[Pi.a.TEXTURE_MAG_FILTER]=Pi.a.LINEAR,e)}));return this._DiffuseEnvSampler},t.getSpecularEnvSampler=function(){var e,t=this;this._SpecularEnvSampler||(this._SpecularEnvSampler=this.makeCube({id:"SpecularEnvSampler",getTextureForFace:function(e){for(var n=[],r=0;r<=t.specularMipLevels-1;r++)n.push(Vo(t.getTexUrl("specular",e,r)));return n},parameters:(e={},e[Pi.a.TEXTURE_WRAP_S]=Pi.a.CLAMP_TO_EDGE,e[Pi.a.TEXTURE_WRAP_T]=Pi.a.CLAMP_TO_EDGE,e[Pi.a.TEXTURE_MIN_FILTER]=Pi.a.LINEAR_MIPMAP_LINEAR,e[Pi.a.TEXTURE_MAG_FILTER]=Pi.a.LINEAR,e)}));return this._SpecularEnvSampler},t.getBrdfTexture=function(){var e;this._BrdfTexture||(this._BrdfTexture=new po.a(this.gl,{id:"brdfLUT",parameters:(e={},e[Pi.a.TEXTURE_WRAP_S]=Pi.a.CLAMP_TO_EDGE,e[Pi.a.TEXTURE_WRAP_T]=Pi.a.CLAMP_TO_EDGE,e[Pi.a.TEXTURE_MIN_FILTER]=Pi.a.LINEAR,e[Pi.a.TEXTURE_MAG_FILTER]=Pi.a.LINEAR,e),data:Vo(this.brdfLutUrl)}));return this._BrdfTexture},t.delete=function(){this._DiffuseEnvSampler&&(this._DiffuseEnvSampler.delete(),this._DiffuseEnvSampler=null),this._SpecularEnvSampler&&(this._SpecularEnvSampler.delete(),this._SpecularEnvSampler=null),this._BrdfTexture&&(this._BrdfTexture.delete(),this._BrdfTexture=null)},e}(),Yo=n("kh/P"),Jo=n("yeNo");function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var es=((Ko={})[Pi.a.TEXTURE_CUBE_MAP_POSITIVE_X]="right",Ko[Pi.a.TEXTURE_CUBE_MAP_NEGATIVE_X]="left",Ko[Pi.a.TEXTURE_CUBE_MAP_POSITIVE_Y]="top",Ko[Pi.a.TEXTURE_CUBE_MAP_NEGATIVE_Y]="bottom",Ko[Pi.a.TEXTURE_CUBE_MAP_POSITIVE_Z]="front",Ko[Pi.a.TEXTURE_CUBE_MAP_NEGATIVE_Z]="back",Ko),ts="https://raw.githubusercontent.com/uber-common/deck.gl-data/master/luma.gl/examples/gltf/",ns={default:{directionalLights:[{color:[255,255,255],direction:[0,.5,.5],intensity:1}]},ambient:{ambientLight:{color:[255,255,255],intensity:1}},directional1:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},directional3:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1},{color:[0,0,255],direction:[0,0,1],intensity:1},{color:[0,255,0],direction:[0,1,0],intensity:1}]},point1far:{pointLights:[{color:[255,0,0],position:[200,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},point1near:{pointLights:[{color:[255,0,0],position:[10,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}}},rs={pbrDebug:!0,imageBasedLightingEnvironment:null,lights:!1};function is(e,t,n){return as.apply(this,arguments)}function as(){return(as=Object(v.a)(h.a.mark((function e(t,n,r){var i,a,o,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?window.fetch(t):t,e.next=3,Ct(i,wi,$o($o({},r),{},{gl:n}));case 3:return a=e.sent,o=wo(n,a,r),s=o.scenes,u=o.animator,s[0].traverse((function(e,t){t.worldMatrix;return Bi.i.info(4,"Using model: ",e)()})),e.abrupt("return",{scenes:s,animator:u,gltf:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var os=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this,$o($o({},t),{},{glOptions:{webgl1:!0,webgl2:!0,alpha:!1}}))||this;var r=t,i=r.modelFile,a=void 0===i?null:i,o=r.initialZoom,s=void 0===o?2:o;return n.scenes=[],n.animator=null,n.gl=null,n.modelFile=a,n.mouse={lastX:0,lastY:0},n.translate=s,n.rotation=[0,0],n.rotationStart=[0,0],n.u_ScaleDiffBaseMR=[0,0,0,0],n.u_ScaleFGDSpec=[0,0,0,0],n.attachTimeline(new Ci.a),n.timeline.play(),n.timelineChannel=n.timeline.addChannel({rate:.5}),n.animationHandle=null,n.onInitialize=n.onInitialize.bind(Object(p.a)(n)),n.onRender=n.onRender.bind(Object(p.a)(n)),n.gltf=null,n._setDisplay(new _o.a),n}Object(s.a)(t,e),t.getInfo=function(){return'\n<p><b>glTF Loader</b>.</p>\n<p>Rendered using luma.gl.</p>\n<div>\n  Show\n  <select id="showSelector">\n    <option value="0 0 0 0 0 0 0 0">Final Result</option>\n\n    <option value="0 1 0 0 0 0 0 0">Base Color</option>\n    <option value="0 0 1 0 0 0 0 0">Metallic</option>\n    <option value="0 0 0 1 0 0 0 0">Roughness</option>\n    <option value="1 0 0 0 0 0 0 0">Diffuse</option>\n\n    <option value="0 0 0 0 1 0 0 0">Specular Reflection</option>\n    <option value="0 0 0 0 0 1 0 0">Geometric Occlusion</option>\n    <option value="0 0 0 0 0 0 1 0">Microfacet Distribution</option>\n    <option value="0 0 0 0 0 0 0 1">Specular</option>\n  </select>\n  <br>\n</div>\n<div>\n  Regular Lights\n  <select id="lightSelector">\n    <option value="default">Default</option>\n    <option value="ambient">Ambient Only</option>\n    <option value="directional1">1x Directional (Red) + Ambient</option>\n    <option value="directional3">3x Directional (RGB)</option>\n    <option value="point1far">1x Point Light Far (Red) + Ambient</option>\n    <option value="point1near">1x Point Light Near (Red) + Ambient</option>\n  </select>\n  <br>\n</div>\n<div>\n  Image-Based Light\n  <select id="iblSelector">\n    <option value="exclusive">On (Exclusive)</option>\n    <option value="addition">On (Addition to Regular)</option>\n    <option value="off">Off (Only Regular)</option>\n  </select>\n  <br>\n</div>\n<p><img src="https://img.shields.io/badge/WebVR-Supported-orange.svg" /></p>\n'};var n=t.prototype;return n.initalizeEventHandling=function(e){var t=this,n=!1,r=function(e,r){t.mouse.lastX=e,t.mouse.lastY=r,t.rotationStart[0]=t.rotation[0],t.rotationStart[1]=t.rotation[1],n=!0},i=function(e,r){if(n){var i=e-t.mouse.lastX,a=r-t.mouse.lastY;t.rotation[0]=t.rotationStart[0]+a/100,t.rotation[1]=t.rotationStart[1]+i/100}};e.addEventListener("wheel",(function(e){t.translate+=e.deltaY/10,t.translate<.5&&(t.translate=.5),e.preventDefault()})),e.addEventListener("mousedown",(function(e){r(e.clientX,e.clientY),e.preventDefault()})),e.addEventListener("mouseup",(function(e){n=!1})),e.addEventListener("mousemove",(function(e){i(e.clientX,e.clientY)})),e.addEventListener("touchstart",(function(e){r(e.touches[0].clientX,e.touches[0].clientY),e.preventDefault()})),e.addEventListener("touchmove",(function(e){i(e.touches[0].clientX,e.touches[0].clientY)})),e.addEventListener("touchend",(function(e){0===e.touches.length&&(n=!1)})),e.addEventListener("dragover",(function(e){e.dataTransfer.dropEffect="link",e.preventDefault()})),e.addEventListener("drop",(function(e){(e.preventDefault(),e.dataTransfer.files&&1===e.dataTransfer.files.length)&&(t._deleteScenes(),is(new Promise((function(t){var n=new window.FileReader;n.onload=function(e){return t(e.target.result)},n.readAsArrayBuffer(e.dataTransfer.files[0])})),t.gl,t.loadOptions).then((function(e){return t._fileLoaded(e)})))}))},n._fileLoaded=function(e){null!==this.animationHandle&&(this.timeline.detachAnimation(this.animationHandle),this.animationHandle=null),this.animator=null,Object.assign(this,e),this.animator&&(this.animationHandle=this.timeline.attachAnimation(this.animator,this.timelineChannel))},n.onInitialize=function(e){var t=this,n=e.gl,r=e.canvas;if(Object(Bi.m)(n,{depthTest:!0,blend:!1}),this.loadOptions=rs,this.environment=new Qo(n,{brdfLutUrl:ts+"/brdfLUT.png",getTexUrl:function(e,t,n){return ts+"/papermill/"+e+"/"+e+"_"+es[t]+"_"+n+".jpg"}}),this.loadOptions.imageBasedLightingEnvironment=this.environment,this.gl=n,this.modelFile){is(this.modelFile,this.gl,{pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0}).then((function(e){return t._fileLoaded(e)}))}else{is(ts+"DamagedHelmet.glb",this.gl,this.loadOptions).then((function(e){return t._fileLoaded(e)}))}var i=document.getElementById("showSelector");i&&(i.onchange=function(e){var n=i.value.split(" ").map((function(e){return parseFloat(e)}));t.u_ScaleDiffBaseMR=n.slice(0,4),t.u_ScaleFGDSpec=n.slice(4)});var a=document.getElementById("lightSelector");a&&(a.onchange=function(e){t.light=a.value});var o=document.getElementById("iblSelector");o&&(o.onchange=function(e){t._updateLightSettings(o.value),t._rebuildModel()}),this.initalizeEventHandling(r)},n._updateLightSettings=function(e){switch(e){case"exclusive":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!1});break;case"addition":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!0});break;case"off":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:null,lights:!0})}},n._rebuildModel=function(){(this.gltf.meshes||[]).forEach((function(e){return delete e._mesh})),(this.gltf.nodes||[]).forEach((function(e){return delete e._node})),(this.gltf.bufferViews||[]).forEach((function(e){return delete e.lumaBuffers})),this._deleteScenes(),Object.assign(this,wo(this.gl,this.gltf,this.loadOptions))},n._deleteScenes=function(){this.scenes.forEach((function(e){return e.delete()})),this.scenes=[],Di.a.get("Resource Counts").forEach((function(e){var t=e.name,n=e.count;Bi.i.info(3,t+": "+n)()}))},n.applyLight=function(e){e.updateModuleSettings({lightSources:ns[this.light||"default"]})},n.onRender=function(e){var t=this,n=e.gl,r=(e.time,e.aspect),i=e.viewMatrix,a=e.projectionMatrix;Object(Ui.a)(n,{color:[.2,.2,.2,1],depth:!0});var o=this.rotation,s=o[0],u=o[1],c=[-this.translate*Math.sin(u)*Math.cos(-s),-this.translate*Math.sin(-s),this.translate*Math.cos(u)*Math.cos(-s)],f=new Yo.a(i?Array.from(i):null).translate([0,0,-this.translate]).rotateX(s).rotateY(u),l=a?new Yo.a(Array.from(a)):(new Yo.a).perspective({fov:Object(Jo.e)(40),aspect:r,near:.1,far:9e3});if(!this.scenes.length)return!1;var h=!0;return this.scenes[0].traverse((function(e,n){var r=n.worldMatrix,i=new Yo.a(l).multiplyRight(f).multiplyRight(r);t.applyLight(e),h=h&&e.draw({uniforms:{u_Camera:c,u_MVPMatrix:i,u_ModelMatrix:r,u_NormalMatrix:new Yo.a(r).invert().transpose(),u_ScaleDiffBaseMR:t.u_ScaleDiffBaseMR,u_ScaleFGDSpec:t.u_ScaleFGDSpec},parameters:e.props.parameters})})),h},t}(Ni.a);if("undefined"!=typeof window&&!window.website){(new os).start();var ss=document.createElement("div");ss.innerHTML=os.getInfo(),document.body.appendChild(ss)}var us=function(e){function t(){return e.apply(this,arguments)||this}return Object(s.a)(t,e),t.prototype.render=function(){return c.a.createElement(f.a,{AnimationLoop:os,exampleConfig:this.props.pageContext.exampleConfig})},t}(c.a.Component)},WHLF:function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("U8pU"),a="object"!==(void 0===e?"undefined":Object(i.a)(e))||"[object process]"!==String(e)||e.browser,o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==r&&r},s=o.global||o.self||o.window}).call(this,n("8oxB"),n("yLpj"))},YiVh:function(e,t,n){"use strict";(function(e){n(15),n(16),n("BOV5"),n(17)}).call(this,n("yLpj"))},mgqj:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("U8pU"),a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=a.global||a.self||a.window,s="object"!==(void 0===r?"undefined":Object(i.a)(r))||"[object process]"!==String(r)||r.browser,u=void 0!==r&&r.version&&r.version.match(/v([0-9]*)/);u&&parseFloat(u[1])}).call(this,n("yLpj"),n("8oxB"))},nGEl:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return f}));var i=n("U8pU"),a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=a.global||a.self||a.window,s="object"!==(void 0===r?"undefined":Object(i.a)(r))||"[object process]"!==String(r)||r.browser,u="function"==typeof importScripts,c=void 0!==r&&r.version&&r.version.match(/v([0-9]*)/),f=c&&parseFloat(c[1])||0}).call(this,n("yLpj"),n("8oxB"))},qxLR:function(e,t,n){(function(t){var r=n("AMGN");function i(e,t,n){return t<=e&&e<=n}t["encoding-indexes"]=r&&r["encoding-indexes"]||{};var a=Math.floor;function o(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){return 0<=e&&e<=127}var u=s;function c(e){this.tokens=[].slice.call(e),this.tokens.reverse()}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};function f(e,t){if(e)throw TypeError("Decoder error");return t||65533}function l(e){throw TypeError("The code point "+e+" could not be encoded.")}function h(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(p,e)?p[e]:null}var d=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],p={};d.forEach((function(e){e.encodings.forEach((function(e){e.labels.forEach((function(t){p[t]=e}))}))}));var v,g,m={},y={};function b(e,t){return t&&t[e]||null}function w(e,t){var n=t.indexOf(e);return-1===n?null:n}function _(e){if(!("encoding-indexes"in t))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return t["encoding-indexes"][e]}function x(e,t){if(!(this instanceof x))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):"utf-8",t=o(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=h(e);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+e);if(!y[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");return this._encoding=n,Boolean(t.fatal)&&(this._error_mode="fatal"),Boolean(t.ignoreBOM)&&(this._ignoreBOM=!0),Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM),this}function O(e,n){if(!(this instanceof O))throw TypeError("Called as a function. Did you forget 'new'?");n=o(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(n.fatal)?"fatal":"replacement";if(Boolean(n.NONSTANDARD_allowLegacyEncoding)){var r=h(e=void 0!==e?String(e):"utf-8");if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+e);if(!m[r.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=r}else this._encoding=h("utf-8"),void 0!==e&&"console"in t&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function k(e){var t=e.fatal,n=0,r=0,a=0,o=128,s=191;this.handler=function(e,u){if(-1===u&&0!==a)return a=0,f(t);if(-1===u)return-1;if(0===a){if(i(u,0,127))return u;if(i(u,194,223))a=1,n=31&u;else if(i(u,224,239))224===u&&(o=160),237===u&&(s=159),a=2,n=15&u;else{if(!i(u,240,244))return f(t);240===u&&(o=144),244===u&&(s=143),a=3,n=7&u}return null}if(!i(u,o,s))return n=a=r=0,o=128,s=191,e.prepend(u),f(t);if(o=128,s=191,n=n<<6|63&u,(r+=1)!==a)return null;var c=n;return n=a=r=0,c}}function A(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t))return t;var n,r;i(t,128,2047)?(n=1,r=192):i(t,2048,65535)?(n=2,r=224):i(t,65536,1114111)&&(n=3,r=240);for(var a=[(t>>6*n)+r];n>0;){var o=t>>6*(n-1);a.push(128|63&o),n-=1}return a}}function E(e,t){var n=t.fatal;this.handler=function(t,r){if(-1===r)return-1;if(s(r))return r;var i=e[r-128];return null===i?f(n):i}}function S(e,t){t.fatal;this.handler=function(t,n){if(-1===n)return-1;if(u(n))return n;var r=w(n,e);return null===r&&l(n),r+128}}function j(e){var t=e.fatal,n=0,r=0,a=0;this.handler=function(e,o){if(-1===o&&0===n&&0===r&&0===a)return-1;var u;if(-1!==o||0===n&&0===r&&0===a||(n=0,r=0,a=0,f(t)),0!==a){u=null,i(o,48,57)&&(u=function(e){if(e>39419&&e<189e3||e>1237575)return null;if(7457===e)return 59335;var t,n=0,r=0,i=_("gb18030-ranges");for(t=0;t<i.length;++t){var a=i[t];if(!(a[0]<=e))break;n=a[0],r=a[1]}return r+e-n}(10*(126*(10*(n-129)+r-48)+a-129)+o-48));var c=[r,a,o];return n=0,r=0,a=0,null===u?(e.prepend(c),f(t)):u}if(0!==r)return i(o,129,254)?(a=o,null):(e.prepend([r,o]),n=0,r=0,f(t));if(0!==n){if(i(o,48,57))return r=o,null;var l=n,h=null;n=0;var d=o<127?64:65;return(i(o,64,126)||i(o,128,254))&&(h=190*(l-129)+(o-d)),null===(u=null===h?null:b(h,_("gb18030")))&&s(o)&&e.prepend(o),null===u?f(t):u}return s(o)?o:128===o?8364:i(o,129,254)?(n=o,null):f(t)}}function T(e,t){e.fatal;this.handler=function(e,n){if(-1===n)return-1;if(u(n))return n;if(58853===n)return l(n);if(t&&8364===n)return 128;var r=w(n,_("gb18030"));if(null!==r){var i=r%190;return[a(r/190)+129,i+(i<63?64:65)]}if(t)return l(n);r=function(e){if(59335===e)return 7457;var t,n=0,r=0,i=_("gb18030-ranges");for(t=0;t<i.length;++t){var a=i[t];if(!(a[1]<=e))break;n=a[1],r=a[0]}return r+e-n}(n);var o=a(r/10/126/10),s=a((r-=10*o*126*10)/10/126),c=a((r-=10*s*126)/10);return[o+129,s+48,c+129,r-10*c+48]}}function I(e){var t=e.fatal,n=0;this.handler=function(e,r){if(-1===r&&0!==n)return n=0,f(t);if(-1===r&&0===n)return-1;if(0!==n){var a=n,o=null;n=0;var u=r<127?64:98;switch((i(r,64,126)||i(r,161,254))&&(o=157*(a-129)+(r-u)),o){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var c=null===o?null:b(o,_("big5"));return null===c&&s(r)&&e.prepend(r),null===c?f(t):c}return s(r)?r:i(r,129,254)?(n=r,null):f(t)}}function R(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t))return t;var n=function(e){var t=g=g||_("big5").map((function(e,t){return t<5024?null:e}));return 9552===e||9566===e||9569===e||9578===e||21313===e||21317===e?t.lastIndexOf(e):w(e,t)}(t);if(null===n)return l(t);var r=a(n/157)+129;if(r<161)return l(t);var i=n%157;return[r,i+(i<63?64:98)]}}function L(e){var t=e.fatal,n=!1,r=0;this.handler=function(e,a){if(-1===a&&0!==r)return r=0,f(t);if(-1===a&&0===r)return-1;if(142===r&&i(a,161,223))return r=0,65216+a;if(143===r&&i(a,161,254))return n=!0,r=a,null;if(0!==r){var o=r;r=0;var u=null;return i(o,161,254)&&i(a,161,254)&&(u=b(94*(o-161)+(a-161),_(n?"jis0212":"jis0208"))),n=!1,i(a,161,254)||e.prepend(a),null===u?f(t):u}return s(a)?a:142===a||143===a||i(a,161,254)?(r=a,null):f(t)}}function M(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t))return t;if(165===t)return 92;if(8254===t)return 126;if(i(t,65377,65439))return[142,t-65377+161];8722===t&&(t=65293);var n=w(t,_("jis0208"));return null===n?l(t):[a(n/94)+161,n%94+161]}}function P(e){var t=e.fatal,n=0,r=1,a=2,o=3,s=4,u=5,c=6,l=n,h=n,d=0,p=!1;this.handler=function(e,v){switch(l){default:case n:return 27===v?(l=u,null):i(v,0,127)&&14!==v&&15!==v&&27!==v?(p=!1,v):-1===v?-1:(p=!1,f(t));case r:return 27===v?(l=u,null):92===v?(p=!1,165):126===v?(p=!1,8254):i(v,0,127)&&14!==v&&15!==v&&27!==v&&92!==v&&126!==v?(p=!1,v):-1===v?-1:(p=!1,f(t));case a:return 27===v?(l=u,null):i(v,33,95)?(p=!1,65344+v):-1===v?-1:(p=!1,f(t));case o:return 27===v?(l=u,null):i(v,33,126)?(p=!1,d=v,l=s,null):-1===v?-1:(p=!1,f(t));case s:if(27===v)return l=u,f(t);if(i(v,33,126)){l=o;var g=b(94*(d-33)+v-33,_("jis0208"));return null===g?f(t):g}return-1===v?(l=o,e.prepend(v),f(t)):(l=o,f(t));case u:return 36===v||40===v?(d=v,l=c,null):(e.prepend(v),p=!1,l=h,f(t));case c:var m=d;d=0;var y=null;if(40===m&&66===v&&(y=n),40===m&&74===v&&(y=r),40===m&&73===v&&(y=a),36!==m||64!==v&&66!==v||(y=o),null!==y){l=l=y;var w=p;return p=!0,w?f(t):null}return e.prepend([m,v]),p=!1,l=h,f(t)}}}function C(e){e.fatal;var t=0,n=1,r=2,i=t;this.handler=function(e,o){if(-1===o&&i!==t)return e.prepend(o),i=t,[27,40,66];if(-1===o&&i===t)return-1;if(!(i!==t&&i!==n||14!==o&&15!==o&&27!==o))return l(65533);if(i===t&&u(o))return o;if(i===n&&(u(o)&&92!==o&&126!==o||165==o||8254==o)){if(u(o))return o;if(165===o)return 92;if(8254===o)return 126}if(u(o)&&i!==t)return e.prepend(o),i=t,[27,40,66];if((165===o||8254===o)&&i!==n)return e.prepend(o),i=n,[27,40,74];8722===o&&(o=65293);var s=w(o,_("jis0208"));return null===s?l(o):i!==r?(e.prepend(o),i=r,[27,36,66]):[a(s/94)+33,s%94+33]}}function N(e){var t=e.fatal,n=0;this.handler=function(e,r){if(-1===r&&0!==n)return n=0,f(t);if(-1===r&&0===n)return-1;if(0!==n){var a=n,o=null;n=0;var u=r<127?64:65,c=a<160?129:193;if((i(r,64,126)||i(r,128,252))&&(o=188*(a-c)+r-u),i(o,8836,10715))return 48508+o;var l=null===o?null:b(o,_("jis0208"));return null===l&&s(r)&&e.prepend(r),null===l?f(t):l}return s(r)||128===r?r:i(r,161,223)?65216+r:i(r,129,159)||i(r,224,252)?(n=r,null):f(t)}}function B(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t)||128===t)return t;if(165===t)return 92;if(8254===t)return 126;if(i(t,65377,65439))return t-65377+161;8722===t&&(t=65293);var n=function(e){return(v=v||_("jis0208").map((function(e,t){return i(t,8272,8835)?null:e}))).indexOf(e)}(t);if(null===n)return l(t);var r=a(n/188),o=n%188;return[r+(r<31?129:193),o+(o<63?64:65)]}}function D(e){var t=e.fatal,n=0;this.handler=function(e,r){if(-1===r&&0!==n)return n=0,f(t);if(-1===r&&0===n)return-1;if(0!==n){var a=n,o=null;n=0,i(r,65,254)&&(o=190*(a-129)+(r-65));var u=null===o?null:b(o,_("euc-kr"));return null===o&&s(r)&&e.prepend(r),null===u?f(t):u}return s(r)?r:i(r,129,254)?(n=r,null):f(t)}}function U(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(u(t))return t;var n=w(t,_("euc-kr"));return null===n?l(t):[a(n/190)+129,n%190+65]}}function F(e,t){var n=e>>8,r=255&e;return t?[n,r]:[r,n]}function V(e,t){var n=t.fatal,r=null,a=null;this.handler=function(t,o){if(-1===o&&(null!==r||null!==a))return f(n);if(-1===o&&null===r&&null===a)return-1;if(null===r)return r=o,null;var s;if(s=e?(r<<8)+o:(o<<8)+r,r=null,null!==a){var u=a;return a=null,i(s,56320,57343)?65536+1024*(u-55296)+(s-56320):(t.prepend(F(s,e)),f(n))}return i(s,55296,56319)?(a=s,null):i(s,56320,57343)?f(n):s}}function G(e,t){t.fatal;this.handler=function(t,n){if(-1===n)return-1;if(i(n,0,65535))return F(n,e);var r=F(55296+(n-65536>>10),e),a=F(56320+(n-65536&1023),e);return r.concat(a)}}function H(e){e.fatal;this.handler=function(e,t){return-1===t?-1:s(t)?t:63360+t-128}}function W(e){e.fatal;this.handler=function(e,t){return-1===t?-1:u(t)?t:i(t,63360,63487)?t-63360+128:l(t)}}Object.defineProperty&&(Object.defineProperty(x.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(x.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(x.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),x.prototype.decode=function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=o(t),this._do_not_flush||(this._decoder=y[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var r,i=new c(n),a=[];;){var s=i.read();if(-1===s)break;if(-1===(r=this._decoder.handler(i,s)))break;null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r))}if(!this._do_not_flush){do{if(-1===(r=this._decoder.handler(i,i.read())))break;null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r))}while(!i.endOfStream());this._decoder=null}return function(e){var t,n;return t=["UTF-8","UTF-16LE","UTF-16BE"],n=this._encoding.name,-1===t.indexOf(n)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(e)}.call(this,a)},Object.defineProperty&&Object.defineProperty(O.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),O.prototype.encode=function(e,t){e=void 0===e?"":String(e),t=o(t),this._do_not_flush||(this._encoder=m[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var n,r=new c(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var a=t.charCodeAt(r);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var s=1023&a,u=1023&o;i.push(65536+(s<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(e)),i=[];;){var a=r.read();if(-1===a)break;if(-1===(n=this._encoder.handler(r,a)))break;Array.isArray(n)?i.push.apply(i,n):i.push(n)}if(!this._do_not_flush){for(;-1!==(n=this._encoder.handler(r,r.read()));)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)},m["UTF-8"]=function(e){return new A(e)},y["UTF-8"]=function(e){return new k(e)},"encoding-indexes"in t&&d.forEach((function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach((function(e){var t=e.name,n=_(t.toLowerCase());y[t]=function(e){return new E(n,e)},m[t]=function(e){return new S(n,e)}}))})),y.GBK=function(e){return new j(e)},m.GBK=function(e){return new T(e,!0)},m.gb18030=function(e){return new T(e)},y.gb18030=function(e){return new j(e)},m.Big5=function(e){return new R(e)},y.Big5=function(e){return new I(e)},m["EUC-JP"]=function(e){return new M(e)},y["EUC-JP"]=function(e){return new L(e)},m["ISO-2022-JP"]=function(e){return new C(e)},y["ISO-2022-JP"]=function(e){return new P(e)},m.Shift_JIS=function(e){return new B(e)},y.Shift_JIS=function(e){return new N(e)},m["EUC-KR"]=function(e){return new U(e)},y["EUC-KR"]=function(e){return new D(e)},m["UTF-16BE"]=function(e){return new G(!0,e)},y["UTF-16BE"]=function(e){return new V(!0,e)},m["UTF-16LE"]=function(e){return new G(!1,e)},y["UTF-16LE"]=function(e){return new V(!1,e)},m["x-user-defined"]=function(e){return new W(e)},y["x-user-defined"]=function(e){return new H(e)},e.exports={TextEncoder:O,TextDecoder:x}}).call(this,n("yLpj"))},xGy9:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n\n // Constant-Linear-Exponential\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n";function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o={lightSources:{}};function s(e){var t=void 0===e?{}:e,n=t.color,r=void 0===n?[0,0,0]:n,i=t.intensity,a=void 0===i?1:i;return r.map((function(e){return e*a/255}))}var u={name:"lights",vs:r,fs:r,getUniforms:function e(t){if(void 0===t&&(t=o),"lightSources"in t){var n=t.lightSources||{},r=n.ambientLight,a=n.pointLights,u=n.directionalLights;return r||a&&a.length>0||u&&u.length>0?Object.assign({},function(e){var t=e.ambientLight,n=e.pointLights,r=void 0===n?[]:n,i=e.directionalLights,a=void 0===i?[]:i,o={};return o["lighting_uAmbientLight.color"]=t?s(t):[0,0,0],r.forEach((function(e,t){o["lighting_uPointLight["+t+"].color"]=s(e),o["lighting_uPointLight["+t+"].position"]=e.position,o["lighting_uPointLight["+t+"].attenuation"]=e.attenuation||[1,0,0]})),o.lighting_uPointLightCount=r.length,a.forEach((function(e,t){o["lighting_uDirectionalLight["+t+"].color"]=s(e),o["lighting_uDirectionalLight["+t+"].direction"]=e.direction})),o.lighting_uDirectionalLightCount=a.length,o}({ambientLight:r,pointLights:a,directionalLights:u}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){for(var c,f={pointLights:[],directionalLights:[]},l=i(t.lights||[]);!(c=l()).done;){var h=c.value;switch(h.type){case"ambient":f.ambientLight=h;break;case"directional":f.directionalLights.push(h);break;case"point":f.pointLights.push(h)}}return e({lightSources:f})}return{}},defines:{MAX_LIGHTS:3}}}}]);